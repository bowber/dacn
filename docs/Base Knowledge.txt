================================================================================
BASE KNOWLEDGE - ĐIỀU KHIỂN QUÁ TRÌNH CÔNG NGHỆ HÓA HỌC
================================================================================

ĐẠI HỌC QUỐC GIA TP. HỒ CHÍ MINH
TRƯỜNG ĐẠI HỌC BÁCH KHOA

ĐIỀU KHIỂN QUÁ TRÌNH CÔNG NGHỆ HOÁ HỌC

QUYỂN 1

CƠ SỞ ĐIỀU KHIỂN QUÁ TRÌNH

[Hình minh họa: Giao diện điều khiển hệ thống reactor với các thông số:
- Setpoint Reactor: 000
- Kp: 000
- Ki: 000
- Kd: 000
- Hiển thị nhiệt độ: 0.0 °C
- Các chế độ: Max-Lạnh, Min-Lạnh, PID-Lạnh
- Thiết bị: Pump C, Cooling tower, Pump H, Heater, Reactor]

KHOA KỸ THUẬT HÓA HỌC

================================================================================
Page 1 of 165 - COMPLETED
================================================================================

GIỚI THIỆU

Mỗi nhà máy chế biến hóa chất, thực phẩm hay xử lý môi trường là sự kết hợp của các quá trình và các thiết bị công nghệ khác nhau: như quá trình và thiết bị phản ứng, quá trình và thiết bị phân riêng, quá trình và thiết bị trao đổi nhiệt, hay các quá trình vận chuyển lưu chất, vật liệu rời bao gồm cả máy bơm, quạt, đường ống dẫn và bể chứa v.v.. Các quá trình và thiết bị này được thiết lập một cách có hệ thống nhằm đạt mục tiêu chung là chuyển đổi một loại nguyên liệu nhất định thành sản phẩm hữu ích đảm bảo sự an toàn và hiệu quả kinh tế.

Trong quá trình hoạt động, cần thiết phải tuân thủ những quy trình vận hành để duy trì quá trình ở các điều kiện nhất định đáp ứng các tiêu chí mong muốn. Các tiêu chí này nhằm đạt được các yêu cầu về kỹ thuật, kinh tế và xã hội...do đó chúng phải được theo dõi liên tục cũng như được can thiệp kịp thời từ bên ngoài. Việc theo dõi và can thiệp này được thực hiện thông qua sự kết hợp giữa các thiết bị điều khiển với người vận hành tạo thành một hệ thống điều khiển quá trình.

Các kỹ sư công nghệ thường chịu trách nhiệm về hoạt động của các quá trình hóa học. Khi các quá trình này trở nên quy mô lớn hơn và phức tạp hơn, vai trò của tự động hóa quy trình ngày càng trở nên quan trọng hơn. Mục tiêu của quyển sách này cung cấp quy trình thiết kế hệ thống điều chỉnh các thông số công nghệ riêng lẻ trong đối tượng điều khiển hoặc quá trình.

Quyển sách này là tài liệu cho môn học "Cơ sở điều khiển quá trình" các ngành liên quan như Kỹ thuật Hóa học, Sinh học, Thực phẩm...đồng thời cũng cung cấp kiến thức nền tảng phục vụ cho các môn học khác theo hướng chuyên sâu về Kỹ thuật điều khiển quá trình và thiết bị công nghệ. Quyển sách gồm hai phần lý thuyết và thực hành. Phần lớn nội dung lý thuyết trình bày trong tài liệu là những kiến thức nền tảng và khá thông dụng được tham khảo từ các tài liệu kinh điển về điều khiển quá trình [1]-[8]. Phần thí nghiệm – thực hành bao gồm các bài thực hành trên hệ thống điều khiển thực tế.

Mặc dù đã hết sức cố gắng song tài liệu này vẫn sẽ có những thiếu sót, tác giả mong được sự góp ý của các đồng nghiệp và các bạn sinh viên để tiếp tục hoàn thiện.

TP. HCM, ngày 6 tháng 6 năm 2021
Tác giả: Bùi Ngọc Pha

================================================================================
Page 2 of 165 - COMPLETED
================================================================================

MỤC LỤC

CHƯƠNG 1 ................................................................................................................ 5
TỔNG QUAN VỀ HỆ THỐNG ĐIỀU KHIỂN QUÁ TRÌNH ................................................ 5
    1.1. YÊU CẦU VÀ CHỨC NĂNG HỆ THỐNG ĐIỀU KHIỂN ............................. 6
    1.2. MỘT SỐ KHÁI NIỆM CƠ BẢN ..................................................................... 10
        1.2.1. Quá trình và các biến quá trình .................................................................. 10
        1.2.2. Các thuật ngữ trong điều khiển quá trình ................................................... 17
    1.3. CÁC THÀNH PHẦN HỆ THỐNG ĐIỀU KHIỂN .......................................... 22
        1.3.1. Thiết bị đo ................................................................................................. 25
        1.3.2. Bộ điều khiển ............................................................................................ 27
        1.3.3. Thiết bị chấp hành ..................................................................................... 28
        1.3.4. Các thành phần khác ................................................................................. 30
    1.4. SƠ ĐỒ CẤU TRÚC HỆ THỐNG ĐIỀU KHIỂN QUÁ TRÌNH ..................... 31
    1.5. TỔNG QUAN VỀ THIẾT KẾ HỆ THỐNG ĐIỀU KHIỂN QUÁ TRÌNH ..... 41

CHƯƠNG 2 ............................................................................................................. 43
CÁC SÁCH LƯỢC ĐIỀU KHIỂN CƠ SỞ ....................................................................... 43
    2.1 KHÁI QUÁT VỀ SÁCH LƯỢC ĐIỀU KHIỂN ............................................... 44
    2.2 SÁCH LƯỢC ĐIỀU KHIỂN PHẢN HỒI ........................................................ 49
    2.3 SÁCH LƯỢC ĐIỀU KHIỂN TRUYỀN THẲNG ............................................ 50
    2.4 ĐIỀU KHIỂN KẾT HỢP PHẢN HỒI VÀ TRUYỀN THẲNG ....................... 50
    2.5 SÁCH LƯỢC ĐIỀU KHIỂN TỶ LỆ ............................................................... 51
    2.6 SÁCH LƯỢC ĐIỀU KHIỂN TẦNG ............................................................... 55

CHƯƠNG 3 ............................................................................................................. 57
CẤU TRÚC ĐIỀU CHỈNH CÁC ĐẠI LƯỢNG CƠ BẢN ................................................ 57
    3.1. ĐIỀU CHỈNH LƯU LƯỢNG .......................................................................... 58
    3.2 ĐIỀU CHỈNH MỨC ......................................................................................... 61
    3.3 ĐIỀU CHỈNH ÁP SUẤT ................................................................................. 63
    3.4 ĐIỀU CHỈNH NHIỆT ĐỘ ............................................................................... 66
    3.5 ĐIỀU CHỈNH pH ............................................................................................. 67

================================================================================
Page 3 of 165 - COMPLETED
================================================================================

    3.6 KIỂM SOÁT THÀNH PHẦN VÀ CHẤT LƯỢNG SẢN PHẨM ................. 70

CHƯƠNG 4 ............................................................................................................. 71
ĐẶC TÍNH VÀ MÔ TẢ TOÁN HỌC HỆ THỐNG ĐIỀU KHIỂN .................................. 71
    4.1 ĐẶC TÍNH TĨNH VÀ ĐẶC TÍNH ĐỘNG ..................................................... 72
    4.2 MÔ HÌNH PHƯƠNG TRÌNH VI PHÂN ........................................................ 75
        4.2.1. Mô hình tuyến tính .................................................................................... 75
        4.2.2. Tuyến tính hoá và biến chênh lệch ............................................................ 76
        4.2.3. Ví dụ phương trình vi phân mô tả hệ thống ............................................... 78
    4.3 MÔ HÌNH PHƯƠNG TRÌNH TRẠNG THÁI ............................................... 82
    4.4 MÔ HÌNH HÀM TRUYỀN ............................................................................ 84
        4.4.1. Phép biến đổi Laplace ............................................................................... 84
        4.4.2. Hàm truyền ................................................................................................ 86
        4.4.3. Biểu diễn hàm truyền trên sơ đồ khối ....................................................... 87
    4.5 KHẢO SÁT ĐỘNG HỌC BẰNG CÔNG CỤ MÔ PHỎNG .......................... 89
        4.5.1. Ví dụ bồn chứa lỏng .................................................................................. 89
        4.5.2. Ví dụ thiết bị phản ứng ............................................................................. 92
        4.5.3. Ví dụ hệ bậc hai ........................................................................................ 94

CHƯƠNG 5 ............................................................................................................. 95
PHÂN TÍCH HỆ THỐNG ĐIỀU KHIỂN PHẢN HỒI ..................................................... 95
    5.1 CHẤT LƯỢNG HỆ THỐNG ĐIỀU KHIỂN .................................................. 96
        5.1.1. Đáp ứng của hệ với thay đổi giá trị đặt ..................................................... 96
        5.1.2. Đáp ứng của hệ với thay đổi của nhiễu ..................................................... 98
        5.1.3. Các tiêu chuẩn tối ưu hoá đáp ứng quá độ: ............................................... 99
    5.2 PHÂN TÍCH HỆ THỐNG ĐIỀU KHIỂN PHẢN HỒI ................................. 100
        5.2.1. Phát triển sơ đồ khối điều khiển phản hồi ............................................... 100
        5.2.2. Phát triển hàm truyền của hệ thống điều khiển phản hồi ......................... 104
        5.2.3. Đáp ứng quá độ một số hệ thống điều khiển đơn giản ............................ 107
            5.2.3.1 Hệ quán tính bậc nhất ....................................................................... 107
            5.2.3.2 Khảo sát đáp ứng hệ bậc hai ............................................................. 114

================================================================================
Page 4 of 165 - COMPLETED
================================================================================

    5.3 TÍNH ỔN ĐỊNH CỦA HỆ THỐNG .............................................................. 121

CHƯƠNG 6 ........................................................................................................... 130
THIẾT KẾ HỆ THỐNG ĐIỀU KHIỂN PHẢN HỒI ........................................................ 130
    6.1 CÁC BỘ ĐIỀU KHIỂN PHẢN HỒI ............................................................. 131
        6.1.1. Bộ điều khiển ON-OFF: .......................................................................... 131
        6.1.2. Bộ điều khiển liên tục PID ...................................................................... 136
        6.1.3. Một số chỉ dẫn lựa chọn bộ điều khiển ................................................... 138
            6.1.3.1 Lựa chọn chiều tác động bộ điều khiển ............................................ 138
            6.1.3.2 Lựa chọn quy luật điều khiển ........................................................... 139
    6.2 PHƯƠNG PHÁP XÁC ĐỊNH THÔNG SỐ BỘ ĐIỀU KHIỂN PID ............ 140
        6.2.1. Phương pháp dựa trên mô hình ............................................................... 140
        6.2.2. Các phương pháp chỉnh định thông số bộ điều khiển ............................. 148
        6.2.3. Phần mềm hiệu chỉnh tham số PID ......................................................... 157

Phụ lục 1: Sử dụng MATLAB để khảo sát đặc tính của hệ thống ........................... 160
Phụ lục 2: Hướng dẫn mô phỏng sử dụng Simulink ............................................... 161
Tài liệu tham khảo: ................................................................................................. 164

================================================================================
Page 5 of 165 - COMPLETED
================================================================================

PHẦN I - CƠ SỞ LÝ THUYẾT ĐIỀU KHIỂN QUÁ TRÌNH

CHƯƠNG 1

TỔNG QUAN VỀ HỆ THỐNG ĐIỀU KHIỂN QUÁ TRÌNH

    1.1. Yêu cầu và chức năng hệ thống điều khiển
    1.2. Một số khái niệm cơ bản
    1.3. Các thành phần hệ thống điều khiển
    1.4. Sơ đồ cấu trúc điều khiển quá trình
    1.5. Tổng quan về thiết kế hệ thống điều khiển

================================================================================
Page 6 of 165 - COMPLETED
================================================================================

1.1. YÊU CẦU VÀ CHỨC NĂNG HỆ THỐNG ĐIỀU KHIỂN

Các quá trình trong công nghệ hoá học đều là các hệ động, diễn biến và trạng thái của chúng được xác định thông qua các đại lượng đặc trưng như nhiệt độ, áp suất, mức, lưu lượng, nồng độ...Ở trạng thái ổn định các đại lượng này không thay đổi theo thời gian. Trong quá trình hoạt động, dưới tác động của các yếu tố nhiễu dẫn đến rối loạn diễn biến quá trình, làm giảm năng suất và chất lượng sản phẩm. Để quá trình diễn ra bình thường cần phải liên tục theo dõi và điều khiển chúng.

Điều khiển quá trình được hiểu là ứng dụng kỹ thuật điều khiển tự động, bao gồm nhóm các giải pháp phần cứng và phần mềm, để điều khiển các quá trình và thiết bị công nghệ, nhằm đảm bảo chúng hoạt động theo yêu cầu mong muốn xác định trước.

Các yêu cầu mà hệ thống điều khiển cần phải đáp ứng thường là: đảm bảo quá trình được vận hành an toàn và về lâu dài là nâng cao hiệu quả kinh tế.

Đảm bảo an toàn là yêu cầu trên hết và quan trọng nhất đối cho nhà máy. Yêu cầu điều khiển để đảm bảo an toàn bao gồm an toàn cho con người, an toàn cho máy móc thiết bị và môi trường xung quanh.

[Hình 1.1 Cấu trúc của hệ thống điều khiển an toàn quá trình]
- Phòng ngừa: Thiết kế quá trình → Điều chỉnh → Vòng lặp → Cảnh báo → Van chặn
- Giảm thiệt hại: Sự cố → Ngăn chặn tổn thất → Bảo vệ chủ động → Bảo vệ thụ động → Ứng phó trong nhà máy → Ứng phó bên ngoài
- Thiết bị: FIC, PRT, LSHH, LAH, LSH

Thông thường, một hệ thống điều khiển an toàn quá trình bao gồm nhiều lớp bảo vệ kế tiếp nhau, như được thể hiện trên Hình 1.1. Bốn lớp đầu tiên được thiết kế nhằm phòng ngừa một sự kiện liên quan đến an toàn có thể xảy ra, gọi là các lớp phòng ngừa

================================================================================
Page 7 of 165 - COMPLETED
================================================================================

(prevention). Trong trường hợp nếu các lớp phòng ngừa vẫn không ngăn chặn được sự cố an toàn thì vai trò của các lớp phía trên nhằm Giảm nhẹ tác động của sự cố (Mitigation).

Tại lớp Điều chỉnh, hệ thống điều khiển quá trình có nhiệm vụ duy trì các đại lượng công nghệ trong giới hạn cho phép gọi là giới hạn kiểm soát. Khi các đại lượng này vượt khỏi giới hạn kiểm soát, các lớp tiếp theo có nhiệm vụ đưa ra cảnh báo đến người vận hành, cao hơn là kích hoạt thiết bị bảo vệ, hoặc cao hơn nữa là tự động thực hiện các biện pháp nhằm đưa quá trình về trạng thái an toàn, bao gồm cả dừng một phần hay toàn bộ nhà máy theo trình tự nhất định.

Nâng cao hiệu quả kinh tế: trong thực tế vận hành, các quá trình cần được duy trì tại một điều kiện làm việc cụ thể để tối đa hóa hiệu quả. Ví dụ, để đạt nồng độ tối ưu cho sản phẩm chính của một quá trình phản ứng đang diễn ra, cần thiết phải thực hiện phản ứng tại một điều kiện nhiệt độ, áp suất nhất định, điều này có thể thực hiện được nhờ hệ thống điều khiển liên tục theo dõi và điều khiển chính xác các đại lượng đó.

Theo tác giả Hoàng Minh Sơn [2] việc nâng cao hiệu quả kinh tế chưa chắc hoà đồng với mục đích bảo vệ môi trường bởi chi phí bổ sung cho việc xử lý chất thải. Việc nâng cao chất lượng sản phẩm cũng chưa chắc đồng nghĩa với nâng cao hiệu quả kinh tế bởi chi phí vận hành lớn. Thông thường, vùng vận hành càng gần với các điều kiện ràng buộc, càng mang lại hiệu quả kinh tế cao. Bởi vì phải mất nhiều nguyên liệu thô, năng lượng để tạo ra một sản phẩm có chất lượng vượt xa so với mức giới hạn ràng buộc tối thiểu – do đó chất lượng sản phẩm càng gần mức giới hạn ràng buộc dưới mà không vượt quá, lợi nhuận càng cao. Ngược lại phải mất nhiều nỗ lực xử lý để loại bỏ các tạp chất, do đó nồng độ của tạp chất càng gần mức giới hạn ràng buộc tối đa mà không vượt quá, lợi nhuận cao. Hình 1.2 cho thấy khi chất lượng sản phẩm được điều khiển thật ổn định, người vận hành có thể đưa các giá trị cài đặt gần với mức giới hạn cho phép, nghĩa là đưa quá trình về vùng có khả năng sinh ra lợi nhuận lớn hơn.

================================================================================
Page 8 of 165 - COMPLETED
================================================================================

[Hình 1.2 Biểu đồ kiểm soát sự biến thiên của quá trình]
- Giới hạn ràng buộc trên
- Điểm cài đặt không kinh tế → Điểm cài đặt mới
- Vùng kinh tế
- Giới hạn ràng buộc dưới

CHỨC NĂNG CỦA HỆ THỐNG ĐIỀU KHIỂN:

Hệ thống điều khiển bao gồm nhiều nhóm thực hiện các chức năng khác nhau, như: điều chỉnh, điều khiển trình tự, điều khiển rời rạc, điều khiển vận hành và giám sát. Dưới đây là các định nghĩa về các chức năng trích dẫn của tác giả Hoàng Minh Sơn [2] trong tiêu chuẩn ANSI/ISA 88.01.

Điều chỉnh được định nghĩa "là nhằm duy trì các biến đầu ra của một quá trình gần nhất có thể với các giá trị đặt tương ứng trong các điều kiện tác động nhiễu và giá trị đặt thay đổi"

Lớp Điều chỉnh thực hiện chức năng quan trọng và tiêu biểu nhất của một hệ thống điều khiển quá trình, trong đó một hoặc một số đại lượng công nghệ đặc trưng cho quá trình được duy trì ổn định hoặc thay đổi theo một quy luật nhất định, bất chấp các nhiễu loạn tác động đến quá trình.

Điều khiển rời rạc "là duy trì các trạng thái thiết bị của quá trình tại một giá trị đích lựa chọn từ một tập các trạng thái ổn định biết trước"

Điều khiển rời rạc là chức năng không thể thiếu được của hệ thống điều khiển quá trình, nó được sử dụng trong các bài toán điều khiển an toàn như bật tín hiệu cảnh báo, báo động, hay thực hiện biện pháp bảo vệ, bao gồm cả việc dừng khẩn cấp một phần hay toàn bộ nhà máy. Điều khiển rời rạc cũng được sử dụng để điều khiển thiết bị đơn lẻ như băng tải, máy bơm...

Điều khiển trình tự được định nghĩa "là lớp điều khiển đảm bảo chức năng nhằm chuyển quá trình kỹ thuật qua một trình tự các trạng thái riêng biệt"

Lớp chức năng Điều khiển trình tự có vai trò quan trọng trong việc điều khiển để thực hiện khởi động hoặc dừng một nhóm thiết bị hoặc cả hệ thống thiết bị theo một trình tự

================================================================================
Page 9 of 165 - COMPLETED
================================================================================

nhất định. Ví dụ, điều khiển để khởi động hay dừng hệ thống chưng cất. Hay trong điều khiển quá trình và thiết bị vận hành theo mẻ, nơi hệ thống thiết bị thường phải được khởi động và dừng khi bắt đầu và kết thúc các mẻ.

Điều khiển vận hành và giám sát đảm bảo chức năng quản lý dữ liệu, báo động, giao diện giám sát trên màn hình máy tính (HMI) giúp cho người vận hành có khả năng theo dõi và kiểm soát các đại lượng quá trình theo thời gian thực. Thông qua chức năng này người vận hành có thể can thiệp vào hệ thống khi cần thiết: khởi động hay dừng hệ thống; thay đổi giá trị đặt cho các bộ điều khiển; thay đổi chế độ vận hành; hay chỉnh định tham số cho các bộ điều khiển.

================================================================================
Page 10 of 165 - COMPLETED
================================================================================

1.2. MỘT SỐ KHÁI NIỆM CƠ BẢN

1.2.1. Quá trình và các biến quá trình

Quá trình: là tập hợp một hoặc nhiều các hoạt động có tương tác nhằm biến đổi đầu vào thành đầu ra. Đối với quá trình công nghệ, các hoạt động đó được hiểu là các diễn biến vật lý, hóa học, sinh học... nhằm biến đổi, vận chuyển hoặc lưu trữ nguyên nhiên liệu ban đầu thành sản phẩm mong muốn ở đầu ra.

[Sơ đồ: ĐẦU VÀO → QUÁ TRÌNH (diễn biến vật lý, hoá học...) → ĐẦU RA]

Một nhà máy sản xuất được xem là một quá trình, trong đó bao gồm nhiều quá trình nhỏ hơn tạo thành. Mỗi quá trình nhỏ trong đó có thể do một phân xưởng sản xuất, một cụm thiết bị, hay một thiết bị thực hiện, ví dụ quá trình phản ứng, chưng cất, trao đổi nhiệt, sấy, cô đặc, hấp thu...Các quá trình này được kết nối với nhau theo một cách nhất định thông qua các đường ống dẫn.

[Hình 1.3 Lưu đồ quy trình công nghệ một nhà máy sản xuất]
- Bình cấp dung dịch A, Bình cấp dung dịch B
- Thiết bị phản ứng
- Hơi nóng, Gia nhiệt
- Tháp chưng cất
- Bình ngưng, nước vào, nước ra
- Hồi nước
- Làm nguội
- Nước ngưng
- Sản phẩm đáy, Sản phẩm đỉnh

Trong Hình 1.3 là ví dụ về sơ đồ quy trình công nghệ của một nhà máy sản xuất. Quá trình sản xuất được bắt đầu từ nguyên liệu đầu vào và kết thúc ở sản phẩm đầu ra, trong đó bao gồm nhiều quá trình khác nhau kết hợp lại. Trước hết là cụm các bình cấp nguyên

================================================================================
Page 11 of 165 - COMPLETED
================================================================================

liệu ban đầu A và B, có nhiệm vụ chứa nguyên liệu đảm bảo cung cấp đầy đủ cho quá trình phản ứng sau đó. Cụm thiết bị phản ứng thực hiện quá trình phản ứng, trong đó nhiệt độ phản ứng cần được duy trì tại giá trị chủ đạo bằng cách điều khiển lưu lượng dòng nước đi qua phần vỏ áo của thiết bị; Sản phẩm đầu ra từ quá trình phản ứng là đầu vào cho quá trình chưng cất, cụm thiết bị chưng cất bao gồm tháp chưng cất và các thiết bị trao đổi nhiệt kèm theo. Ngoài ra để vận chuyển, lưu trữ các dòng lưu chất còn có các máy bơm, hệ thống đường ống và bể chứa.

Mục đích cuối cùng của hệ thống điều khiển là duy trì quá trình hoạt động một cách an toàn và hiệu quả kinh tế. Để thiết kế hệ thống điều khiển nhằm đạt được những mục đích này, trước tiên cần phải khảo sát toàn bộ quá trình công nghệ, bằng cách xem xét từng quá trình nhỏ trong đó. Xác định xem những đại lượng, thông số nào của quá trình cần phải kiểm soát; những yếu tố, tác động nào làm ảnh hưởng đến diễn biến của quá trình.

Diễn biến và trạng thái hoạt động của quá trình được thể hiện thông qua các đại lượng, thông số ở đầu vào và đầu ra. Những đại lượng, thông số đó được gọi quy ước là các biến quá trình. Các biến quá trình hoá công nghệ thường gặp là nhiệt độ, áp suất, lưu lượng, mức lượng, nồng độ, độ pH, độ ẩm v.v...Sự phân loại các biến quá trình thể hiện trên Sơ đồ khối Hình 1.4.

[Hình 1.4 Sơ đồ khối biểu diễn các biến quá trình]
- Biến vào
- Các biến nhiễu Z
- Các biến điều khiển X (tác động điều khiển)
- QUÁ TRÌNH
- Các biến cần (được) điều khiển, Y
- Các biến không cần điều khiển
- Biến ra

Các biến quá trình được chia thành nhóm các biến vào (X, Z) và nhóm các biến ra (Y).
Các biến vào (input variables) là các biến quá trình phản ánh tác động từ bên ngoài vào quá trình, là những nguyên nhân làm biến đổi quá trình. Các biến vào của đối tượng hoá công nghệ được hiểu là sự thay đổi lưu lượng, thay đổi thành phần của lưu chất hay nhiệt lượng cung cấp...

================================================================================
Page 12 of 165 - COMPLETED
================================================================================

Các biến ra (output variables) là các biến quá trình thể hiện tác động của quá trình ra bên ngoài, đặc trưng cho kết quả hay hệ quả của quá trình. Các biến ra của đối tượng hoá công nghệ được hiểu là: nhiệt độ, áp suất, mức chất lỏng trong thiết bị; hay nồng độ sản phẩm, lưu lượng sản phẩm, hàm lượng khí thải, nước thải...

Các biến quá trình phản ánh thông tin về quá trình, nên cần lưu ý rằng không phải đại lượng hay yếu tố nào thuộc đầu vào quá trình cũng là biến vào, không phải đại lượng hay yếu tố nào thuộc đầu ra cũng đều là biến ra.

Trong các biến ra không phải biến ra nào cũng cần phải kiểm tra và điều khiển. Các biến ra được phân loại thành biến cần điều khiển và biến không cần điều khiển. Trong số các biến cần điều khiển lại chia ra thành biến đo được và biến không đo được. Trường hợp biến cần điều khiển nhưng không đo được mà nó có thể biết được gián tiếp thông qua một biến trung gian thứ hai, biến trung gian này gọi là biến được điều khiển. Trong trường hợp biến cần điều khiển có thể đo được thì nó cũng được gọi là biến được điều khiển.

[Sơ đồ phân loại biến ra]
Biến ra (Output variables) → 1. Cần (được) điều khiển (Controlled, CV) → Đo được (Measured) / Không đo được (Unmeasured)
                           → 2. Không cần điều khiển

Biến cần điều khiển (Controlled Variable, CV) là những biến vào liên quan trực tiếp với mục đích, yêu cầu của quá trình cần đạt được. Các biến cần điều khiển đặc trưng cho sự vận hành ổn định, an toàn của hệ thống hoặc chất lượng sản phẩm. Ví dụ: mức lỏng, mức vật liệu hay áp suất trong hệ thống cần phải duy trì trong các giới hạn ràng buộc nhằm đảm bảo hệ thống vận hành ổn định và an toàn; Nhiệt độ cuối của quá trình đun nóng cần phải đạt được và duy trì ở giá trị yêu cầu; Lưu lượng hay nồng độ sản phẩm cần thiết phải điều chỉnh nhằm đảm bảo sản phẩm đạt năng suất và chất lượng mong muốn.

Trong các biến vào không phải biến vào nào cũng có thể can thiệp được. Các biến vào lại được phân thành hai nhóm các biến điều khiển và các biến nhiễu.

[Sơ đồ phân loại biến vào]
Biến vào (Input variables) → 1. Biến điều khiển (tác động điều khiển) (Manipulated, MV)
                           → 2. Biến nhiễu (tác động nhiễu) (Disturbance, DV) → Nhiễu quá trình / Nhiễu đo

Biến điều khiển (Manipulated Variable, MV) hay còn gọi là tác động điều khiển là các biến vào của quá trình mà ta có thể can thiệp hay tác động trực tiếp vào nó, từ đó có thể

================================================================================
Page 13 of 165 - COMPLETED
================================================================================

đạt được các biến cần điều khiển theo yêu cầu mong muốn. Tác động điều khiển quan trọng thường gặp nhất là lưu lượng dòng vào và dòng ra của quá trình, năng suất nhập liệu; lưu lượng chất tải nhiệt; nhiệt lượng cung cấp.v.v..

Biến nhiễu (Disturbance Variable, DV) là các biến vào, có sự tác động, ảnh hưởng đến quá trình mà không nhận biết được hoặc biết được nhưng không can thiệp được trong phạm vi quá trình đang quan tâm. Biến nhiễu bao gồm nhiễu quá trình và nhiễu đo.

Nhiễu quá trình là những yếu tố nhiễu cố hữu tác động gây nên những biến đổi của quá trình nhưng không can thiệp được. Nhiễu quá trình được hiểu là nhiệt độ, nồng độ... đầu vào quá trình luôn luôn biến đổi; lưu lượng dòng quá trình không kiểm soát được; sự thay đổi của thời tiết; sự tổn thất nhiệt lượng...

Nhiễu đo là những yếu tố nhiễu tác động ảnh hưởng gây nên sai số trong đo lường phục vụ hoạt động điều khiển.

VÍ DỤ 1.1: Phân loại các biến quá trình chứa chất lỏng

Sơ đồ bồn chứa lỏng được đưa ra ở Hình 1.5, trong đó có một dòng vào với lưu lượng Fᵢ, một dòng ra với lưu lượng Fₒ và chiều cao mức lỏng trong bình chứa là h.

Với những dữ kiện đã cho, quá trình chứa lỏng này có 3 biến đặc trưng Fᵢ, Fₒ và h.

Bài toán đặt ra là: tuỳ thuộc vào mục đích của bồn chứa được sử dụng, hãy phân loại và lựa chọn các biến quá trình, thể hiện chúng trên sơ đồ khối về các biến quá trình?

[Hình 1.5 Sơ đồ bồn chứa chất lỏng]
- Biến nhiễu
- Biến điều khiển → BÌNH CHỨA → Biến cần điều khiển
- Fᵢ (dòng vào), h (mức lỏng), Fₒ (dòng ra)

Các quá trình bồn chứa lỏng thường có mục đích sử dụng khác nhau. Trong sản xuất bồn chứa được dùng để lưu trữ nguyên liệu hay sản phẩm; Bồn chứa được sử dụng để cấp lỏng theo nhu cầu sử dụng khác nhau ở quá trình sau đó; Bồn chứa cũng được sử dụng

================================================================================
Page 14 of 165 - COMPLETED
================================================================================

để làm bồn trung gian nhằm giảm sự tương tác giữa các quá trình liên tiếp nhau, giảm biến thiên đầu vào cho quá trình kế tiếp; Hay các bồn chứa quá trình có chức năng tạo không gian và thời gian thực hiện các quá trình, ví dụ thiết bị phản ứng, thiết bị trao đổi nhiệt, bình khuấy trộn v.v. là những bồn chứa quá trình tiêu biểu.

Sau đây ta xét một số trường hợp thường gặp trong thực tế:

Trường hợp thứ 1 (TH1): Bồn chứa được sử dụng với mục đích cung cấp chất lỏng cho nhu cầu sử dụng khác nhau ở quá trình tiếp theo. Chẳng hạn như bồn chứa dung dịch cấp cho một quá trình sản xuất, hay bồn chứa nước phục vụ nhu cầu sinh hoạt.

Mặc dù chất lỏng chảy vào và ra khỏi bình nhưng lưu lượng cả hai dòng này đều được coi là các biến vào. Trong khi mức chất lỏng h cần phải giữ ổn định nên được coi là một biến ra cần điều khiển của quá trình. Thực tế sử dụng, mức lỏng có thể thay đổi do cả 2 nguyên nhân: lưu lượng lỏng ra Fₒ lúc nhiều lúc ít, lưu lượng lỏng cấp vào Fᵢ cũng có thể thay đổi. Trong trường hợp này, lưu lượng lỏng ra Fₒ ta không can thiệp được do nó phụ thuộc vào nhu cầu nhiều ít khác nhau của quá trình hay người sử dụng sau đó, nên Fₒ được coi là biến nhiễu. Lưu lượng dòng vào Fᵢ có thể can thiệp được bằng cách lắp thêm van điều khiển trên đường ống cấp lỏng, nên Fᵢ được chọn là biến điều khiển. Như vậy để đáp ứng yêu cầu ổn định mức chất lỏng h, cần điều khiển độ mở van cấp lỏng, tức là thay đổi lưu lượng dòng cấp Fᵢ thông qua van điều khiển. Trên Hình 1.6 biểu diễn sơ đồ các biến quá trình và lưu đồ điều khiển mức lỏng cho trường hợp 1 này.

[Hình 1.6 Sơ đồ khối các biến quá trình và lưu đồ cấu trúc điều khiển TH1]
- Biến nhiễu: Fₒ
- Biến điều khiển: Fᵢ → BÌNH CHỨA → Biến cần điều khiển: h
- Sơ đồ điều khiển mức: Điều khiển mức, So sánh (SP), Đo mức
- Dòng vào Fᵢ, ρᵢ và dòng ra Fₒ, ρₒ

Trường hợp thứ 2 (TH2): Bồn chứa lỏng được sử dụng để lưu trữ chất lỏng cho một quá trình trước đó. Khi đó mục đích điều khiển vẫn là giữ ổn định chiều cao mức chất lỏng,

================================================================================
Page 15 of 165 - COMPLETED
================================================================================

nghĩa là chiều cao h vẫn là biến cần điều khiển, nhưng vai trò của các biến vào sẽ khác. Cụ thể biến nhiễu sẽ là lưu lượng dòng vào Fᵢ do nó phụ thuộc vào quá trình đứng trước đó, còn biến điều khiển lại là lưu lượng dòng ra Fₒ. Trên Hình 1.7 biểu diễn sơ đồ các biến quá trình và lưu đồ điều khiển mức lỏng cho trường hợp 2 này.

[Hình 1.7 Sơ đồ khối các biến quá trình và lưu đồ cấu trúc điều khiển TH2]
- Biến nhiễu: Fᵢ
- Biến điều khiển: Fₒ → BÌNH CHỨA → Biến cần điều khiển: h
- Sơ đồ điều khiển mức: Điều khiển mức, So sánh (SP), Đo mức
- Dòng vào Fᵢ và dòng ra Fₒ

Trường hợp thứ 3 (TH3): Bồn chứa được sử dụng để chứa lỏng với mục đích ổn định lưu lượng lỏng ra Fₒ cho quá trình tiếp theo. Bồn chứa có chức năng như vậy thường gặp nhất là các bồn cao vị sử dụng trong Hệ thống cô đặc hay Hệ thống chưng cất và một số Hệ thống khác. Trong trường hợp này, các biến quá trình vẫn là h, Fᵢ và Fₒ nhưng vai trò của chúng lại khác so với 2 trường hợp trên. Lưu lượng lỏng ra Fₒ cần phải giữ ổn định để đáp ứng nhu cầu của quá trình phía sau với giá trị cài đặt mong muốn, vì vậy Fₒ là biến cần điều chỉnh để giữ ổn định ở giá trị đặt. Nhưng mức lỏng h cũng cần phải giữ cho ổn định nên cũng là biến cần điều khiển. Trong trường hợp này, cần có 2 vòng điều khiển: vòng điều khiển mức vẫn giữ nguyên như trường hợp thứ 2, bổ sung thêm vòng điều khiển lưu lượng Fₒ. Đối với vòng điều khiển lưu lượng Fₒ, cần phải gắn thêm van điều khiển lưu lượng trên dòng ra.

Trên Hình 1.8 biến nhiễu chưa được thể hiện do đề bài đặt ra giả thiết ở quá trình chứa lỏng nêu trên chỉ có sự tham dự của 3 biến quá trình đặc trưng là h, Fᵢ và Fₒ. Thực tế, có thể có biến nhiễu tác động vào quá trình như áp suất trên đường ống dẫn, hay nhiệt độ dòng lỏng vào.

Ngoài ra, trong vòng điều khiển lưu lượng, ta thấy rằng đại lượng lưu lượng Fₒ đóng vai trò vừa là biến vào, vừa là biến ra. Như vậy vòng điều khiển lưu lượng trong điều khiển

================================================================================
Page 16 of 165 - COMPLETED
================================================================================

quá trình là một vòng điều khiển đặc biệt, trong đó một đại lượng công nghệ vừa đóng vai trò là biến cần điều khiển, vừa là biến điều khiển.

[Hình 1.8 Sơ đồ khối các biến quá trình và lưu đồ cấu trúc điều khiển TH3]
- Nhiễu
- Các biến điều khiển: Fᵢ → BÌNH CHỨA → Biến cần điều khiển: h, Fₒ
- Sơ đồ điều khiển: 
  + Vòng điều khiển mức: Điều khiển mức, So sánh (SP), Đo mức
  + Vòng điều khiển lưu lượng: Điều khiển lưu lượng, So sánh (SP), Đo lưu lượng
- Dòng vào Fᵢ và dòng ra Fₒ

Từ ví dụ nêu trên, chúng ta có thể nêu ra rất nhiều những ví dụ thực tế đa dạng và còn phức tạp hơn nhiều mỗi khi chúng ta muốn xác định cho đúng, cho đủ các biến quá trình cũng như lựa chọn những phương thức điều khiển cho phù hợp, đáp ứng được những mục đích đặt ra cho quá trình công nghệ cần điều khiển.

Thông qua ví dụ trên, dễ nhận thấy rằng việc xác định những biến cần điều khiển cho một quá trình là bước đầu tiên và quan trọng xuất phát từ mục đích yêu cầu cần đạt được của quá trình cụ thể, từ đó xác định được các biến điều khiển có thể can thiệp được cũng như các biến nhiễu của quá trình. Trong điều khiển quá trình, việc xác định các biến quá trình là hết sức quan trọng và cần thiết. Trên cơ sở này, bước tiếp theo là xây dựng các phương pháp và cách thức điều khiển mà thường được gọi là Sách lược điều khiển.

================================================================================
Page 17 of 165 - COMPLETED
================================================================================

1.2.2. Các thuật ngữ trong điều khiển quá trình

Điều khiển (Control) là sách lược và tác động có định hướng lên đối tượng điều khiển nhằm đảm bảo cho nó hoạt động theo yêu cầu mong muốn. Điều khiển có thể được thực hiện thủ công hoặc tự động. Điều khiển thủ công (manual control) các tác động lên đối tượng điều khiển, theo dõi diễn biến quá trình đều do người vận hành thực hiện. Ví dụ, điều khiển mức chất lỏng trong bình chứa trên Hình 1.9 do con người thực hiện.

[Hình 1.9 Điều khiển thủ công]
- Sơ đồ khối: Người điều phối → u → BÌNH CHỨA → y
- Biến nhiễu z tác động vào bình chứa
- Hình minh họa: Người điều khiển van thủ công để điều chỉnh mức nước trong bồn

[Hình 1.10 Điều khiển tự động]
- Hệ thống điều khiển tự động với cảm biến mức, bộ điều khiển và van điều khiển

Trong điều khiển tự động (automatic control) các tác động lên đối tượng điều khiển được thực hiện nhờ nhóm các giải pháp phần cứng và phần mềm, tạo nên một hệ thống điều khiển tự động. Ví dụ mức chất lỏng như trên Hình 1.10 được điều khiển hoàn toàn bằng các thiết bị tự động hoá thay thế tác động của con người.

Điều chỉnh (Regulatory control) là duy trì ổn định đại lượng đầu ra của đối tượng điều khiển bám theo giá trị chủ đạo bằng cách đưa vào đối tượng các tác động điều khiển. Điều chỉnh là một lớp chức năng quan trọng của hệ thống điều khiển quá trình, trong đó

================================================================================
Page 18 of 165 - COMPLETED
================================================================================

các đại lượng đầu ra của quá trình như nhiệt độ, áp suất, lưu lượng, mức, nồng độ… cần phải duy trì ổn định tại giá trị chủ đạo hay giá trị đặt mong muốn.

Vòng điều khiển (control loop) là một chu trình thực hiện việc điều khiển. Bất kỳ một vòng điều khiển quá trình nào trong công nghiệp cũng đều thực hiện ba tác vụ, đó là: đo lường, tính toán và đưa ra tác động can thiệp tới quá trình.

Trong điều khiển mức chất lỏng như trên Hình 1.10, vòng điều khiển bắt đầu với việc đo lường mức chất lỏng trong bồn chứa bằng thiết bị đo. Bộ điều khiển tính toán dựa trên giá trị nhận được và đưa ra tác động can thiệp vào quá trình bằng cách tăng hoặc giảm độ mở van cấp, qua đó nhằm đạt được giá trị mức chất lỏng trong bể chứa như mong muốn. Vòng điều khiển lặp lại quá trình "đo - tính toán - tác động can thiệp" khi có sự chênh lệch mức chất lỏng so với giá trị đặt mong muốn.

Sơ đồ khối điều khiển là Sơ đồ cấu trúc điều khiển mô tả dòng thông tin và các khối chức năng trong một vòng điều khiển. Các Hình 1.11, Hình 1.12, Hình 1.13 và Hình 1.14 thể hiện các Sơ đồ khối điều khiển dựa theo các nguyên lý điều khiển khác nhau.

[Hình 1.11 Sơ đồ khối cấu trúc điều khiển theo tác động phản hồi]
- Giá trị đặt Ysp → Thiết bị điều khiển → Tác động điều khiển U → QUÁ TRÌNH → Đầu ra Y
- Nhiễu Z tác động vào quá trình
- Có đường phản hồi từ đầu ra Y về thiết bị điều khiển

[Hình 1.12 Sơ đồ khối cấu trúc điều khiển theo tác động của nhiễu]
- Giá trị đặt Ysp → Thiết bị điều khiển → Tác động điều khiển U → QUÁ TRÌNH → Đầu ra Y
- Nhiễu Z tác động vào quá trình và được đo để đưa vào thiết bị điều khiển

================================================================================
Page 19 of 165 - COMPLETED
================================================================================

[Hình 1.13 Sơ đồ khối cấu trúc điều khiển theo tác động kết hợp]
- Giá trị đặt Ysp → Thiết bị điều khiển → Tác động điều khiển U → QUÁ TRÌNH → Đầu ra Y
- Nhiễu Z tác động vào quá trình
- Có cả đường phản hồi từ đầu ra Y và đường đo nhiễu Z đưa vào thiết bị điều khiển

[Hình 1.14 Sơ đồ khối cấu trúc điều khiển theo tác động thiết lập]
- Giá trị đặt Ysp → Thiết bị điều khiển → Tác động điều khiển U → QUÁ TRÌNH → Đầu ra Y
- Nhiễu Z tác động vào quá trình
- Không có đường phản hồi (điều khiển vòng hở)

Giá trị đặt (Setpoint, SP): là giá trị đầu ra của quá trình mà ta mong muốn đạt được, giá trị đặt chính là giá trị mà ta mong muốn biến cần điều khiển đạt được. Giá trị đặt còn gọi là giá trị chủ đạo. Giá trị đặt có thể được thiết lập bởi người điều hành hay được tính toán từ thuật toán tối ưu trong một máy tính sau đó đưa vào bộ điều khiển.

Sai lệch điều khiển (Error, e): là sự khác biệt giữa giá trị đặt và giá trị biến ra cần điều khiển của quá trình. Sai lệch điều khiển là một hàm số theo thời gian, sai lệch điều khiển tại bất kỳ thời điểm nào cũng có thể tính theo công thức:

                    e = Ysp - Y(t)

Trong đó Ysp và Y(t) tương ứng là giá trị đặt và giá trị tức thời của biến cần điều khiển.

Mục tiêu của bất kỳ hệ thống điều chỉnh nào đều là giảm thiểu hoặc triệt tiêu sai lệch. Vì vậy sai lệch điều khiển cần phải được hiểu rõ. Bất kỳ sai lệch nào cũng có thể được coi là có ba thành phần chính, ba thành phần này được hiển thị trên Hình 1.15, bao gồm:

================================================================================
Page 20 of 165 - COMPLETED
================================================================================

Độ lớn (magnitude): Độ lớn của sai lệch là độ lệch giữa giá trị đặt và giá trị biến ra cần điều khiển của quá trình tại thời điểm hiện tại. Độ lớn của sai lệch tại thời điểm hiện tại so với sai lệch trước đó cung cấp cơ sở để xác định xu hướng thay đổi, xu hướng thay đổi là một thông tin quan trọng trong thiết kế điều khiển.

Thời gian tồn tại (duration): Khoảng thời gian tồn tại của sai lệch tính từ lúc bắt đầu đến thời điểm hiện tại.

Tốc độ thay đổi (rate of change): Tốc độ thay đổi của sai lệch biểu diễn bởi độ dốc của đồ thị sai lệch theo thời gian, tại thời điểm ta quan tâm.

[Hình 1.15 Các thành phần của sai lệch điều khiển]
- Đồ thị biểu diễn PV theo Time
- Đường cong Y dao động quanh giá trị đặt Ysp
- Các thành phần: Tốc độ thay đổi (độ dốc), Độ lớn, Thời gian

Quy luật điều khiển (Control algorithm) là thuật toán biểu diễn mối quan hệ giữa giá trị đầu ra với giá trị đầu vào của bộ điều khiển trong quá trình điều khiển:

                    U = f(e).

Bộ điều khiển nhận các giá trị đầu vào và đưa ra tác động điều khiến dựa trên quy luật điều khiển hay thuật toán đã được cài đặt sẵn.

Quy luật điều khiển đơn giản có thể chỉ là các giá trị cố định nào đó của đầu ra ứng với các khoảng của giá trị sai lệch điều khiển, ví dụ đầu ra nhận giá trị tối đa nào đó khi đầu vào nhỏ hơn một giá trị cho phép (e ≤ δ) và ngược lại (thuật toán ON//OFF):

================================================================================
Page 21 of 165 - COMPLETED
================================================================================

                    U = { Umax  khi e ≤ δ
                        { Umin  khi e > δ

Quy luật điều khiển cũng có thể là hàm số mô tả sự khuếch đại đầu ra U với độ lớn sai lệch điều khiển e ở thời điểm hiện tại, theo một hệ số tỷ lệ kp (thuật toán tỷ lệ, P):

                    U = kp.e = kp.(ysp - y)

Quy luật điều khiển cũng có thể là hàm số mô tả mối quan hệ giữa đầu ra U với tích luỹ của sai lệch e đến thời điểm hiện tại, theo một hệ số tỷ lệ kI (thuật toán tích phân, I):

                    U = kI. ∫₀ᵗ edt = kI. ∫₀ᵗ (ysp - y)dt

Thuật toán điều khiển cũng có thể là hàm số mô tả mối quan hệ giữa đầu ra bộ điều khiển với tốc độ thay đổi của sai lệch, theo một hệ số tỷ lệ kD (thuật toán vi phân, D):

                    U = kD. de/dt = kD. d(ysp - y)/dt

Quy luật điều khiển cũng có thể là các thuật toán phức tạp hơn sẽ trình bày ở các phần sau. Các thuật toán này được thiết lập hoặc cài đặt trong các bộ điều khiển với tên gọi tương ứng: bộ điều khiển 2 trạng thái (thuật toán ON/OFF) hay bộ điều khiển liên tục PID (cài đặt các thuật toán P hoặc I hoặc D hoặc kết hợp giữa chúng):

                    U = P + I + D

                    U = kp.e + kI. ∫₀ᵗ edt + kD. de/dt

================================================================================
Page 22 of 165 - COMPLETED
================================================================================

1.3. CÁC THÀNH PHẦN HỆ THỐNG ĐIỀU KHIỂN

Hệ thống điều khiển quá trình được minh hoạ trên Hình 1.16 chứa đựng trong đó toàn bộ các giải pháp đo lường, điều khiển, vận hành và giám sát nhằm mục đích kiểm soát quá trình công nghệ hoạt động an toàn và hiệu quả kinh tế.

[Hình 1.16 Hệ thống điều khiển quá trình]
- HỆ THỐNG VẬN HÀNH VÀ GIÁM SÁT (màn hình máy tính hiển thị đồ thị)
- Tín hiệu điều khiển ↔ BỘ ĐIỀU KHIỂN ↔ Tín hiệu vào
- THIẾT BỊ CHẤP HÀNH (van điều khiển) ← Tín hiệu điều khiển
- THIẾT BỊ ĐO → Tín hiệu vào
- QUÁ TRÌNH (bình chứa với dòng vào và ra)

Theo tác giả Hoàng Minh Sơn [2], một hệ thống điều khiển quá trình có thể được phân thành các cấp: cấp giao diện quá trình, cấp điều khiển và cấp vận hành giám sát.

Cấp giao diện quá trình bao gồm thiết bị đo và thiết bị chấp hành thực hiện các chức năng đo lường, hiển thị ghi chép tại chỗ, đóng ngắt, truyền động, bảo vệ hay can thiệp trực tiếp vào quá trình qua các biến điều khiển.

Cấp điều khiển bao gồm các bộ điều khiển thực hiện chức năng điều chỉnh, điều khiển rời rạc, điều khiển trình tự.

Cấp vận hành và giám sát có sự tham gia của người vận hành bao gồm các chức năng giao diện người – máy, lưu trữ dữ liệu, quản lý sự kiện, báo cáo tự động và báo động.

================================================================================
Page 23 of 165 - COMPLETED
================================================================================

Một hệ thống điều khiển phức tạp thường bao gồm nhiều vòng điều khiển khác nhau. Sau đây chúng ta xem xét các thành phần của một vòng điều khiển nói chung thông qua ví dụ minh họa.

VÍ DỤ 1.2: Hệ thống điều chỉnh tự động thiết bị trao đổi nhiệt

Hệ thống như ở Hình 1.17 này được thiết kế để điều chỉnh tự động nhiệt độ cho một thiết bị phản ứng khuấy trộn liên tục. Dung dịch trong thiết bị phản ứng được gia nhiệt bằng hơi nước bão hoà cấp vào vỏ áo. Nhiệt độ của dung dịch phản ứng cần phải duy trì tại giá trị cài đặt Tsp nhờ hệ thống thiết bị điều khiển. Biến được điều khiển là nhiệt độ dung dịch T, biến điều khiển được chọn là lưu lượng dòng hơi nước bão hoà Fs.

[Hình 1.17 Điều khiển nhiệt độ thiết bị phản ứng khuấy trộn liên tục]
- Thiết bị phản ứng khuấy trộn với vỏ áo gia nhiệt
- Dòng hơi vào (A, B) với Pz = f(e, t)
- Bộ điều khiển nhận tín hiệu chênh lệch e = Tsp - T
- Giá trị đặt Tsp → So sánh → Giá trị đo T
- Thiết bị đo nhiệt độ đo nhiệt độ T trong bình
- Nước ngưng ra (C)

Nguyên tắc hoạt động của hệ thống điều khiển nhiệt độ này như sau: nhiệt độ hỗn hợp trong thiết bị phản ứng được đo bằng thiết bị đo nhiệt độ (cặp nhiệt) và được so sánh với giá trị cài đặt Tsp. Giá trị chênh lệch e = Tsp - T được chuyển tới bộ điều khiển, bộ điều khiển tính toán tín hiệu điều khiển theo một thuật toán đã được cài đặt sẵn. Tín hiệu này được đưa tới van điều khiển gắn trên đường cấp hơi làm thay đổi độ mở van qua đó điều khiển chỉnh lưu lượng dòng hơi sao cho làm giảm độ lớn của sai lệch e.

Hệ thống điều khiển nhiệt độ thiết bị phản ứng này bao gồm các thành phần cơ bản:
(1)    Thiết bị đo (thiết bị đo nhiệt độ);
(2)    Bộ điều khiển (bộ điều khiển nhiệt độ);
(3)    Thiết bị chấp hành (van điều khiển).

================================================================================
Page 24 of 165 - COMPLETED
================================================================================

Mỗi thành phần này có thể được xác định dễ dàng và riêng biệt trong hệ thống. Các thành phần này sẽ cấu thành hầu hết các hệ thống điều khiển mà chúng ta xem xét trong tài liệu này, tuy nhiên còn tồn tại các hệ thống điều khiển phức tạp hơn trong đó có nhiều thành phần hơn được sử dụng. Ví dụ, một số quá trình yêu cầu hệ thống điều khiển theo tầng trong đó sử dụng hai bộ điều khiển và hai thiết bị đo.

Các chức năng của mỗi thành phần và thông tin liên hệ giữa chúng trong một hệ thống điều khiển được thể hiện trên Sơ đồ khối điều khiển như Hình 1.18

[Hình 1.18 Sơ đồ khối điều khiển]
- HỆ THỐNG ĐIỀU KHIỂN (khung bao quanh)
- Biến nhiễu LV
- Giá trị đặt SP → Bộ điều khiển → Tín hiệu điều khiển CO → Thiết bị chấp hành → Biến điều khiển MV → QUÁ TRÌNH → Biến cần điều khiển CV
- Tín hiệu đo PM ← Thiết bị đo ← Đại lượng đo PV
- Đường phản hồi từ Thiết bị đo về Bộ điều khiển

Một quá trình công nghiệp phức tạp thường sẽ có nhiều vòng điều khiển tự động, mỗi vòng điều khiển là một hệ thống duy trì một biến quá trình cụ thể ở một giá trị đặt mong muốn. Các hệ thống điều khiển này thuộc nhóm hệ thống điều chỉnh tự động.

Thông thường, một hệ thống điều chỉnh phải có khả năng giải quyết hai vấn đề, hay còn gọi là hai bài toán: bài toán bám giá trị đặt và bài toán loại bỏ nhiễu.

(1) Đưa biến cần điều khiển đến giá trị đặt, hoặc chuyển từ giá trị đặt này sang giá trị cài đặt mới, hoặc bám theo một giá trị đặt thay đổi (được gọi là bài toán bám giá trị đặt). Ví dụ, người ta có thể quan tâm đến việc thay đổi nhiệt độ của lò phản ứng theo diễn biến nhiệt độ được thiết lập trước.

(2) Duy trì biến cần điều khiển ở giá trị đặt cố định bất chấp các nhiễu có thể gặp phải (được gọi là bài toán loại bỏ nhiễu). Trong công nghiệp hoá chất các quá trình thường vận hành liên tục, các giá trị đặt ít thay đổi nên vấn đề điều khiển loại bỏ nhiễu có vai trò quan trọng và phổ biến hơn.

================================================================================
Page 25 of 165 - COMPLETED
================================================================================

1.3.1. Thiết bị đo

Các thiết bị đo (Measurement equipment): thường được gọi theo tên của các đại lượng mà nó đo, trong điều khiển quá trình thường gặp các thiết bị đo: thiết bị đo nhiệt độ, thiết bị đo lưu lượng, thiết bị đo mức chất lỏng, thiết bị đo áp suất, thiết bị đo pH, thiết bị đo độ ẩm, v.v.

Chức năng của thiết bị đo là cung cấp một tín hiệu ra tỉ lệ tương ứng với đại lượng đo. Thông thường trong một thiết bị đo có hai thành phần cơ bản là cảm biến và bộ chuyển tín hiệu.

[Sơ đồ khối Thiết bị đo]
Biến đo → [Cảm biến/Sensor] → [Chuyển đổi đo/transmitter] → Tín hiệu đo chuẩn

Cảm biến (sensor) thực hiện chức năng tự động cảm nhận đại lượng cần kiểm tra của quá trình kỹ thuật (như lưu lượng, nhiệt độ, mức..) và biến đổi thành một tín hiệu đo. Như Hình 1.19 các cảm biến được chế tạo dựa trên các nguyên lý vật lý khác nhau, đại lượng vật lý được thu nhận và biến đổi thành các tín hiệu đo. Để có thể truyền xa và sử dụng được trong thiết bị điều khiển hoặc dụng cụ chỉ báo, tín hiệu ra từ cảm biến cần được xử lý và chuyển sang một dạng thích hợp thông qua bộ chuyển đổi đo.

[Hình 1.19 Cơ cấu của cảm biến]
- Đại lượng đo (đầu vào):
  + Nhiệt độ
  + Áp suất
  + Lưu lượng
  + Mức
  + Nồng độ
  + Độ ẩm
  + Khoảng cách
  + Vận tốc
  + Khối lượng
  + Thời gian
- CẢM BIẾN: Thu nhận → Bằng cách ứng dụng các nguyên tắc vật lý khác nhau, đại lượng vật lý được thu nhận và biến đổi thành: → Xuất
- Tín hiệu đo (đầu ra):
  + Điện áp
  + Năng lượng
  + Điện trở
  + Điện dung
  + Điện trường

================================================================================
Page 26 of 165 - COMPLETED
================================================================================

Bộ chuyển đổi đo (Transmitter) là một thiết bị chuyển giá trị đọc được từ cảm biến thành một tín hiệu chuẩn ở đầu ra. Các bộ chuyển đổi đo hay truyền tín hiệu như: Pressure transmitters, Flow transmitters, Temperature transmitters, Level transmitters, Analytic O₂, CO, và pH transmitters.

Tín hiệu chuẩn (Signals): trong hệ thống điều khiển quá trình công nghiệp, có 2 loại tín hiệu chủ yếu để truyền thông tin, đó là tín hiệu tương tự và tín hiệu số.

Tín hiệu tương tự khí nén (Pneumatic signal) là tín hiệu được tạo ra bằng cách thay đổi áp suất không khí trong ống tín hiệu tương ứng với sự thay đổi đo được trong một biến quá trình. Phạm vi tín hiệu khí nén tiêu chuẩn công nghiệp phổ biến là (3÷15)psig.

Tín hiệu tương tự điện (Analog signal): là tín hiệu điện liên tục theo thời gian. Một thiết bị đo thông thường có thể cung cấp tín hiệu dòng điện (4÷20)mA hoặc điện áp (0÷5)V như một hàm theo thời gian. Bộ điều khiển thường nhận tín hiệu từ thiết bị đo và xuất tín hiệu điều khiển là dòng điện (4÷20)mA hoặc điện áp (0÷5)V ở đầu ra. Đầu ra của bộ điều khiển thường được gửi đến van điều khiển. Van điều khiển có thể yêu cầu tín hiệu khí nén (3÷15)psig để kích hoạt thân van. Trong trường hợp này, tín hiệu dòng điện (4÷20)mA được chuyển đổi thành tín hiệu khí nén (3÷15)psig bằng cách sử dụng bộ chuyển đổi I/P (dòng điện sang khí nén).

Tín hiệu số (Digital signal): là các giá trị rời rạc được kết hợp theo những cách cụ thể để diễn tả thông tin các biến quá trình. Nhiều thiết bị và bộ điều khiển hiện nay dựa trên công nghệ truyền thông kỹ thuật số. Một thiết bị đo có thể gửi một tín hiệu kỹ thuật số đến một bộ điều khiển, sau đó thực hiện một phép tính rời rạc và gửi một đầu ra kỹ thuật số đến thiết bị chấp hành. Thông thường, cơ cấu chấp hành là một van điều khiển điện, vì vậy thường có sự tham gia của một bộ chuyển đổi D/I (kỹ thuật số sang dòng điện). Trong trường hợp, nếu thân van được di chuyển bằng bộ truyền động khí nén chứ không phải điện, thì bộ chuyển đổi I/P cũng có thể được sử dụng.

Ví dụ về hệ thống điều khiển nhiệt độ thiết bị phản ứng như Hình 1.15, nhiệt độ hỗn hợp trong thiết bị phản ứng được đo bằng cảm biến cặp nhiệt, tín hiệu điện áp ra từ cảm biến cặp nhiệt được bộ chuyển đổi đo chuẩn Transmitter chuyển sang tín hiệu analog là dòng chuẩn (4÷20)mA đưa tới bộ điều khiển. Bộ điều khiển xử lý tín hiệu nhận được theo một chương trình cài đặt sẵn và đưa ra tín hiệu dòng ra chuẩn (4÷20)mA đến van điều khiển để can thiệp vào dòng hơi cấp cho quá trình.

================================================================================
Page 27 of 165 - COMPLETED
================================================================================

1.3.2. Bộ điều khiển

Bộ điều khiển (Controller) là một thiết bị thực hiện chức năng điều khiển, là thành phần cốt lõi của một hệ thống điều khiển. Bộ điều khiển nhận giá trị đo được của biến quá trình, thực hiện quy luật điều khiển và đưa ra tín hiệu điều khiển tương ứng đến thiết bị chấp hành để can thiệp trở lại quá trình.

[Sơ đồ khối Bộ điều khiển]
                    ┌─────────────────────────┐
                    │     Bộ điều khiển       │
                    │                         │        Tín hiệu
Giá trị đặt ──────►│  [So sánh] ──► [Tính toán] ──────► điều khiển u
                    │                         │
                    └──────────▲──────────────┘
                               │
                          Tín hiệu đo

Trong công nghiệp hoá chất, dầu khí ngày nay thường sử dụng các bộ điều khiển số dựa trên nền tảng vi xử lý hay máy tính số có khả năng thực hiện các thuật toán điều khiển bằng máy tính số và được tích hợp các thành phần chuyển đổi tương tự - số cần thiết. Các bộ điều khiển số có tính ổn định và độ tin cậy cao, phổ biến như bộ điều khiển có khả năng lập trình PLC (Programmable Logic Controller), các bộ điều khiển phân tán DCS (Distributed Control Systems) hay các bộ điều khiển riêng lẻ phát triển dựa trên vi xử lý/ máy tính số được gọi tên theo chức năng: bộ điều khiển nhiệt độ, bộ điều khiển áp suất, bộ điều khiển pH…

Bộ điều khiển số dựa trên vi sử lý/máy tính số không những cho chất lượng ổn định và độ tin cậy cao mà còn có thể đảm nhiệm nhiều chức năng khác rất hữu ích trong việc kiểm soát và giám sát quá trình. Một số chức năng này được cung cấp trong hệ thống điều khiển số hiện đại là:
- Thực hiện các thuật toán điều khiển, bao gồm cả đơn giản và nâng cao
- Hiển thị các thông số quá trình theo thời gian thực trên màn hình
- Cung cấp các cảnh báo và dự báo về hoạt động của quá trình
- Cung cấp các hàm số toán học
- Cung cấp việc thu thập và lưu trữ dữ liệu

Phần mềm hỗ trợ tất cả các tác vụ này do nhà sản xuất thiết bị điều khiển cung cấp, hoặc được người thiết kế hệ thống điều khiển lập trình và cài đặt vào bộ điều khiển số.

================================================================================
Page 28 of 165 - COMPLETED
================================================================================

1.3.3. Thiết bị chấp hành

Thiết bị chấp hành (final control element): là bộ phận can thiệp trực tiếp vào đối tượng điều khiển. Thiết bị chấp hành có nhiệm vụ nhận tín hiệu ra từ bộ điều khiển và thực hiện tác động can thiệp tới biến điều khiển để chỉnh lại giá trị của biến điều khiển tương ứng với tín hiệu của bộ điều khiển.

Thông thường thiết bị chấp hành bao gồm hai thành phần cơ bản là cơ cấu chấp hành (actuator) và cơ cấu điều chỉnh (control element):

[Sơ đồ khối Thiết bị chấp hành]
            ┌─────────────────────────────────┐
            │      Thiết bị chấp hành         │
            │                                 │
u ─────────►│  [Cơ cấu     ]  [Cơ cấu      ] │─────────► x
            │  [chấp hành  ]  [điều chỉnh  ] │
            │                                 │
            └─────────────────────────────────┘

Cơ cấu chấp hành là một phần của thiết bị chấp hành, nhận tín hiệu từ bộ điều khiển tạo ra năng lượng tác động vào cơ cấu điều chỉnh làm dịch chuyển chúng. Cơ cấu điều chỉnh khi được truyền năng lượng, truyền động từ cơ cấu chấp hành sẽ can thiệp trực tiếp vào đại lượng điều chỉnh làm thay đổi giá trị của chúng.

Để rõ hơn, sau đây ta xem xét ví dụ về van điều khiển. Van điều khiển (control valve) là một thiết bị chấp hành tiêu biểu trong điều khiển quá trình, bởi vì các biến điều khiển hầu hết là lưu lượng.

Van điều khiển bao gồm hai thành phần là cơ cấu chấp hành và thân van. Thân van gắn trực tiếp trên đường ống dẫn có lưu chất đi qua. Lượng lưu chất đi qua van phụ thuộc vào độ mở van thông qua vị trí của chốt van. Tùy theo cơ cấu chấp hành, van điều khiển được chia ra thành dạng van khí nén, điện hoặc thủy lực.

Van khí nén có cơ cấu chấp hành là màng chắn/lò xo hoặc pitston Hình 1.20. Khi có dòng khí nén tác động vào màng chắn sẽ sinh ra lực tác động đến cần van (đối với van chuyển động trượt) hoặc trục van (đối với van chuyển trọng xoay) và tạo ra chuyển động cho chốt van.

Van điều khiển khí nén có thể là loại thường mở hoặc thường đóng hay còn gọi là kiểu tác động của van. Lựa chọn kiểu tác động của van phụ thuộc vào yêu cầu an toàn hệ thống.

================================================================================
Page 29 of 165 - COMPLETED
================================================================================

Van thường đóng (fail-closed, FC hoặc air-to-open, AO): trong trường hợp khi không có tín hiệu điều khiển do bị đứt đường truyền hay do một sự cố khác thì van ở trạng thái đóng hoàn toàn;

Van thường mở (fail-open, FO hoặc air-to-close, AC): trong trường hợp khi không có tín hiệu điều khiển do bị đứt đường truyền hay bị sự cố nào khác thì van ở trạng thái mở hoàn toàn.

[Hình 1.20 Cấu tạo và ký hiệu van điều khiển khí nén]
- Van thường mở (Air-to-close):
  + Khí nén → Motor
  + Cần van
  + Thân van
  + Chốt van
  
- Van thường đóng (Air-to-open):
  + Khí nén → Motor
  + Cần van
  + Thân van
  + Chốt van

Van điện có cơ chế chấp hành là động cơ điện như động cơ bước, động cơ servo nhận tín hiệu điện từ bộ điều khiển làm cho động cơ quay và truyền động xuống chốt van. Van điện được sử dụng trong ứng dụng có công suất nhỏ, cần độ chính xác cao.

Van điện từ có cơ chế chấp hành là cuộn hút kết hợp lò xo, loại này có lực nén yếu và độ chính xác không cao, chỉ phù hợp với bài toán đơn giản. Van điện từ cũng có hai loại là van thường đóng và van thường mở.

Van thủy lực có cơ chế chấp hành sử dụng hệ thống bơm dầu kết hợp với màng chắn/ lò xo hoặc pitston. Van thủy lực được sử dụng cho hệ thống với công suất lớn.

Trong điều khiển các quá trình công nghệ thiết bị chấp hành hầu hết là van có chức năng điều khiển. Ngoài ra còn sử dụng các thiết bị chấp hành khác như máy bơm, quạt, máy nén, điện trở gia nhiệt…Đối với các thiết bị chấp hành sử dụng động cơ điện 3 pha, để thay đổi tốc độ vòng quay, thường sử dụng Biến tần để điều khiển. Trong nhiều trường hợp thực tế khi cần gia nhiệt cho quá trình với quy mô vừa và nhỏ, người ta có thể sử dụng điện trở gia nhiệt, kết hợp Bộ biến áp để thay đổi công suất điện trở cấp nhiệt cho quá trình.

================================================================================
Page 30 of 165 - COMPLETED
================================================================================

1.3.4. Các thành phần khác

Ngoài các thành phần cơ bản nêu trên, tuỳ theo từng hệ thống điều khiển có thể còn sử dụng một số thành phần khác như sau:

Bộ chuyển đổi tín hiệu chuẩn (Converter): là một thiết bị chuyển đổi tín hiệu chuẩn này thành một tín hiệu chuẩn dạng khác.

Ví dụ, trong điều khiển quá trình sử dụng van điều khiển khí nén, Converter dùng để chuyển một tín hiệu dòng điện chuẩn (4÷20)mA từ bộ điều khiển thành tín hiệu khí nén chuẩn (3÷15)psi đưa xuống cơ cấu chấp hành của van. Bộ chuyển đổi này được gọi là bộ chuyển đổi dòng điện sang áp suất, ký hiệu I/P.

Converter cũng có thể được dùng trong các bộ điều khiển số để chuyển đổi tín hiệu analog thành tín hiệu số và ngược lại, A/D hoặc D/A.

Bộ hiển thị (Indicator) là thiết bị hiển thị thông tin về quá trình giúp người vận hành có thể đọc được. Một số bộ hiển thị có thể hiển thị thông tin cùng một lúc cho nhiều đại lượng đo được cũng như giá trị đã được xử lý như giá trị cao nhất, thấp nhất, trung bình hay các đặc tính thống kê, biểu đồ…

Bộ ghi dữ liệu (Recorder) là thiết bị ghi lại các diễn biến của quá trình theo thời gian, dựa trên kết quả này hệ thống cung cấp cho người vận hành theo dõi được quá trình thông qua các bảng dữ liệu hay biểu đồ, từ đó đánh giá về quá trình để đưa ra quyết định điều chỉnh (như thay đổi giá trị đặt) nhằm nâng cao chất lượng của quá trình.

================================================================================
Page 31 of 165 - COMPLETED
================================================================================

1.4. SƠ ĐỒ CẤU TRÚC HỆ THỐNG ĐIỀU KHIỂN QUÁ TRÌNH

Sơ đồ cấu trúc một hệ thống điều khiển quá trình bao gồm: Sơ đồ khối điều khiển đã được đề cập ở phần trước và Lưu đồ điều khiển (P&ID) được giới thiệu trong phần này.

Hệ thống điều khiển quá trình thường phức tạp, bao gồm nhiều biến và nhiều vòng điều khiển khác nhau. Để hiểu được toàn bộ hệ thống, vấn đề mô tả chức năng hệ thống đóng một vai trò quan trọng. Khi mô tả chức năng của hệ thống, quy ước sử dụng một ngôn ngữ chung, được chuẩn hóa theo tiêu chuẩn, gọi là Lưu đồ điều khiển hay Lưu đồ P&ID.

Lưu đồ điều khiển (Process/pipping and Instrumentation Diagram) là bản vẽ mô tả quy trình công nghệ có điều khiển, lưu đồ điều khiển bao gồm mô tả chi tiết quá trình công nghệ kèm theo các chức năng cơ bản của hệ thống điều khiển cùng các đường tín hiệu liên hệ giữa chúng.

Lưu đồ điều khiển cung cấp cho chúng ta biết các thông tin chính sau đây:
• Nhận diện thành phần của hệ thống điều khiển;
• Sự kết nối giữa các thành phần trong hệ thống điều khiển;
• Vị trí đặt các thiết bị điều khiển;
• Chức năng bên trong hệ thống điều khiển.

Các quy ước về biểu tượng và ký hiệu thường sử dụng trên lưu đồ điều khiển bao gồm:
• Quy ước về biểu tượng của các thiết bị điều khiển;
• Quy ước về ký hiệu của các đại lượng, các chức năng;
• Quy ước về đường tín hiệu, đường ống dẫn.

Ký hiệu biểu tượng của các thiết bị điều khiển

Các thiết bị trong một hệ thống điều khiển như thiết bị đo, thiết bị chấp hành và bộ điều khiển được phân chia theo chức năng và vị trí nơi mà nó hoạt động. Vị trí của các thiết bị điều khiển có thể gắn trực tiếp trên các thiết bị công nghệ, có thể đặt ở nơi tập trung như phòng điều khiển trung tâm hay trong tủ điều khiển.

Bảng sau đây trích dẫn một số biểu tượng các thiết bị điều khiển thường sử dụng. Ý nghĩa của khái niệm phần cứng đơn lẻ là thiết bị chuyên dụng cho một mục đích duy nhất, còn khái niệm phần cứng chia sẻ là thiết bị có thể có nhiều chức năng, như bộ điều khiển chia sẻ hay màn hình hiển thị chia sẻ.

================================================================================
Page 32 of 165 - COMPLETED
================================================================================

[Bảng ký hiệu biểu tượng thiết bị điều khiển]

|                          | Gắn trực tiếp | Phòng điều khiển | Nơi sản xuất    |
|                          | (Local)       | trung tâm        | vị trí mở rộng  |
|                          |               | (Remote)         | (Auxilary Location)|
|--------------------------|---------------|------------------|-----------------|
| Phần cứng                |     ○         |      ⊖           |      ⊖         |
| Thiết bị đơn lẻ          |               |    (gạch ngang)  |   (gạch đứt)   |
|--------------------------|---------------|------------------|-----------------|
| Phần cứng chia sẻ        |               |                  |                 |
| - Hiển thị chia sẻ       |     ○         |      ⊖           |      ⊖         |
| - Điều khiển chia sẻ     |  (2 đường)    |   (2 đường)      |  (2 đường đứt) |
|--------------------------|---------------|------------------|-----------------|
| Phần mềm                 |               |                  |                 |
| Chức năng máy tính       |    ◇          |      ⬡           |      ⬡         |
| Hàm tính toán            |               |    (gạch ngang)  |   (gạch đứt)   |
|--------------------------|---------------|------------------|-----------------|
| Logic chia sẻ            |               |                  |                 |
| Điều khiển logic khả     |    ◇          |      ⬡           |      ⬡         |
| trình PLC                | (2 đường)     |   (2 đường)      |  (2 đường đứt) |

- Thiết bị cho hai biến hoặc một biến với hai hoặc nhiều chức năng: ký hiệu kép
- Nét gạch liền ở giữa: người thao tác tiếp xúc trực tiếp
- Nét gạch đứt ở giữa: đằng sau panel điều khiển, người thao tác không tiếp xúc trực tiếp

Một số ký hiệu biểu tượng các loại van thường dùng trong điều khiển quá trình:
- Van điều khiển khí nén: ⋈ (hình hai tam giác đối đỉnh với đường nối khí nén)
- Van điều khiển điện: ⋈ (hình hai tam giác đối đỉnh với ký hiệu M motor)
- Van thủ công: ⋈ (hình hai tam giác đối đỉnh đơn giản)

Một số ký hiệu biểu tượng thiết bị chấp hành khác:
- Bơm: ◁○ (hình tròn với tam giác chỉ hướng)
- Quạt: ⊗ (hình tròn với cánh quạt bên trong)
- Máy nén: ○ (hình tròn với ký hiệu nén)

Ký hiệu quy ước của các đại lượng và chức năng thiết bị điều khiển

Ký hiệu quy ước về các đại lượng và chức năng của thiết bị là một dãy các chữ cái được viết in hoa. Các chữ cái đó bao gồm các ký hiệu cho các đại lượng công nghệ và chức năng của thiết bị điều khiển.

================================================================================
Page 33 of 165 - COMPLETED
================================================================================

• Trong các ký hiệu về các đại lượng công nghệ lại được chia ra thành các ký hiệu cho đại lượng chính và ký hiệu phụ bổ sung cho đại lượng chính. Sau đây là một số ký hiệu đại lượng chính thông dụng trong điều khiển quá trình:

T: Nhiệt độ / Temperature;
P: Áp suất / Presure;
F: Lưu lượng / Flow;
L: Mức / Level;
A: Nồng độ, phân tích / Analysis.

Trong một số trường hợp còn dùng các ký hiệu phụ bổ sung nhằm để làm rõ thêm cho đại lượng chính, đứng ngay sau đại lượng chính, các ký hiệu bổ sung đó thường là:

D: chênh lệch / Differential; ví dụ: PD là chênh lệch áp suất
F: tỷ lệ / Ratio; ví dụ: FF là tỷ lệ lưu lượng

• Trong các ký hiệu về chức năng của thiết bị cũng được chia ra thành ký hiệu cho chức năng chính và các ký hiệu bổ sung để làm rõ thêm cho chức năng chính đó. Các ký hiệu chức năng chính thông dụng trong điều khiển quá trình:

I: hiển thị / Indicator
R: ghi lại, lưu trữ / Recorder;
C: điều khiển / Controller;
S: chuyển mạch, tắt, mở / Switch
A: cảnh báo, báo hiệu / Alarm;

Các ký hiệu phụ bổ sung cho chức năng thông dụng là:
T: truyền tín hiệu / Transmitter;
H: cao / High; ví dụ: AH là cảnh báo vượt giới hạn trên;
L: thấp / Low; ví dụ: AL là cảnh báo vượt giới hạn dưới.

================================================================================
Page 34 of 165 - COMPLETED
================================================================================

[Hình 1.21 Thiết bị điều khiển - hiển thị - ghi độ chênh áp suất]

Cấu trúc ký hiệu thiết bị điều khiển:

┌─────────┐
│  PDIRC  │ ←── Phần ký hiệu đại lượng điều khiển hay đại lượng đo
│         │     và các chức năng của thiết bị
│   101   │ ←── Phần ký hiệu số hiệu của vòng điều khiển
└─────────┘

Phân tích ký hiệu:
- Đại lượng chính: P: áp suất; T: nhiệt độ; L: mức; F: lưu lượng
- Đại lượng phụ: D: chênh lệch; F: tỷ lệ
- Chức năng: I: hiển thị; R: ghi, lưu; C: điều khiển

Việc thể hiện các đại lượng công nghệ và chức năng của thiết bị tự động hóa được thể hiện như trên Hình 1.21. Nửa trên của vòng tròn ghi các ký tự bằng chữ của các đại lượng công nghệ và chức năng của thiết bị bao gồm một dãy tối đa 5 ký tự. Nửa dưới là con số mô tả thiết bị đó nằm ở vòng điều khiển mang số hiệu bao nhiêu. Nguyên tắc ghi như sau:

• Ký tự thứ nhất ghi đại lượng cần đo hoặc cần điều chỉnh, ví dụ T – nhiệt độ;
• Ký tự tiếp ngay sau đại lượng chính (nếu có thì sẽ là các ký hiệu như D, F) bổ sung rõ hơn cho đại lượng đo hoặc điều khiển;
• Các ký tự tiếp sau đại lượng (chính/phụ) dùng để thể hiện các chức năng của thiết bị. Trường hợp thiết bị có nhiều chức năng thì ghi theo thứ tự: I – chức năng hiển thị (Indicator); R – chức năng ghi (Record); C – chức năng điều khiển (Control); S – chức năng chuyển mạch (Switch); A – chức năng báo động (Alarm).

Ví dụ ký tự PDIRC-101 có hai phần chữ và số, phần chữ đầu tiên P cho ta biết đây là đại lượng chính, ngay sau đó là ký tự D cho ta biết đây là ký tự bổ sung cho đại lượng chính, các ký tự còn lại là các chức năng. Như vậy PDIRC-101 cho ta biết thiết bị điều khiển này có chức năng điều khiển (C), ghi (R) và hiển thị (I) chênh lệch áp suất (PD) tại vòng điều khiển số 101. Ngoài ra như biểu tượng trên Hình 1.20 còn cho biết vị trí thiết bị được đặt ở phòng điều khiển trung tâm.

================================================================================
Page 35 of 165 - COMPLETED
================================================================================

Bảng sau đây tóm tắt các ký hiệu các đại lượng và chức năng:

|     | Ký hiệu các đại lượng              | Ký hiệu các chức năng              |
|     |-----------------------------------|-----------------------------------|
|     | Đại lượng chính,  | Đại lượng     | Chức năng      | Chức năng      |
|     | Biến đo           | bổ sung       | chính          | bổ sung        |
|-----|-------------------|---------------|----------------|----------------|
| A   | Analysis/         |               | Alarm/         |                |
|     | Thành phần, nồng độ|              | Cảnh báo       |                |
|-----|-------------------|---------------|----------------|----------------|
| C   |                   |               | Control/       |                |
|     |                   |               | Điều khiển     |                |
|-----|-------------------|---------------|----------------|----------------|
| D   |                   | Differential/ |                |                |
|     |                   | Hiệu, chênh lệch|              |                |
|-----|-------------------|---------------|----------------|----------------|
| E   |                   |               | Sensor/        |                |
|     |                   |               | Cảm biến       |                |
|-----|-------------------|---------------|----------------|----------------|
| F   | Flow rate/        | Fraction(Ratio)/|              |                |
|     | Lưu lượng         | Tỷ lệ         |                |                |
|-----|-------------------|---------------|----------------|----------------|
| I   | Current/          |               | Indicator/     |                |
|     | Dòng điện         |               | Hiển thị       |                |
|-----|-------------------|---------------|----------------|----------------|
| L   | Level/Mức lượng   |               | Light/Đèn báo  | Low/Thấp       |
|-----|-------------------|---------------|----------------|----------------|
| P   | Pressure/Áp suất  |               |                |                |
|-----|-------------------|---------------|----------------|----------------|
| R   |                   |               | Recorder/Ghi   |                |
|-----|-------------------|---------------|----------------|----------------|
| S   | Speed/Tốc độ      | Safety/An toàn| Switch/        |                |
|     |                   |               | Chuyển mạch    |                |
|-----|-------------------|---------------|----------------|----------------|
| T   | Temperature/      |               |                | Transmit/Truyền|
|     | Nhiệt độ          |               |                |                |
|-----|-------------------|---------------|----------------|----------------|
| Y   | Khác              |               |                | Convert, compute/|
|     |                   |               |                | Chuyển đổi, tính toán|

================================================================================
Page 36 of 165 - COMPLETED
================================================================================

Ký hiệu một số bộ chuyển đổi tín hiệu chuẩn:
• E/P bộ chuyển đổi từ tín hiệu điện áp sang khí nén (Electric/Presure);
• P/I bộ chuyển đổi từ tín hiệu khí nén sang dòng điện (Presure/Current)
• A/D bộ chuyển đổi tín hiệu tương tự sang tín hiệu số (Analog/Digital).

Các ký hiệu đường cấp nguồn:
• AS (Air supply): đường cấp không khí;
• ES (Electric supply): đường cấp điện;
• GS (Gas supply): cấp khí;
• HS (Hydraulic supply): cấp thủy lực;
• NS (Nitrogen supply): cấp nitơ;
• SS (Steam supply): cấp hơi;
• WS (Water supply): đường cấp nước.

Ký hiệu quy ước biểu diễn các đường kết nối giữa các thiết bị:

Tín hiệu điện:                    ─ ─ ─ ─ ─ ─ ─ (nét đứt)

Tín hiệu khí nén:                 ─/─/─/─/─/─/─ (nét đứt có gạch chéo)

Tín hiệu thủy lực:                ─┴─┴─┴─┴─ (nét đứt có gạch ngang)

Tín hiệu nói chung, chưa xác định: ─×─×─×─×─ (nét đứt có dấu x)

Đường truyền dữ liệu (data link):  ─○─○─○─○─ (nét đứt có vòng tròn)

Đường kết nối với thiết bị công nghệ: ────────── (nét liền mảnh)

Đường ống dẫn lưu chất của quá trình: ━━━━━━━━━━ (nét liền đậm)

================================================================================
Page 37 of 165 - COMPLETED
================================================================================

VÍ DỤ 1.3: Một số biểu tượng thiết bị điều khiển trên lưu đồ điều khiển:

┌─────────────────┬─────────────────┬─────────────────┐
│    ┌─ ─ ─┐      │    ┌─ ─ ─┐      │    ┌─ ─ ─┐      │
│    │     │      │    │     │      │    │     │      │
│   (  TI  )      │   (  FI  )      │   ( I/P  )      │
│    │     │      │    │     │      │    │     │      │
│                 │                 │                 │
│ Thiết bị chỉ thị│ Thiết bị chỉ thị│ Thiết bị chuyển │
│ nhiệt độ lắp đặt│ lưu lượng lắp   │ đổi từ điện sang│
│ tại chỗ         │ đặt tại chỗ     │ khí nén lắp đặt │
│ (Temperature    │ (Flow indicator)│ tại chỗ         │
│ indicator)      │                 │ (Converter)     │
├─────────────────┼─────────────────┼─────────────────┤
│    ┌─ ─ ─┐      │    ┌─ ─ ─┐      │    ┌─ ─ ─┐      │
│    │     │      │    │     │      │    │     │      │
│   (  TT  )      │   (  FT  )      │   ( PIC  )      │
│    │     │      │    │     │      │   ( 101  )      │
│                 │                 │                 │
│ Thiết bị tiếp   │ Thiết bị tiếp   │ Bộ điều khiển và│
│ nhận và truyền  │ nhận và truyền  │ chỉ thị áp suất │
│ tín hiệu nhiệt  │ tín hiệu lưu    │ ở tủ điều khiển,│
│ độ (Temp.       │ lượng (Flow     │ vòng 101        │
│ transmitter)    │ transmitter)    │ (Pressure       │
│                 │                 │ indicator and   │
│                 │                 │ controller)     │
├─────────────────┼─────────────────┼─────────────────┤
│    ┌─ ─ ─┐      │    ┌─ ─ ─┐      │    ┌─ ─ ─┐      │
│    │     │      │    │     │      │    │     │      │
│   ( LA   )      │  (LAH)(LAL)     │   ( AC   )      │
│   ( 101  )      │  (101)(101)     │   ( 101  )      │
│                 │                 │                 │
│ Thiết bị cảnh   │ Thiết bị cảnh   │ Bộ điều khiển   │
│ báo mức đặt tại │ báo mức cao và  │ nồng độ đặt tại │
│ tủ điều khiển   │ mức thấp (Level │ tủ điều khiển,  │
│ (Level Alarm)   │ Alarm High-Low) │ (Analyzer       │
│                 │                 │ Controller)     │
└─────────────────┴─────────────────┴─────────────────┘

================================================================================
Page 38 of 165 - COMPLETED
================================================================================

VÍ DỤ 1.4: Sơ đồ cấu trúc một số hệ thống điều khiển

(1) Quá trình bình chứa chất lỏng

Bài toán điều khiển trong trường hợp này là ổn định mức chất lỏng trong bồn chứa ở giá trị đặt hSP khi có nhiễu tải (Fₒ) phụ thuộc vào nhu cầu sử dụng của quá trình sau đó.

[Hình 1.22 Lưu đồ điều khiển bồn chứa chất lỏng]
- Bồn chứa chất lỏng với dòng vào và dòng ra
- LIC 102: Bộ điều khiển mức với giá trị đặt SP
- LT 102: Thiết bị đo mức (Level Transmitter)
- LAH 102, LAL 102: Cảnh báo mức cao và mức thấp
- Van 102: Van điều khiển trên đường cấp lỏng vào

[Hình 1.23 Sơ đồ khối điều khiển bồn chứa chất lỏng]
- hsp → So sánh (⊗) → e → BĐK LIC-102 → u → Van V-102 → Fₒ → Quá trình chứa lỏng → h
- Fᵢ (nhiễu) tác động vào quá trình chứa lỏng
- h → Cảm biến LT-102 → phản hồi về so sánh

Mô tả chức năng của hệ thống điều khiển bồn chứa lỏng này được thể hiện trên Lưu đồ điều khiển như Hình 1.22 và sơ đồ khối ở Hình 1.23. Mức chất lỏng được đo bởi thiết

================================================================================
Page 39 of 165 - COMPLETED
================================================================================

bị đo mức và và truyền tín hiệu LT-102 (Level–Transmitter) tín hiệu này được đưa tới bộ điều khiển và hiển thị mức LIC-102 (Level– Indicator – Controller) đặt ở phòng điều khiển. Bộ điều khiển LIC-102 đồng thời nhận giá trị cài đặt Lsp từ người điều hành, thực hiện so sánh với giá trị mức đo được và tính toán tín hiệu điều khiển theo một thuật điều khiển định trước. Tín hiệu điều khiển được đưa tới thiết bị chấp hành là van điều khiển (Control Valve) để thay đổi lưu lượng dòng vào sao cho làm giảm sai lệch điều khiển. Trong trường hợp mức chất lỏng đo được nhỏ hơn giá trị đặt hsp bộ điều khiển sẽ đưa ra tác động để tăng độ mở của van cấp chất lỏng vào bồn chứa, qua đó làm mức chất lỏng trong bồn tăng lên, ngược lại sẽ giảm độ mở van. Như vậy giá trị mức chất lỏng trong bồn chứa luôn được duy trì ổn định.

Tín hiệu từ LT-102 một mặt cũng đưa đến một thiết bị báo động bao gồm hai chức năng thể hiện trên hai vòng tròn dính liền nhau LAH-102 (High Level Alarm) và LAL-102 (Low Level Alarm), khi mức trong bình nằm ngoài giới hạn cho phép thiết bị báo động sẽ phát ra cảnh báo. Chữ số 102 ở phần dưới của các vòng tròn là số hiệu của vòng điều khiển mức chất lỏng.

(2) Quá trình gia nhiệt bằng hơi nước

Lưu đồ điều khiển của quá trình gia nhiệt bằng hơi nước được thể hiện trên Hình 1.24. Bài toán yêu cầu điều khiển nhiệt độ đầu ra của dòng quá trình ổn định tại giá trị cài đặt mong muốn Tsp.

Các thông số và các đại lượng của quá trình được sử dụng:
Wₚ – Lưu lượng dòng quá trình, kg/h;
T₁ – Nhiệt độ đầu dòng quá trình, °C;
T₂ – Nhiệt độ cuối dòng quá trình, °C;
Wₛ – Lưu lượng hơi đốt, kg/h;
Tₙ – Nhiệt độ nước ngưng, °C.

Các chức năng và đặc tả trên lưu đồ điều khiển bao gồm:

• Phía đầu vào của dòng quá trình: tiếp nhận và truyền tín hiệu lưu lượng dòng quá trình, sử dụng một thiết bị FT-101, tín hiệu này được dẫn đến bộ khai căn FY-101 và được chuyển tới bộ điều khiển lưu lượng đặt ở bảng điều khiển trung tâm FC-101 để ổn định lưu lượng theo giá trị đặt Fsp từ người vận hành.

================================================================================
Page 40 of 165 - COMPLETED
================================================================================

[Hình 1.24 Lưu đồ điều khiển thiết bị trao đổi nhiệt]

Sơ đồ thiết bị trao đổi nhiệt:
- Dòng hơi bão hòa Wₛ đi vào thiết bị trao đổi nhiệt qua van điều khiển V1
- FI 102: Thiết bị đo lưu lượng hơi
- PI 102: Thiết bị đo áp suất hơi
- I/P: Bộ chuyển đổi dòng điện sang khí nén
- TIC 103: Bộ điều khiển và hiển thị nhiệt độ (nhận giá trị đặt Tsp)
- TT 103: Thiết bị đo và truyền tín hiệu nhiệt độ T₂
- Dòng quá trình Wₚ, T₁ đi vào thiết bị
- FT 101: Thiết bị đo lưu lượng dòng quá trình
- FY 101: Bộ khai căn (√)
- FC 101: Bộ điều khiển lưu lượng (nhận giá trị đặt Fsp)
- Nước ngưng ra với nhiệt độ Tₙ
- FI 104: Thiết bị đo lưu lượng nước ngưng

• Phía dòng hơi nước: đo và hiển thị áp suất đầu vào dòng hơi, sử dụng một thiết bị đo áp suất PI-102. Ngoài ra lưu lượng dòng hơi nước cũng được đo và hiển thị bởi thiết bị FI-102. Nhiệt độ nước ngưng là đại lượng ra không cần thiết phải điều khiển nhưng cũng được đo và hiển thị thông qua thiết bị TI-104.

• Phần điều khiển: điều khiển và ghi lại nhiệt độ dòng quá trình ra khỏi thiết bị thông qua điều chỉnh dòng hơi nóng bởi bộ điều khiển TIC-103 đặt trên bảng điều khiển trung tâm, sử dụng tín hiệu truyền từ thiết bị TT-103. Bộ điều khiển TIC-103 nhận giá trị đặt từ máy tính trung tâm, tính toán và đưa ra tín hiệu điều khiển xuống van điều khiển khí nén V1. Tín hiệu trước khi vào van được chuyển đổi thông qua bộ chuyển đổi tín hiệu I/P.

================================================================================
Page 41 of 165 - COMPLETED
================================================================================

1.5. TỔNG QUAN VỀ THIẾT KẾ HỆ THỐNG ĐIỀU KHIỂN QUÁ TRÌNH

Hai bài toán cơ bản trong điều khiển là bài toán phân tích hệ thống điều khiển đã được xây dựng và bài toán thiết kế hệ thống tự động điều khiển mới. Việc xây dựng hệ thống điều khiển bao gồm nhiều bước như phân tích, thiết kế, lập trình, hiệu chỉnh và đưa vào vận hành. Phần dưới đây tóm tắt những ý quan trọng dựa theo Seborg và cộng sự [1]. Hai phương pháp tiếp cận chung để thiết kế hệ thống điều khiển:

1. Phương pháp truyền thống: Sách lược điều khiển và phần cứng của hệ thống điều khiển được lựa chọn dựa trên sự hiểu biết về quá trình và kinh nghiệm thực tế. Sau khi hệ thống điều khiển được lắp đặt trong nhà máy, các tham số cài đặt cho bộ điều khiển như hệ số tỷ lệ, tích phân, vi phân được cài đặt và hiệu chỉnh. Công việc này được gọi là chỉnh định bộ điều khiển. Phương pháp này thường áp dụng để thiết kế điều khiển quá trình đơn giản, đặc tả bộ điều khiển tương đối đơn giản và không cần phân tích chi tiết hoặc mô hình rõ ràng.

2. Phương pháp dựa trên mô hình. Một mô hình động của quá trình có thể hữu ích theo ít nhất ba cách: (i) sử dụng làm cơ sở cho các phương pháp thiết kế bộ điều khiển dựa trên mô hình, (ii) sử dụng trực tiếp trong luật điều khiển, và (iii) sử dụng trong mô phỏng máy tính để đánh giá các sách lược điều khiển thay thế và xác định các giá trị sơ bộ các tham số của bộ điều khiển. Cách tiếp cận này có thể áp dụng được cho cả những quá trình từ đơn giản đến phức tạp.

Các bước chính liên quan đến thiết kế và cài đặt hệ thống điều khiển dựa trên mô hình được trình bày trong sơ đồ trên Hình 1.25.

Bước đầu tiên là xây dựng các mục đích điều khiển. Dựa trên việc tìm hiểu các yêu cầu của quá trình, đưa ra các chức năng mà hệ thống điều khiển cần có, trước hết là các bài toán điều chỉnh với các yêu cầu cụ thể về chất lượng điều khiển, các giới hạn ràng buộc về điều kiện vận hành và các yêu cầu về an toàn.

Bước thứ 2 là xây dựng mô hình động của quá trình. Dựa trên các định luật vật lý và hoá học cơ bản hoặc dựa trên các số liệu vận hành thực nghiệm, tiến hành xây dựng mô hình toán học mô tả đặc tính động và đặc tính tĩnh của quá trình. Mô hình là cơ sở cho việc thiết kế và chỉnh định hệ thống điều khiển trong các bước tiếp theo.

Bước thứ 3 là thiết kế một sách lược điều khiển thích hợp để đáp ứng các mục tiêu điều khiển trong khi vẫn đáp ứng các ràng buộc của quá trình. Thiết kế sách lược điều khiển chưa đi vào thuật toán điều khiển mà là lựa chọn các biến điều khiển, các biến nhiễu, các biến đo được và liên kết chúng lại với nhau để xây dựng các phương pháp và cách thức

================================================================================
Page 42 of 165 - COMPLETED
================================================================================

điều khiển cụ thể. Kết quả của công việc thiết kế sách lược điều khiển được thể hiện trên Lưu đồ điều khiển hay trên Sơ đồ khối điều khiển.

Bước thứ 4 là thiết kế bộ điều khiển, bao gồm lựa chọn kiểu bộ điều khiển thích hợp và xác định các tham số bộ điều khiển. Các phương pháp hiện đại của lý thuyết điều khiển tự động cùng các công cụ mô phỏng trên máy tính giúp đánh giá các sách lược điều khiển thay thế và cung cấp ước tính sơ bộ các giá trị tham số của bộ điều khiển

[Hình 1.25 Các bước thiết kế hệ thống điều khiển]

┌─────────────────────────┐
│  1. Mục đích điều khiển │
└───────────┬─────────────┘
            ↓
┌─────────────────────────┐
│  2. Xây dựng mô hình    │
│      quá trình          │
└───────────┬─────────────┘
            ↓
┌─────────────────────────┐
│  3. Thiết kế sách lược  │
│     điều khiển          │
└───────────┬─────────────┘
            ↓
┌─────────────────────────┐
│  4. Thiết kế bộ điều    │
│       khiển             │
└───────────┬─────────────┘
            ↓
┌─────────────────────────┐
│  5. Lựa chọn phần cứng  │
│  Phát triển phần mềm    │
└───────────┬─────────────┘
            ↓
┌─────────────────────────┐
│ 6. Triển khai & Hiệu    │
│        chỉnh            │
└─────────────────────────┘

Bước thứ 5 là phát triển phần mềm ứng dụng. Sau khi lựa chọn phần cứng của hệ thống điều khiển, công việc lập trình điều khiển thời gian thực và soạn thảo các màn hình giao diện vận hành - giám sát được tiến hành và được thử nghiệm.

Bước cuối cùng là chỉnh định và đưa vào vận hành. Hệ thống điều khiển được thử nghiệm trong nhà máy bằng cách sử dụng các tham số ước tính sơ bộ từ bước thiết kế bộ điều khiển như một điểm khởi đầu. Việc hiệu chỉnh bộ điều khiển trong nhà máy thường theo phương pháp thử và sai, thử nghiệm cho từng vòng điều khiển, từng quá trình và toàn bộ nhà máy.

================================================================================
Page 43 of 165 - COMPLETED
================================================================================

CHƯƠNG 2

CÁC SÁCH LƯỢC ĐIỀU KHIỂN CƠ SỞ

    2.1. Khái quát về sách lược điều khiển
    2.2. Sách lược điều khiển phản hồi
    2.3. Sách lược điều khiển truyền thẳng
    2.4. Điều khiển kết hợp phản hồi và truyền thẳng
    2.5. Sách lược điều khiển tỷ lệ
    2.6. Sách lược điều khiển tầng

Phần trước chúng ta đã nói về các biến quá trình và vai trò của chúng trong một quá trình. Phần này sẽ nghiên cứu xem các biến này tham gia như thế nào trong một hệ thống điều khiển quá trình.

Trong điều khiển quá trình, việc xác định các biến quá trình là hết sức quan trọng và cần thiết, nhưng điều quan trọng và cần thiết hơn nữa là vấn đề xác định các phương pháp và cách thức điều khiển mà thường được gọi là Phương thức điều khiển hay Sách lược điều khiển. Các sách lược điều khiển cơ sở được giới thiệu trong phần này.

================================================================================
Page 44 of 165 - COMPLETED
================================================================================

2.1 KHÁI QUÁT VỀ SÁCH LƯỢC ĐIỀU KHIỂN

Do các quá trình trong thực tế đều là quá trình đa biến, có nhiều biến vào và nhiều biến ra, nên việc lựa chọn thông tin đo được của biến vào và biến ra nào được thể hiện trong sách lược điều khiển. Hầu hết các sách lược điều khiển đều dựa trên sự kết hợp hoặc mở rộng của hai nguyên lý điều khiển cơ bản, đó là điều khiển theo tác động phản hồi (điều khiển theo sai lệch) và điều khiển theo tác động của nhiễu, như đã giới thiệu ở phần 1.1. Để đơn giản, hãy xem xét quá trình gia nhiệt trong ví dụ như Hình 2.1.

VÍ DỤ 2.1: Các phương pháp điều khiển thiết bị trao đổi nhiệt

[Hình 2.1 Thiết bị trao đổi nhiệt và sơ đồ khối các biến quá trình]

Sơ đồ khối các biến quá trình:
- Biến vào:
  + Các biến nhiễu: Gₚ, T₁
  + Biến điều khiển: Gₛ
- QT TĐN (Quá trình trao đổi nhiệt)
- Biến cần điều khiển: T₂
- Biến ra không được điều khiển: Tₙ

Sơ đồ thiết bị trao đổi nhiệt ống chùm:
- Dòng hơi nước: Gₛ, τₛ
- Dòng quá trình: Gₚ, T₁
- Nhiệt độ đầu ra: T₂
- Nước ngưng: Tₙ

Thiết bị trao đổi nhiệt ống chùm sử dụng để gia nhiệt cho một dòng quá trình đi trong các ống, có lưu lượng là Gₚ và nhiệt độ ban đầu là T₁, nhiệt độ sau khi ra khỏi thiết bị là T₂. Dòng hơi nước bão hòa đi vào phía vỏ ống có lưu lượng là Gₛ, nước ngưng đi ra khỏi thiết bị có nhiệt độ là Tₙ.

Trước hết ta xác định mục đích của quá trình gia nhiệt là phải đạt được nhiệt độ cuối của dòng quá trình cần gia nhiệt. Như vậy mục đích điều khiển là nhiệt độ đầu ra của quá trình T₂ = Tsp. Do đó T₂ là một biến ra cần điều khiển. Trong số các biến vào thì lưu lượng Gₚ và nhiệt độ vào T₁ của dòng quá trình được coi là nhiễu do nó phụ thuộc quá trình trước đó. Lưu lượng hơi nước Gₛ được chọn là biến điều khiển do ta có thể can thiệp để thay đổi nó thông qua van điều khiển lắp trên đường cấp hơi. Sơ đồ khối biểu diễn các biến quá trình được thể hiện trên hình 1.24.

================================================================================
Page 45 of 165 - COMPLETED
================================================================================

Với mục đích chính của quá trình gia nhiệt là đạt được nhiệt độ cuối của quá trình như mong muốn, có hai vấn đề cần quan tâm: vấn đề liên quan đến yêu cầu thiết kế và vấn đề điều khiển khi vận hành.

Vấn đề thiết kế: Giá trị nào của Gₛ được yêu cầu theo thiết kế để T₂ = Tsp?

Ta biết rằng nhiệt lượng sinh ra bởi quá trình chuyển pha lớn hơn nhiều so với nhiệt lượng giải phóng bởi chênh lệch nhiệt độ giữa hơi nước vào và nhiệt độ nước ngưng tụ. Do đó phương trình cân bằng nhiệt lượng ở trạng thái cân bằng, với giả sử rằng tổn thất nhiệt không đáng kể và chỉ tính nhiệt trao đổi trong giai đoạn chuyển pha:

                    Gₚ.Cₚ.(T₂ - T₁) = rₛ.Gₛ

Trong đó: Cₚ là nhiệt dung riêng của dòng quá trình, kJ/kg.K;
          rₛ là nhiệt ẩn của nước, kJ/kg.

Suy ra lưu lượng dòng hơi tính theo biểu thức sau:

                    Gₛ = Gₚ · (Cₚ/rₛ) · (T₂ - T₁)

Ở điều kiện thiết kế, thay T₂ = Tsp, giá trị lưu lượng dòng hơi cần cấp cho quá trình:

                    Ḡₛ = Gₚ · (Cₚ/rₛ) · (Tsp - T₁)

Tuy nhiên, khi thiết kế tính toán lưu lượng hơi cần cho quá trình chúng ta thường đơn giản hoá dựa trên nhiều giả thiết. Khi vận hành thực tế vẫn tồn tại những yếu tố nhiễu loạn bên trong và bên ngoài ảnh hưởng đến quá trình làm cho nhiệt độ đầu ra dòng quá trình thay đổi. Những yếu tố nhiễu đó có thể là sự tổn thất nhiệt, sự thay đổi nhiệt độ môi trường làm việc, sự thay đổi nhiệt độ của các dòng đầu vào thiết bị...Do đó để duy trì nhiệt độ T₂ tại giá trị đặt, cần thiết phải liên tục theo dõi và điều khiển. Như vậy, vấn đề thứ 2 là vấn đề điều khiển để duy trì nhiệt độ dòng ra trong quá trình vận hành.

Vấn đề điều khiển: Trong quá trình hoạt động thực tế nếu giá trị nhiệt độ đầu vào T₁ và lưu lượng Gₚ thay đổi theo thời gian, bằng cách nào chúng ta đảm bảo nhiệt độ cuối dòng quá trình T₂ được duy trì ở giá trị đặt T₂ = Tsp? Có một số phương pháp đơn giản để thực hiện việc điều khiển nhiệt độ dòng ra như sau:

================================================================================
Page 46 of 165 - COMPLETED
================================================================================

Phương pháp 1: Đo nhiệt độ đầu ra T₂ và chỉnh lại lưu lượng Gₛ dòng hơi

Vòng điều khiển nhiệt độ 102 được thiết kế cho trường hợp này. Nhiệt độ ra của dòng quá trình được đo bởi thiết bị đo TT-102 và đưa tới bộ điều khiển nhiệt độ TIC-102. Dựa vào sai lệch giữa giá trị đặt và nhiệt độ đo được (e = TSP - T₂), bộ điều khiển tính toán theo một thuật toán đã cài đặt sẵn, đưa ra tín hiệu điều khiển để chỉnh lại độ mở van cấp hơi nước sao cho giảm giá trị sai lệch e.

[Hình 2.2 Lưu đồ và sơ đồ khối điều khiển theo phương pháp 1]

Sơ đồ khối:
- TSP → BĐK TIC-102 → Gₛ → QUÁ TRÌNH TĐN → T₂
- Gₚ, T₁ (nhiễu) tác động vào quá trình
- Tₙ: Biến ra không điều khiển

Lưu đồ điều khiển:
- TSP → TIC 102 → Van điều khiển
- TT 102: Đo nhiệt độ T₂
- Gₛ, τₛ: Hơi nước vào
- Gₚ, T₁: Dòng quá trình vào
- Nước ngưng ra

Thuật toán được thực hiện theo nguyên tắc: nếu nhiệt độ ra đo được nhỏ hơn giá trị đặt (e > 0), bộ điều khiển sẽ đưa ra tín hiệu điều khiển tăng độ mở van, qua đó tăng lưu lượng hơi nước. Thuật toán điều khiển tạo ra tác động điều khiển có thể đơn giản là thuật toán tỉ lệ P (U = kₚ.e). Nhiệt độ chênh lệch càng lớn, tác động điều khiển lên van cũng càng lớn, van sẽ mở càng nhiều và lưu lượng hơi nước sẽ càng được tăng cường. Chừng nào còn tồn tại sai lệch điều khiển thì lưu lượng hơi nước còn được thay đổi. Nhờ vậy, sau một thời gian nhiệt độ đầu ra T₂ được đưa tới giá trị đặt TSP, sai lệch được triệt tiêu. Trường hợp ngược lại, khi nhiệt độ đầu ra lớn hơn giá trị đặt, cũng được xử lý với cùng thuật toán theo trình tự như trên. Bộ điều khiển sẽ đưa ra tác động giảm độ mở van cấp hơi nhằm giảm lượng nhiệt cung cấp cho quá trình. Phương pháp điều khiển này được thể hiện trên sơ đồ khối và lưu đồ điều khiển Hình 2.2.

================================================================================
Page 47 of 165 - COMPLETED
================================================================================

Phương pháp 2: Đo nhiệt độ T₁ và đo lưu lượng Gₚ để chỉnh lại lưu lượng Gₛ dòng hơi.

Dựa trên cơ sở phương trình cân bằng năng lượng ở trên suy ra lưu lượng dòng hơi được tính theo phương trình:

                    Gₛ = Gₚ · (Cₚ/rₛ) · (Tsp - T₁) = f(Gₚ, T₁)

Nếu muốn nhiệt độ ra T₂ = TSP ta cần phải biết được giá trị của T₁ và Gₚ, thay vào phương trình trên để tính được lưu lượng Gₛ của dòng hơi. Từ đó hình thành ý tưởng điều khiển nhiệt độ trong phương pháp này: liên tục đo các đại lượng T₁ và Gₚ, tính toán lại giá trị lưu lượng dòng hơi cần cấp cho quá trình. Sơ đồ khối và Lưu đồ điều khiển được minh hoạ trên Hình 2.3

[Hình 2.3 Lưu đồ và sơ đồ khối điều khiển theo phương pháp 2]

Sơ đồ khối:
- TSP → BĐK TIC-101 → Gₛ → QT TĐN → T₂
- T₁, Gₚ (nhiễu đo được) đưa vào BĐK TIC-101
- Tₙ: Biến ra không điều khiển

Lưu đồ điều khiển:
- TSP → TIC 101 → Van điều khiển
- FT 101: Đo lưu lượng Gₚ
- TT 101: Đo nhiệt độ T₁ 
- TT 102: Đo nhiệt độ T₂ (chỉ để kiểm tra)
- Gₛ, τₛ: Hơi nước vào
- Gₚ, T₁: Dòng quá trình vào
- Nước ngưng ra

Vòng điều khiển nhiệt độ 101 được thiết kế cho trường hợp này. Lưu lượng và nhiệt độ đầu vào của dòng quá trình được các bộ cảm biến và truyền tín hiệu (FT-101, TT-101) đưa tới bộ điều khiển nhiệt độ (TIC-101). Dựa vào các giá trị đo này, bộ điều khiển tính toán lưu lượng hơi theo công thức tính Gₛ ở trên, đưa ra tác động độ mở van tương ứng.

Phương pháp này, không sử dụng thông tin nhiệt độ biến cần điều khiển T2, nên nhiệt độ đầu ra quá trình chỉ đo nhằm mục đích kiểm tra thêm, chứ không phục vụ để điều khiển. Thiết bị đo nhiệt độ TT-102 có thể không cần thiết trong sơ đồ này.

================================================================================
Page 48 of 165 - COMPLETED
================================================================================

Phương pháp 3: Kết hợp cả hai phương pháp 1 và 2. Đo cả biến cần điều khiển T₂ và các biến nhiễu T₁, Wₚ để chỉnh lại Gₛ như Hình 2.4.

[Hình 2.4 Lưu đồ và sơ đồ điều khiển theo phương pháp kết hợp]

Sơ đồ khối:
- TSP → BĐK → Gₛ → QT TĐN → T₂
- T₁, Gₚ (nhiễu đo được) đưa vào BĐK
- T₂ phản hồi về BĐK
- Tₙ: Biến ra không điều khiển

Lưu đồ điều khiển:
- TIC 101: Bộ điều khiển truyền thẳng (nhận tín hiệu từ FT 101, TT 101)
- TIC 102: Bộ điều khiển phản hồi (nhận giá trị đặt và tín hiệu từ TT 102)
- Bộ cộng (⊗): Kết hợp tín hiệu từ TIC 101 và TIC 102
- TT 102: Đo nhiệt độ T₂
- FT 101: Đo lưu lượng Gₚ
- TT 101: Đo nhiệt độ T₁
- Van điều khiển trên đường hơi nước Gₛ, τₛ
- Gₚ, T₁: Dòng quá trình vào
- Nước ngưng ra với nhiệt độ Tₙ

Tín hiệu điều khiển từ bộ điều khiển TIC-102 được kết hợp với tín hiệu điều khiển của bộ điều khiển TIC-101 nhờ "Bộ cộng". Đầu ra của "Bộ cộng" là tín hiệu tác động vào van điều khiển gắn trên đường hơi nước bão hòa nhằm duy trì nhiệt độ T₂ ở giá trị đặt mong muốn.

Tổng kết lại, có các cách điều khiển quá trình gia nhiệt như sau:

| Phương pháp | Biến đo                          | Biến điều khiển | Sách lược điều khiển |
|-------------|----------------------------------|-----------------|----------------------|
| 1           | Biến được điều khiển T₂          | Gₛ              | Phản hồi             |
| 2           | Biến nhiễu T₁ và Gₚ              | Gₛ              | Truyền thẳng         |
| 3           | Biến được điều khiển T₂          | Gₛ              | Kết hợp              |
|             | và các biến nhiễu T₁, Gₚ         |                 |                      |

Tùy theo quan hệ giữa biến cần điều khiển, biến đo, và biến điều khiển mà có các Sách lược điều khiển khác nhau. Các sách lược điều khiển phổ biến trong thực tế là:
• Điều khiển phản hồi (Feedback control, FB)
• Điều khiển truyền thẳng (Feedforward control, FF)
• Điều khiển kết hợp (FF/FB)

Ngoài ra còn một số sách lược mở rộng của các sách lược trên: Điều khiển tỷ lệ (Ratio control, RC) và Điều khiển tầng (Cascade control, CC).

================================================================================
Page 49 of 165 - COMPLETED
================================================================================

2.2 SÁCH LƯỢC ĐIỀU KHIỂN PHẢN HỒI

Sách lược điều khiển phản hồi dựa trên nguyên tắc liên tục đo giá trị biến được điều khiển và phản hồi thông tin về bộ điều khiển, bộ điều khiển so sánh nó với giá trị đặt, tính toán lại giá trị của biến điều khiển cần tác động vào quá trình nhằm đạt được giá trị đặt mong muốn của biến được điều khiển.

Cấu trúc chung của sách lược điều khiển phản hồi thể hiện trên sơ đồ khối Hình 2.5.

[Hình 2.5 Sơ đồ khối sách lược điều khiển phản hồi]

                              Nhiễu
                                z
                                ↓
Setpoint → ⊗ → e → [BĐK] → u → [Thiết bị] → x → [QT TĐN] → y
           ↑                    chấp hành
           │
          Ym ← [Thiết bị đo] ←────────────────────────┘

Điều khiển phản hồi là một sách lược điều khiển đóng vai trò nền tảng và được áp dụng phổ biến trong điều khiển quá trình. Bản chất của sách lược điều khiển phản hồi là phương thức điều khiển theo thông tin phản hồi từ biến được điều khiển, hay còn gọi là điều khiển theo sai lệch: sai lệch giữa giá trị biến được điều khiển so với giá trị cài đặt.

Đặc điểm của điều khiển phản hồi:

Điều khiển phản hồi có nhược điểm là đưa ra tác động chậm, bởi vì khi phát hiện ra sai lệch mới bắt đầu quá trình khắc phục sai lệch đó. Nhất là đối với quá trình có động học chậm, ảnh hưởng khi có tác động của nhiễu tới đầu ra của quá trình phải mất một khoảng thời gian dài, dẫn đến quá trình phát hiện sai lệch và hiệu chỉnh lại sai lệch chậm hơn.

Mặc dù còn có một số nhược điểm như nêu trên, nhưng ưu điểm của điều khiển phản hồi vẫn là nổi trội. Do đó, trong số các sách lược điều khiển độc lập thì sách lược điều khiển phản hồi vẫn đóng vai trò quan trọng nhất, được sử dụng ở hầu hết các hệ thống điều khiển tự động. Các ưu điểm chính có thể kể đến là: điều khiển phản hồi cho chất lượng điều khiển có độ chính xác cao. Điều này được giải thích là do tác động điều khiển U được hình thành dựa trên độ sai lệch điều khiển, nên chừng nào còn sai lệch thì bộ điều khiển còn đưa ra tác động đến biến điều khiển làm cho sai lệch nhỏ đi, tạo ra đáp ứng chính xác. Một ưu điểm khác của điều khiển phản hồi đó là khả năng triệt tiêu ảnh hưởng của nhiễu không biết trước hay không đo được.

================================================================================
Page 50 of 165 - COMPLETED
================================================================================

2.3 SÁCH LƯỢC ĐIỀU KHIỂN TRUYỀN THẲNG

Sách lược điều khiển truyền thẳng là sách lược mà ở đó bộ điều khiển tiếp nhận tín hiệu của những nhiễu đo được, truyền về bộ điều khiển nhằm ngăn chặn kịp thời sự tác động, ảnh hưởng của biến nhiễu đối với quá trình, qua đó có thể đạt được mục đích của quá trình. Bản chất sách lược điều khiển truyền thẳng là phương thức điều khiển theo thông tin biến nhiễu, nên còn được gọi là sách lược điều khiển bù nhiễu. Sơ đồ khối tổng quát sách lược điều khiển bù nhiễu như Hình 2.6.

[Hình 2.6 Sơ đồ khối điều khiển theo sách lược truyền thẳng]

                    Nhiễu z
                       ↓
                 [Thiết bị đo]
                       ↓
Setpoint → [BĐK] → u → [Thiết bị] → x → [QT TĐN] → y
                        chấp hành

Trong sách lược điều khiển phản hồi, thông tin phản hồi được sử dụng là tín hiệu đo được của biến cần điều khiển, còn trong sách lược điều khiển truyền thẳng sử dụng thông tin là tín hiệu đo được của biến nhiễu.

Đặc điểm của điều khiển truyền thẳng:

Điều khiển truyền thẳng được áp dụng rộng rãi trong điều khiển quá trình với những ưu điểm quan trọng là tác động nhanh do khả năng loại bỏ ảnh hưởng của nhiễu trước khi nó kịp ảnh hưởng xấu tới quá trình. Song điều khiển truyền thẳng cũng có những nhược điểm là: chất lượng điều khiển có độ chính xác không cao. Điều này có thể hiểu được do khi điều khiển truyền thẳng cần phải biết rõ thông tin về quá trình và ảnh hưởng của nhiễu, tuy nhiên không phải nhiễu nào cũng đo được do vậy nó không triệt tiêu được nhiễu không đo được hay không biết trước nên sai lệch điều khiển bao giờ cũng tồn tại.

2.4 ĐIỀU KHIỂN KẾT HỢP PHẢN HỒI VÀ TRUYỀN THẲNG

Từ sách lược điều khiển cơ bản nêu trên, nếu áp dụng độc lập đều có những nhược điểm nhất định: điều khiển phản hồi có ưu điểm chính xác và triệt tiêu được ảnh hưởng của nhiễu, nhưng lại chậm; điều khiển truyền thẳng thì không cho độ chính xác cao nhưng lại phản ứng nhanh với ảnh hưởng của nhiễu. Vì vậy, trong thực tế thường ít khi

================================================================================
Page 51 of 165 - COMPLETED
================================================================================

chỉ áp dụng điều khiển phản hồi thuần tuý hoặc điều khiển truyền thẳng thuần tuý mà thường kết hợp các sách lược điều khiển nêu trên trong cùng một Hệ thống điều khiển tự động đối với các Quá trình và Thiết bị công nghệ.

Cấu trúc sách lược kết hợp truyền thẳng với điều khiển phản hồi thể hiện trên Sơ đồ khối tổng quát Hình 2.7, trong đó đầu ra của mỗi bộ điều khiển được kết hợp lại với nhau bằng "Bộ tổng" trước khi đưa tín hiệu xuống thiết bị chấp hành.

[Hình 2.7 Sơ đồ khối điều khiển kết hợp truyền thẳng và phản hồi]

                                           Nhiễu z
                                              ↓
                         ┌─────────┐    [Thiết bị đo]
                         │   BĐK   │←────────┘
                         └────┬────┘
                              ↓
Setpoint → ⊗ → e → [BĐK] → ⊗ → u → [Thiết bị] → x → [QT TĐN] → y
            ↑                        chấp hành
            │
           Ym ← [Thiết bị đo] ←────────────────────────────┘

2.5 SÁCH LƯỢC ĐIỀU KHIỂN TỶ LỆ

Điều khiển tỷ lệ (Ratio Control, RC) là một dạng đặc biệt của điều khiển truyền thẳng, trong đó bộ điều khiển tiếp nhận tín hiệu của các biến vào, duy trì tỉ lệ giữa các biến đó theo một giá trị thích hợp nhằm điều khiển quá trình hoạt động theo yêu cầu mong muốn.

Cơ sở để áp dụng Sách lược điều khiển kiểu tỷ lệ:

Ở các quá trình công nghệ thực tế, có khá nhiều quá trình mà ở đầu vào có sự tham gia của 2 dòng vật chất: một dòng có thể kiểm soát được (can thiệp được), còn một dòng không kiểm soát được (nhiễu đo được). Kết quả hay sản phẩm của các quá trình như vậy chịu sự tác động, ảnh hưởng trực tiếp bởi tỷ lệ giữa hai lượng vật chất đó. Có thể nêu ra khá nhiều ví dụ minh chứng cho điều đó để làm cơ sở cho việc áp dụng sách lược điều khiển tỷ lệ.

- VÍ DỤ 2.2: Ở lò đốt công nghiệp, để đạt được hiệu suất cao của quá trình cháy, cần duy trì tỷ lệ hợp lý hoặc tối ưu giữa lượng nhiên liệu và lượng không khí cấp cho quá trình cháy. Nếu mục đích đặt ra cho lò đốt cần tạo ra khói lò có nhiệt độ cao cần thiết cho quá trình kế tiếp thì rõ ràng nhiệt độ khói lò mong muốn đạt được sẽ phụ thuộc chủ yếu vào tỷ lệ giữa chúng nếu như nhiệt độ, độ ẩm hay thông số vật lý khác của 2 dòng vào đó đều ít thay đổi.

- VÍ DỤ 2.3: Quá trình khuấy trộn như Hình 2.8, ở đó có 2 dòng nguyên liệu hoà trộn tại bình khuấy trộn: một dòng có lưu lượng W₁ và nồng độ X₁, một dòng có lưu lượng W₂ và nồng độ X₂, sản phẩm cuối quá trình hoà trộn có lưu lượng W và nồng độ X

[Hình 2.8 Sơ đồ công nghệ quá trình khuấy trộn]
- Hai dòng nguyên liệu vào: W₁, X₁ và W₂, X₂
- Các biến nhiễu tác động vào quá trình
- Biến điều khiển → QUÁ TRÌNH KHUẤY → Biến cần điều khiển
- Sản phẩm ra: W, X

Mục đích quá trình khuấy trộn này là nồng độ sau hoà trộn cần phải đạt được theo yêu cầu. Từ phương trình cân bằng vật chất:

                    (W₁ + W₂)X = W₁X₁ + W₂X₂

Sau phép biến đổi nhận được biểu thức xác định nồng độ sau hoà trộn X như sau:

                    X = 1/(1 + (W₂/W₁)) · X₁ + (W₂/W₁)/(1 + (W₂/W₁)) · X₂

Nếu nồng độ đầu vào của 2 dòng nguyên liệu X₁ và X₂ đều không thay đổi thì: khi tỷ lệ giữa 2 lưu lượng (W₂/W₁) không thay đổi thì nồng độ X sau hoà trộn cũng sẽ đạt được giá trị mong muốn. Đây chính là cơ sở để có thể áp dụng sách lược điều khiển tỷ lệ để điều khiển nhằm đạt được yêu cầu của biến cần điều khiển X.

- VÍ DỤ 2.4: Quá trình trao đổi nhiệt, từ phương trình cân bằng năng lượng, ta có thể suy ra:

================================================================================
Page 52 of 165 - COMPLETED
================================================================================

                    T = T₁ + (rₛ/Cₚ) · (Gₛ/Gₚ)

Nếu nhiệt độ đầu vào dòng quá trình và áp suất hơi bão hoà không thay đổi thì nhiệt độ ra ở trạng thái xác lập phụ thuộc chủ yếu vào tỉ lệ các lưu lượng (Gₛ/Gₚ).

Bài toán điều khiển nhiệt độ đầu ra T₂ = Tsp có thể chuyển về bài toán điều khiển tỷ lệ lưu lượng hai dòng đầu vào quá trình ổn định ở một giá trị Rsp tương ứng để gián tiếp điều khiển nhiệt độ đầu ra. Tỷ lệ cài đặt được tính từ phương trình ở trạng thái cân bằng.

                    Rsp = (Gₛ/Gₚ)sp = (Tsp - T₁) · (Cₚ/rₛ)

Dựa trên cơ sở xem xét, phân tích thông qua một số ví dụ cụ thể cũng như nhiều quá trình công nghệ thực tế, để áp dụng được sách lược điều khiển tỷ lệ yêu cầu phải có thông tin đo được của cả hai dòng đầu vào của quá trình. Trong hai dòng đó thì phải có ít nhất một dòng mà ta có thể can thiệp vào được, gọi là dòng kiểm soát, dòng còn lại được coi là nhiễu hay dòng không kiểm soát. Trong thực tế, ở sách lược điều khiển tỷ lệ, tỷ lệ giữa hai biến thường là tỷ lệ giữa hai lưu lượng.

Hai cấu hình điều khiển tỉ lệ

Sách lược điều khiển tỉ lệ có thể thực hiện với hai cấu hình như trên Hình 2.9.

[Hình 2.9 Hai cấu hình điều khiển tỷ lệ]

Cấu hình (a):
- Hơi nước dòng can thiệp được → FT 01.2
- Dòng không can thiệp → FT 01.1 (dòng quá trình)
- Bộ chia (÷) tính tỷ lệ thực R
- RC 01: Bộ điều khiển tỷ lệ (nhận Rsp)
- Thiết bị trao đổi nhiệt với T₂ và nước ngưng Tₙ

Cấu hình (b):
- Hơi nước dòng can thiệp được → FT 01.2
- Dòng không can thiệp → FT 01.1 (dòng quá trình)
- Bộ nhân (×) tính Wsp = Rsp × W₁
- FC 01: Bộ điều khiển lưu lượng
- Thiết bị trao đổi nhiệt với T₂ và nước ngưng Tₙ

Trong cấu hình (a), tín hiệu lưu lượng hai dòng lần lượt được đo bằng cảm biến FT-01.1 và FT-01.2, đưa qua "Bộ chia" thực hiện tính toán tỷ lệ thực R ở thời điểm hiện tại. Tỷ lệ này được truyền về bộ điều khiển tỷ lệ RC (cài đặt sẵn Rsp), ở đó sẽ thực hiện so sánh

================================================================================
Page 53 of 165 - COMPLETED
================================================================================

R với Rsp để điều khiển lưu lượng của dòng can thiệp được. Do đó, trường hợp điều khiển theo cấu hình (a) còn được gọi là điều khiển theo sai lệch (sai lệch e = Rsp – R). Thông thường, nếu không biểu diễn bộ điều khiển có ký hiệu RC tách riêng biệt với "bộ chia" mà biểu diễn kiểu ghép chung thành 1 bộ điều khiển tỷ lệ lưu lượng duy nhất, thì ta dùng ký hiệu FFC (Flow Fraction Control) cho bộ điều khiển tỷ lệ lưu lượng, thay cho việc dùng ký hiệu bộ điều khiển tỷ lệ RC.

Trong cấu hình (b), tín hiệu đo được của dòng quá trình từ cảm biến FT-01.1 được nhân với giá trị đặt Rsp, giá trị này được dùng làm tín hiệu đặt cho bộ điều khiển lưu lượng dòng kiểm soát (Bộ điều khiển lưu lượng FC) để điều khiển chỉnh lưu lượng dòng hơi đó. Như vậy, thực tế cấu hình (b) bộ điều khiển lưu lượng dòng kiểm soát cũng thực hiện việc điều khiển theo sai lệch. Ngoài ra cũng có thể gộp "bộ nhân" với bộ điều khiển lưu lượng FC thành một bộ điều khiển lưu lượng duy nhất, ký hiệu là FFC. Cấu hình này hay được áp dụng trong thực tế, bởi vì việc chọn tham số cho bộ điều khiển lưu lượng thường khá đơn giản. Đây cũng là ưu điểm của điều khiển tỷ lệ so với điều khiển bù nhiễu thuần tuý. Ngoài nhược điểm chung của sách lược điều khiển truyền thẳng thì cũng cần lưu ý khi cài đặt bộ điều khiển cho trường hợp này, giá trị cài đặt không biết trước và thường thay đổi liên tục theo thời gian.

ĐIỀU KHIỂN PHẢN HỒI KẾT HỢP TỶ LỆ:

Bản chất sách lược điều khiển tỷ lệ là điều khiển truyền thẳng, không có biến cần điều khiển nào được đo và được so sánh với giá trị đặt, do đó điều khiển tỷ lệ cho chất lượng điều khiển không cao. Trong hai cấu hình điều khiển tỷ lệ ở trên, chỉ cần một yếu tố như nhiệt độ ban đầu của 2 dòng thay đổi thì nhiệt độ đầu ra T₂ sẽ không đạt được giá trị mong muốn Tsp.

[Hình 2.10 Sơ đồ khối điều khiển kết hợp phản hồi và tỷ lệ]
- Ysp → e → FBC → Rsp → FFC → Thiết bị chấp hành → Quá trình TĐN → Y
- Nhiễu z tác động vào Quá trình TĐN
- Y phản hồi về để so sánh với Ysp

================================================================================
Page 54 of 165 - COMPLETED
================================================================================

Thực tế có thể kết hợp điều khiển tỷ lệ với phản hồi, giải pháp được đưa ra là giá trị đặt tỷ lệ Rsp của vòng điều khiển tỷ lệ sẽ được tính toán và cài đặt từ bộ điều khiển phản hồi. Khi đó tỷ lệ lưu lượng giữa hai dòng có ảnh hưởng lớn đến nhiệt độ đầu ra T₂ sẽ được vòng điều khiển tỷ lệ FFC kiểm soát, vòng điều khiển phản hồi có nhiệm vụ chỉnh lại tỷ lệ đặt khi có yếu tố nhiễu tác động làm cho nhiệt độ T₂ không đạt giá trị đặt mong muốn. Sách lược điều khiển này cũng là một dạng của điều khiển tầng, sơ đồ khối thể hiện trên Hình 2.10.

2.6 SÁCH LƯỢC ĐIỀU KHIỂN TẦNG

Điều khiển tầng (cascade control) là sách lược điều khiển sử dụng cấu trúc nhiều bộ điều khiển lồng nhau, trong đó tín hiệu điều khiển của vòng ngoài sẽ dùng để làm giá trị đặt cho bộ điều khiển vòng trong. Ví dụ điều khiển quá trình gia nhiệt Hình 2.11.

[Hình 2.11 Sách lược phản hồi và điều khiển tầng]

a) Điều khiển phản hồi đơn:
- TIC 102: Bộ điều khiển nhiệt độ (nhận Tsp)
- TT 102: Thiết bị đo nhiệt độ T₂
- Gₛ: Hơi nước → Van điều khiển
- Dòng quá trình
- Tₙ: Nước ngưng

b) Điều khiển tầng:
- TIC 102: Bộ điều khiển nhiệt độ vòng ngoài (nhận Tsp)
- TIC: Bộ điều khiển lưu lượng vòng trong (nhận Gₛ,sp từ TIC 102)
- FT 101: Thiết bị đo lưu lượng Gₛ
- TT 102: Thiết bị đo nhiệt độ T₂
- Gₛ: Hơi nước → Van điều khiển
- Dòng quá trình
- Tₙ: Nước ngưng

Trong trường hợp hệ thống điều khiển vòng đơn phản hồi đang hoạt động tốt, nhiệt độ T₂ bằng đúng giá trị đặt Tsp, lúc này lượng hơi cấp cho quá trình là không đổi, tương ứng với độ mở van được giữ nguyên. Giả sử dưới tác động của yếu tố nhiễu nào đó ví dụ như áp suất dòng hơi làm cho lượng hơi cấp cho quá trình thay đổi trong khi độ mở van vẫn không đổi, nhưng sự thay đổi lưu lượng hơi này phải mất một khoảng thời gian dài mới làm thay đổi nhiệt độ đầu ra của dòng quá trình. Kết quả là khi bộ điều khiển nhiệt độ phản ứng với sự thay đổi nhiệt độ đó và đưa ra tín hiệu điều khiển độ mở van thì có thể

================================================================================
Page 55 of 165 - COMPLETED
================================================================================

đã quá muộn nếu lượng hơi đã trở lại giá trị bình thường. Vấn đề này khiến cho sách lược điều khiển phản hồi thuần tuý không đáp ứng được chất lượng, thậm chí có thể gây ra mất ổn định cho hệ thống.

Để ngăn chặn phản ứng chậm chạp này, hệ thống điều khiển được bổ sung một vòng điều khiển lưu lượng như Hình 2.11 (b) nhằm sớm phát hiện và giảm thiểu ảnh hưởng của nhiễu ngay tại nơi nó phát sinh. Đầu ra từ bộ điều khiển nhiệt độ TIC-102 của vòng ngoài được đưa xuống làm giá trị đặt cho bộ điều khiển lưu lượng FIC-101 của vòng trong. Sơ đồ khối sách lược điều khiển tầng được thể hiện trên Hình 2.12.

[Hình 2.12 Sơ đồ khối điều khiển tầng]

                                                        Gₚ, T₁
                                                           ↓
Tsp → ⊗ → e → [TIC] → Gₛ,sp → ⊗ → e₂ → [FIC] → u → [Van điều] → Gₛ → [Quá trình TĐN] → T₂
      ↑                        ↑                      khiển
      │                        │
     Tₘ ←─── [Cảm biến] ←──────┼───────────────────────────────────────────────┘
              TT-102           │
                               │
                          [Cảm biến]
                           FT-101

Khi hệ thống hoạt động ở trạng thái ổn định, tín hiệu ra từ bộ điều khiển vòng ngoài không đổi, đồng nghĩa với giá trị lưu lượng đặt cho bộ điều khiển vòng trong không đổi, lúc này bộ điều khiển lưu lượng FIC-101 có trách nhiệm duy trì lưu lượng hơi nước cố định theo giá trị đặt, cho nên nhiễu nhất thời tại van điều khiển hầu như không ảnh hưởng tới nhiệt độ đầu ra. Khi có nhiễu khác (T₁, Gₚ..) tác động làm cho nhiệt độ đầu ra lệch khỏi giá trị đặt, bộ điều khiển nhiệt độ (vòng ngoài) sẽ thực hiện vòng điều khiển mới để tạo một giá trị đặt mới cho bộ điều khiển lưu lượng.

Điều khiển tầng được ứng dụng khi điều khiển vòng đơn đáp ứng chậm, không cho chất lượng điều khiển mong muốn. Điều khiển tầng là một cấu trúc điều khiển nhiều vòng đơn lồng nhau, trong đó vòng điều khiển tầng trên (vòng ngoài) bao giờ cũng là vòng điều khiển phản hồi, được kết hợp với vòng điều khiển tầng dưới (vòng trong), vòng trong có thể là vòng điều khiển phản hồi hoặc tỷ lệ, giá trị đặt của vòng trong được tính toán và điều chỉnh thường xuyên bởi vòng điều khiển vòng ngoài.

================================================================================
Page 56 of 165 - COMPLETED
================================================================================

CHƯƠNG 3

CẤU TRÚC ĐIỀU CHỈNH CÁC ĐẠI LƯỢNG CƠ BẢN

    3.1. Điều chỉnh lưu lượng
    3.2. Điều chỉnh mức
    3.3. Điều chỉnh áp suất
    3.4. Điều chỉnh nhiệt độ
    3.5. Điều chỉnh pH
    3.6 Điều chỉnh thành phần và chất lượng

================================================================================
Page 57 of 165 - COMPLETED
================================================================================

3.1. ĐIỀU CHỈNH LƯU LƯỢNG

Trong nhà máy sản xuất, để vận chuyển chất lỏng qua đường ống, người ta thường sử dụng bơm ly tâm, bơm piston…, để vận chuyển khí sử dụng quạt, máy thổi khí, máy nén ly tâm, v.v. Nhu cầu kiểm soát lưu lượng phát sinh ở bất kỳ quá trình liên tục nào. Khi điều chỉnh lưu lượng, cần tính đến một số đặc điểm thường không có trong các hệ thống điều khiển đối với các thông số công nghệ khác. Đặc điểm đầu tiên là quán tính nhỏ của đối tượng điều khiển, do đây thường là một đoạn đường ống nằm giữa thiết bị đo lưu lượng và thiết bị chấp hành. Đặc điểm thứ hai là tín hiệu đo lưu lượng luôn chứa nhiễu, mức nhiễu cao, do ảnh hưởng từ hoạt động của máy bơm, máy nén, dao động dòng chảy ngẫu nhiên. Các vòng điều khiển lưu lượng thường đáp ứng các thay đổi một cách nhanh chóng. Do đó, hệ thống điều khiển phải có thời gian lấy mẫu và phản hồi nhanh để tránh khuếch đại nhiễu ngẫu nhiên trong hệ thống, đồng thời nên sử dụng bộ điều khiển với hệ số khuếch đại nhỏ.

Chất lượng điều khiển phụ thuộc vào việc lựa chọn luật điều khiển. Bộ điều khiển với quy luật P+I được sử dụng để điều chỉnh lưu lượng dòng chảy cho độ chính xác cao. Không nên sử dụng bộ điều khiển có quy luật D trong các hệ thống điều khiển dòng chảy công nghiệp, do tín hiệu nhiễu với tần số cao của dòng chảy có thể gây ra mất ổn định của hệ thống điều khiển.

Hệ thống tự động điều chỉnh lưu lượng được sử dụng để triệt tiêu hay giảm thiểu ảnh hưởng của nhiễu trong dòng lưu chất. Có ba phương pháp phổ biến điều khiển lưu lượng nói chung:

- Dùng thiết bị chấp hành là van lắp trên ống dẫn để tiết lưu dòng lưu chất đi qua.
- Sử dụng đường ống dẫn hồi lưu, nghĩa là chuyển phần dư của lưu chất từ ống dẫn chính sang đường hồi lưu (bypass).
- Thay đổi tốc độ vòng quay máy bơm hoặc góc quay cánh quạt, bằng cách điều chỉnh nguồn năng lượng, qua đó thay đổi cột áp trong đường ống dẫn.

Ngoài ra, trong thực tế có thể dùng nhiều bơm đồng thời hay từng bơm tuỳ theo yêu cầu lưu lượng cần đảm bảo.

Ví dụ, xét một sơ đồ điều khiển lưu lượng dòng chảy được tạo ra bởi một máy bơm ly tâm thể hiện trên Hình 3.1. Cảm biến lưu lượng được lắp đặt sau máy bơm ly tâm trên đường xả, trước van điều khiển. Khi lưu lượng dòng chất lỏng lệch khỏi giá trị cài đặt,

================================================================================
Page 58 of 165 - COMPLETED
================================================================================

bộ điều khiển lưu lượng tạo ra tín hiệu điều khiển đưa tới van điều khiển. Độ mở của van thay đổi, dẫn đến thay đổi tổng trở lực và do đó chỉnh lại lưu lượng như yêu cầu.

[Hình 3.1 Hệ thống điều khiển lưu lượng dùng van điều khiển]
- Bơm ly tâm → Cảm biến lưu lượng → Van điều khiển
- FC: Bộ điều khiển lưu lượng (nhận giá trị đặt)
- Tín hiệu phản hồi từ cảm biến về FC

Lưu ý không nên lắp đặt thiết bị đo lưu lượng, như màng chắn, trên đường hút của máy bơm ly tâm: việc tiết lưu dòng chảy qua màng chắn có thể gây ra hiện tượng xâm thực trong máy bơm, dẫn đến sự mài mòn nhanh chóng và giảm hiệu suất bơm.

[Hình 3.2 Hệ thống điều khiển lưu lượng (Bơm piston/ly tâm)]
- Bơm piston hoặc ly tâm
- Cảm biến lưu lượng (đặt sau bơm)
- Van điều khiển (đặt trên đường bypass)
- FC: Bộ điều khiển lưu lượng (nhận giá trị đặt)
- Tín hiệu phản hồi từ cảm biến về FC

================================================================================
Page 59 of 165 - COMPLETED
================================================================================

Một lưu ý khác trên Sơ đồ ở Hình 3.1, khi giảm độ mở của van làm áp lực trong hệ thống tăng quá mức, điều này dẫn đến giảm tuổi thọ của các thiết bị, cho nên phương án đề xuất như sơ đồ này chỉ áp dụng ở một khoảng áp lực cho phép. Phương án này cũng không được áp dụng nếu sử dụng máy bơm piston để di chuyển chất lỏng, bởi vì theo lệnh của bộ điều chỉnh, van điều khiển có thể được đóng hoàn toàn, áp suất trên đường ống tăng dần có thể dẫn đến vỡ đường ống. Nếu một van điều khiển được lắp vào đường hút của máy bơm piston, nó sẽ gây ra hiện tượng tăng áp. Để đảm bảo an toàn cho bơm nói chung, khi lắp đặt van điều khiển, người ta sử dụng hai phương pháp lắp đặt van điều khiển trên đường hồi lưu như Hình 3.2.

Trong nhiều trường hợp thực tế, khi sử dụng máy bơm hay quạt để vận chuyển lưu chất, để điều chỉnh lưu lượng dòng lưu chất, giải pháp thay đổi tốc độ động cơ dẫn động được xem là thích hợp nhất, giúp tiết kiệm điện năng một cách hiệu quả. Điều này thường được thực hiện thông qua một thiết bị là bộ biến tần, có chức năng thay đổi tần số của nguồn điện cấp cho động cơ dẫn động. Sơ đồ điều khiển được thể hiện trên Hình 3.3.

[Hình 3.3 Điều khiển lưu lượng sử dụng biến tần]
- Bơm → Motor (M) → Biến tần
- Cảm biến lưu lượng (đặt sau bơm)
- FC: Bộ điều khiển lưu lượng (nhận giá trị đặt)
- Tín hiệu điều khiển từ FC đến Biến tần
- Tín hiệu phản hồi từ cảm biến về FC

================================================================================
Page 60 of 165 - COMPLETED
================================================================================

3.2 ĐIỀU CHỈNH MỨC

Điều khiển mức là một dạng của điều khiển lưu lượng. Nhu cầu điều khiển mức đều có ở bất kỳ quá trình công nghệ hoá học nào: ví dụ mức trong bồn chứa sản phẩm, bồn chứa trung gian, thiết bị phản ứng, thiết bị chưng cất, nồi cô đặc…

Sự thay đổi mức chất lỏng trong thiết bị có diện tích mặt cắt ngang không đổi A trong trường hợp chung có thể được biểu diễn bằng phương trình:

                    A · (dh/dt) = Fᵢ - Fₒ

Trong đó Fᵢ, Fₒ là lưu lượng dòng vào, ra có tính đến sự chuyển pha và biến đổi hoá học. Tốc độ thay đổi mức chất lỏng phần lớn phụ thuộc vào kích thước và hình dạng của bình chứa và lưu lượng dòng vào và dòng ra. Ví dụ, với cùng một chiều cao, các bình có tiết diện ngang càng lớn thì càng mất nhiều thời gian hơn để đổ đầy chất lỏng so với các bình nhỏ hơn.

Để đo mức, có thể sử dụng một trong nhiều công nghệ đo lường khác nhau, bao gồm radar, siêu âm, đo phao và đo áp suất. Thiết bị chấp hành thường là một van hoặc bơm nối với đầu vào và/hoặc đầu ra bồn chứa. Bởi vì việc tránh tràn bể chứa thường rất quan trọng, hệ thống điều khiển an toàn mức cũng được sử dụng.

Với trường hợp không có chuyển pha, mức chất lỏng trong thiết bị được điều khiển theo nhiều cách tuỳ thuộc vào mục đích sử dụng bồn chứa, ví dụ thay đổi lưu lượng dòng vào hoặc lưu lượng dòng ra như đã được giới thiệu ở ví dụ phần trước. Một cấu trúc điều khiển tầng cũng có thể được áp dụng như Hình 3.4. Giá trị đặt tỷ lệ lưu lượng giữa dòng vào và dòng ra của bộ điều khiển tỷ lệ FFC được tính toán và điều chỉnh thường xuyên nhờ bộ điều khiển phản hồi LC.

[Hình 3.4 Điều khiển mức theo sách lược điều khiển tầng]
- Bồn chứa chất lỏng với dòng vào và dòng ra
- LT: Thiết bị đo mức
- LC: Bộ điều khiển mức (nhận hsp)
- FFC: Bộ điều khiển tỷ lệ lưu lượng (nhận Rsp từ LC)
- Motor (M) điều khiển bơm dòng ra
- Tín hiệu phản hồi mức từ LT về LC

================================================================================
Page 61 of 165 - COMPLETED
================================================================================

Trường hợp có sự chuyển pha trong thiết bị, ví dụ thiết bị bốc hơi, cô đặc, chưng cất… mức chất lỏng được điều khiển bằng cách thay đổi lưu lượng chất tải nhiệt, ví dụ lưu lượng hơi đốt hay chất làm lạnh như trên Hình 3.5.

[Hình 3.5 Điều khiển mức trong thiết bị bốc hơi]
- Thiết bị bốc hơi với hsp (giá trị đặt mức)
- LC: Bộ điều khiển mức
- Motor (M) điều khiển van/bơm chất tải nhiệt
- Hơi ra phía trên thiết bị
- Dòng vào và dòng ra chất lỏng

Trong các thiết bị này, do chất lỏng sôi nên khó đo để biết chính xác mực chất lỏng, nên thường kết hợp kinh nghiệm để bù độ lệch của thiết bị đo. Ngoài ra mức còn phụ thuộc vào các thông số công nghệ khác, chẳng hạn như áp suất. Ngoài cách điều khiển như được đề xuất, đương nhiên, trong từng trường hợp cụ thể, hệ thống điều khiển mức được thực hiện có tính đến các vòng điều khiển khác.

Khi không cần độ chính xác cao, điều khiển ON//OFF (điều khiển 2 trạng thái) được sử dụng để duy trì mực chất lỏng trong khoảng đủ rộng: hmax ≥ h ≥ hmin. Khi mức đạt đến độ cao hmax, bộ điều chỉnh tự động chuyển hướng lưu chất sang kênh 2 bằng cách đóng van V₁ và mở van V₂ như sơ đồ Hình 3.6.

[Hình 3.6 Điều khiển mức lỏng theo vị trí]
- Bồn chứa chất lỏng
- LT: Thiết bị đo mức
- LC: Bộ điều khiển mức (nhận hsp)
- V₁: Van chuyển mạch kênh 1 (S)
- V₂: Van chuyển mạch kênh 2 (S)
- Dòng vào và hai dòng ra (kênh 1 và kênh 2)

================================================================================
Page 62 of 165 - COMPLETED
================================================================================

3.3 ĐIỀU CHỈNH ÁP SUẤT

Áp suất tỷ lệ với lưu lượng pha khí ở đầu vào và đầu ra thiết bị có tính đến sự chuyển pha và biến đổi hoá học. Áp suất không đổi chỉ ra sự duy trì cân bằng vật chất của thiết bị trong pha khí, phương trình cân bằng được viết dưới dạng:

                    V · (dP/dt) = f(Fᵢ - Fₒ)

trong đó V là thể tích thiết bị, Fᵢ, Fₒ là lưu lượng dòng vào, ra có tính đến sự chuyển pha và biến đổi hoá học. Trong các quá trình và thiết bị công nghệ hoá học, áp suất thường được điều chỉnh bằng cách:
- Kiểm soát lưu lượng nước làm nguội ở thiết bị ngưng tụ.
- Kiểm soát lưu lượng khí không ngưng đi ra từ thiết bị.
- Điều khiển độ mở van gắn trên ống dẫn bằng bộ điều chỉnh trực tiếp.

Thông thường áp suất trong toàn hệ thống công nghệ được ổn định tại một thiết bị bất kỳ nào đó. Ví dụ, trong một hệ thống cô đặc nhiều nồi như trên Hình 3.7.

[Hình 3.7 Điều khiển áp suất trong hệ thống cô đặc 2 nồi liên tục]
- Nguyên liệu vào nồi 1
- Hơi đốt vào nồi 1
- Nồi cô đặc 1 và nồi cô đặc 2 nối tiếp nhau
- Thiết bị ngưng tụ với nước lạnh vào
- PC: Bộ điều khiển áp suất (nhận Psp)
- Motor (M) điều khiển van nước làm mát
- NC: Nước ngưng ra từ các nồi
- Sản phẩm ra
- KKN: Khí không ngưng ra

Áp suất chân không được ổn định tại buồng bốc của nồi cô đặc cuối cùng, tác động điều khiển được chọn là lưu lượng nước làm mát cấp cho thiết bị ngưng tụ trực tiếp hơi thứ (do sự thay đổi lưu lượng nước làm mát ảnh hưởng đến tốc độ ngưng tụ của hơi thứ, tức là ảnh hưởng đến Fₒ). Trong các thiết bị còn lại của hệ thống công nghệ, áp suất được xác định từ các điều kiện cân bằng vật chất, có tính đến tổn thất áp suất trên đường ống.

Nếu áp suất ảnh hưởng đáng kể đến động học của quá trình, thì cần một hệ thống để ổn định áp suất trong các thiết bị riêng biệt. Ví dụ quá trình chưng cất liên tục, trong đó đường cong cân bằng pha phụ thuộc vào áp suất. Khi điều chỉnh quá trình chưng cất hai cấu tử, nhiệt độ sôi của dung dịch thường được sử dụng như một chỉ số gián tiếp về thành phần của hỗn hợp (nhiệt độ sôi là biến được điều khiển, nồng độ là biến cần điều khiển). Tất nhiên cần lưu ý rằng mối quan hệ đơn trị giữa nồng độ và nhiệt độ sôi này chỉ ở điều kiện áp suất không đổi. Do đó, trong các tháp chưng cất, cần có các hệ thống ổn định áp suất đặc biệt, trong đó điều khiển lưu lượng dòng khí không ngưng tụ (KKN) thải ra từ phần đỉnh tháp được chọn làm tác động điều khiển (biến điều khiển).

Hình 3.8 đề xuất vòng điều chỉnh áp suất trong tháp chưng cất khi có tích tụ khí không ngưng trong hệ thống.

[Hình 3.8 Điều khiển áp suất trong tháp chưng cất khi xuất hiện khí không ngưng]
- Tháp chưng cất với bình ngưng tụ phía trên
- PC: Bộ điều khiển áp suất (nhận Psp)
- Van điều khiển trên đường khí không ngưng (KKN)
- D: Sản phẩm đỉnh ra
- Nước làm mát vào thiết bị ngưng tụ

Ngoài ra có thể xem xét thêm vòng điều khiển qua kênh nước giải nhiệt ở thiết bị ngưng tụ, để đảm bảo ngưng tụ toàn bộ lượng hơi bay lên từ tháp chưng cất.

Trong nhiều trường hợp thực tế, khi công nghệ sản xuất đòi hỏi phải điều chỉnh áp suất ở đầu đẩy của máy bơm, máy nén... cũng giống như điều khiển lưu lượng, có thể sử dụng biến tần để thay đổi tốc độ động cơ dẫn động.

Sơ đồ được đề xuất trong trường hợp sử dụng van điều khiển gắn trên đường ống để tiết lưu dòng lưu chất, như Hình 3.9.

================================================================================
Page 64 of 165 - COMPLETED
================================================================================

[Hình 3.9 Điều chỉnh áp suất sử dụng van điều chỉnh]
- Bình chứa khí/lưu chất với dòng vào và dòng ra
- PC 55: Bộ điều khiển áp suất (nhận Psp)
- PT 55: Thiết bị đo áp suất
- Van điều khiển trên đường ống ra

Ngoài ra trong thực tế, để điều khiển áp suất người ta cũng thường sử dụng Van điều áp. Van điều áp là một thiết bị gắn trên đường ống dẫn, để tự động điều chỉnh trực tiếp áp suất ở đầu ra của nó tại một giá trị cài đặt, như Hình 3.10.

[Hình 3.10 Cấu tạo van điều áp trực tiếp]
- Sơ đồ cấu tạo van điều áp với các thành phần:
  1 - màng ngăn
  2 - lò xo
  3 - trục van
  4 - chốt van
  5 - cửa van
  6 - ống xung lực phản hồi

Cấu tạo của van điều áp bao gồm: 1 - màng ngăn, 2 - lò xo, 3 - trục van, 4 - chốt van, 5 - cửa van, 6 - ống xung lực phản hồi.

Nguyên lý hoạt động: khi hoạt động ở áp suất cài đặt, áp lực này sẽ cân bằng với lực của lò xo. Nếu áp suất đầu ra tăng lên thì áp suất trong khoang màng ngăn cũng tăng lên, qua đó đẩy trục van chuyển động xuống làm giảm kích thước cửa ra và làm giảm áp suất đầu ra về giá trị đặt. Ngược lại nếu áp suất đầu ra giảm xuống trục van đi lên làm tăng diện tích cửa ra và áp suất tăng theo đến giá trị đặt. Quá trình này lặp đi lặp lại làm cho áp suất luôn được ổn định.

================================================================================
Page 65 of 165 - COMPLETED
================================================================================

3.4 ĐIỀU CHỈNH NHIỆT ĐỘ

Các đặc tính động học của các đối tượng trong hệ thống điều khiển nhiệt độ phần lớn phụ thuộc vào các thông số hóa lý của quá trình và thiết kế của thiết bị. Các quá trình nhiệt có đặc tính chung là quán tính lớn. Thời gian cần thiết để thay đổi nhiệt độ của dòng quá trình tương đối chậm. Các sách lược điều khiển truyền thẳng thường được sử dụng kết hợp để tăng tốc độ đáp ứng của vòng nhiệt độ.

Đối với thiết bị gia nhiệt dạng vỏ ống công nghiệp sử dụng hơi nước bão hoà có thể đưa ra một số tùy chọn cho các hệ thống điều chỉnh nhiệt độ đầu ra của dòng quá trình. Các phương án cơ bản như được trình bày ở các ví dụ trong phần 1.5.

Ví dụ về điều khiển nhiệt độ thiết bị phản ứng dạng vỏ áo khuấy trộn liên tục, trong đó xảy ra phản ứng toả nhiệt. Dòng tải nhiệt là nước lạnh đi ở phía vỏ thiết bị. Để điều chỉnh chính xác nhiệt độ trong thiết bị như yêu cầu, có thể sử dụng sách lược điều khiển một vòng đơn phản hồi với quy luật điều khiển PI hoặc PID, lưu lượng của dòng tải nhiệt được chọn là biến điều khiển, có thể thay đổi nhờ van điều khiển. Nhược điểm phương pháp này là với các ảnh hưởng nhiễu mạnh, chất lượng của quá trình quá độ trở nên không đạt yêu cầu. Do đó có thể kết hợp với sách lược điều khiển truyền thẳng hoặc có thể sử dụng điều khiển tầng như Hình 3.11.

[Hình 3.11 Điều khiển nhiệt độ bình phản ứng]
- Thiết bị phản ứng khuấy trộn với vỏ áo làm mát
- Tác chất vào phía trên
- Sản phẩm ra phía dưới
- Nước làm mát vào và ra qua vỏ áo
- TC 01: Bộ điều khiển nhiệt độ vòng ngoài (nhận Tsp)
- TC 02: Bộ điều khiển nhiệt độ vòng trong
- Cảm biến nhiệt độ trong bình phản ứng
- Cảm biến nhiệt độ nước làm mát ra

================================================================================
Page 66 of 165 - COMPLETED
================================================================================

3.5 ĐIỀU CHỈNH pH

Có hai hệ thống cơ bản điều chỉnh pH, tùy thuộc vào độ chính xác được yêu cầu.

*Loại hệ thống đầu tiên* là điều chỉnh để duy trì độ pH trong giới hạn quy định: giới hạn trên pHmax và giới hạn dưới pHmin: pHmin ≤ pH ≤ pHmax

Các hệ thống như vậy được sử dụng khi tốc độ thay đổi pH thấp và phạm vi dao động cho phép của nó đủ rộng. Ví dụ: Kiểm soát pH trong quá trình lên men, trong đó, do thời gian lưu của dung dịch tương đối dài và sự chuyển biến của chất trung hoà chậm, nên việc điều chỉnh giá trị pH tương đối dễ dàng, chỉ cần bộ điều khiển 2 trạng thái (ON/OFF) là đáp ứng yêu cầu.

*Loại hệ thống điều khiển thứ hai* duy trì chính xác giá trị pH tại giá trị đặt. Trong trường hợp này, bộ điều khiển liên tục PI hoặc PID được sử dụng.

Một trong những yếu tố chính làm phức tạp việc điều chỉnh chính xác pH trong quá trình trung hòa là sự phụ thuộc phi tuyến của giá trị pH vào lượng chất trung hoà (đặc tính tĩnh phi tuyến của quá trình). Một thay đổi ở đầu vào bộ điều chỉnh có thể khuếch đại đầu ra của đối tượng điều khiển nhiều lần và dẫn đến dao động không ổn định trong hệ thống. Nếu độ dốc của các đặc tính tĩnh của đối tượng thay đổi mạnh, khi thiết lập các tham số của bộ điều chỉnh phải tính đến những thay đổi trong độ lợi của đối tượng.

[Hình 3.12 Ví dụ đường cong chuẩn độ pH]
- Đồ thị biểu diễn pH (trục tung, 0-14) theo lượng bazơ thêm vào V, ml (trục hoành, 0-20)
- Đường cong chuẩn độ có dạng chữ S
- Vùng I: Vùng acid (pH thấp, 0-4)
- Vùng II: Vùng bước nhảy/trung tính (pH 4-10)
- Vùng III: Vùng bazơ (pH cao, 10-14)

Một đường cong chuẩn độ điển hình như trên Hình 3.12 cho thấy ba vùng đặc trưng được phân biệt: vùng bước nhảy ở giữa (II) dùng để chỉ môi trường trung tính và được

================================================================================
Page 67 of 165 - COMPLETED
================================================================================

đặc trưng bởi hệ số khuếch đại lớn; vùng thứ nhất (I) và thứ ba (III) đề cập đến môi trường có tính axit mạnh hoặc kiềm mạnh và có hệ số khuếch đại thấp. Độ dốc của đường cong ở vùng II cho thấy khó khăn như thế nào để duy trì một giá trị pH nhất định. Nếu chế độ hoạt động của đối tượng tương ứng với vùng bước nhảy (II) của đặc tính tĩnh, thì hệ số khuếch đại (hệ số tỷ lệ kₚ) cho phép của bộ điều chỉnh là rất nhỏ. Nhưng với hệ số này lại không cung cấp chất lượng điều chỉnh cần thiết khi hoạt động ở các chế độ tương ứng với các vùng còn lại. Dương nhiên, khi sử dụng một hệ thống điều khiển đơn giản, có thể có sự sai lệch đáng kể của giá trị pH hiện tại so với giá trị cài đặt.

Phản ứng trung hòa diễn ra gần như ngay lập tức, do đó các đặc tính động học của các thiết bị công nghiệp có khuấy trộn được xác định bởi quá trình trộn và có thể được mô tả khá chính xác bằng phương trình vi phân bậc nhất có độ trễ. Như vậy nếu thiết bị càng nhỏ (hằng số thời gian của thiết bị càng ngắn) thì càng khó đảm bảo điều chỉnh ổn định pH, do quán tính của các phần tử khác của hệ thống điều khiển (thiết bị đo lường và thiết bị chấp hành, bộ điều chỉnh) và độ trễ của các tác động nhiễu.

Cũng cần lưu ý rằng, hệ thống điều chỉnh pH trong môi trường xử lý chất thải phải đáp ứng được với những nhiễu loạn đủ lớn gây ra bởi sự thay đổi nồng độ và tốc độ dòng chảy. Sự thay đổi tải lớn ảnh hưởng đến hệ số khuếch đại của đối tượng và thậm chí có thể thay đổi hằng số thời gian của hệ thống. Một khó khăn trong việc điều chỉnh pH là không có thiết bị đo công nghiệp thông thường nào có dải đo bao trùm một phạm vi rộng lớn tương ứng với nồng độ các ion hydro từ 100 đến 10⁻¹⁴ mol/l và có độ nhạy cao để có thể theo dõi những thay đổi nhỏ về nồng độ ion hydro.

Từ các phân tích ở trên, có thể đề xuất nhiều lựa chọn để điều chỉnh pH:

(1) Tăng thể tích của thiết bị phản ứng, nơi xảy ra quá trình trung hòa, làm tăng hằng số thời gian của nó. Điều này làm tăng tính ổn định của hệ thống điều khiển, cho phép cài đặt hệ số tỷ lệ bộ điều khiển cao hơn, dẫn đến giảm sai số điều khiển. Ngoài ra, bản thân một thiết bị phản ứng thể tích lớn sẽ làm dịu các biến động pH gây ra bởi sự dao động của tốc độ dòng chảy và nồng độ của hỗn hợp ban đầu.

(2) Việc sử dụng hai (hoặc nhiều) thiết bị phản ứng mắc nối tiếp thay vì một thiết bị phản ứng, trong khi dòng chảy của chất trung hoà qua các bình phản ứng được phân bổ như sau (Hình 3.13): phần lớn lượng chất trung hoà được đưa vào thiết bị thứ nhất, ở đó toàn bộ quá trình trung hoà về cơ bản xảy ra; phần còn lại (lượng nhỏ) dòng trung hoà được đưa vào bình phản ứng thứ hai để hoàn thành nốt phản ứng trung hòa, nghĩa là cho đến

================================================================================
Page 68 of 165 - COMPLETED
================================================================================

khi đạt đến điểm trung hòa trên đường chuẩn độ. Sự phân bổ dòng trung hoà qua các bình phản ứng có liên quan đến các đặc điểm của đường cong chuẩn độ.

[Hình 3.13 Sơ đồ điều chỉnh pH với 2 bình phản ứng]
- Dòng quá trình đi vào bình phản ứng thứ nhất
- Dòng trung hoà vào bình phản ứng 1 và bình phản ứng 2
- AC 01: Bộ điều khiển pH bình phản ứng 1 (nhận pHsp)
- AC 02: Bộ điều khiển pH bình phản ứng 2 (nhận pHsp)
- Hai bình phản ứng khuấy trộn mắc nối tiếp
- Sản phẩm ra sau bình phản ứng 2

(3) Điều chỉnh độ pH bằng cách sử dụng hai van điều khiển có kích thước khác nhau Hình 3.14 cho phép "bù đắp" tính phi tuyến đặc tính tĩnh của đối tượng trong một khoảng thay đổi rộng của lưu lượng dòng trung hoà. Một van điều khiển cỡ nhỏ V1 gắn trên đường ống nhánh phụ được điều khiển bởi bộ điều khiển theo quy luật P, tín hiệu đầu ra của nó cũng được đưa đến đầu vào của bộ điều khiển theo quy luật PI. Bộ điều khiển PI điều khiển van kích thước lớn hơn V2 gắn trên đường ống chính.

Nếu độ lệch pH nhỏ so với giá trị tương ứng với điểm trung hòa, khi đó độ lợi của đối tượng lớn (vùng II), tín hiệu đầu ra của bộ điều khiển P nằm trong vùng không nhạy (vùng chết) của bộ điều khiển PI. Đầu ra của bộ điều khiển PI gần như không thay đổi và độ mở van lớn V2 được giữ nguyên. Sự thay đổi tín hiệu ra của bộ điều chỉnh P dẫn đến sự thay đổi nhỏ tốc độ dòng trung hoà, quá trình trung hòa được thực hiện nhờ V1.

Nếu giá trị pH lệch nhiều so với giá trị tương ứng với điểm trung hòa, tức là, đối tượng hoạt động ở vùng có độ lợi nhỏ (vùng I, III), thì tín hiệu từ bộ điều khiển P rời khỏi vùng chết của bộ điều khiển PI. Trong trường hợp này, độ mở van nhỏ ở một trong hai vị trí lớn nhất hoặc nhỏ nhất và việc điều chỉnh được thực hiện bằng cách sử dụng van lớn. Thay đổi tín hiệu ra của bộ điều khiển PI dẫn đến sự thay đổi lớn trong tốc độ dòng trung hoà, do độ lợi của thiết bị chấp hành lớn trong trường hợp này. Như vậy, sự thay đổi trong hệ số khuếch đại của đối tượng được bù bằng sự thay đổi hệ số khuếch đại của cơ cấu chấp hành. Đương nhiên, sự bù đắp đầy đủ cho sự thay đổi trong độ lợi của vòng

================================================================================
Page 69 of 165 - COMPLETED
================================================================================

điều khiển chỉ có thể được thực hiện ở một tỷ lệ nhất định giữa giá trị pH và mức độ mở của cả hai van (lớn và nhỏ).

[Hình 3.14 Điều khiển pH với hai van điều khiển]
- Bình phản ứng khuấy trộn
- Dòng quá trình vào
- Dòng trung hoà vào qua hai đường:
  + V1: Van nhỏ trên đường nhánh phụ
  + V2: Van lớn trên đường ống chính
- P 01: Bộ điều khiển P (điều khiển van nhỏ V1)
- PI 02: Bộ điều khiển PI (điều khiển van lớn V2)
- pHsp: Giá trị đặt pH
- Cảm biến pH trong bình phản ứng
- Sản phẩm ra

3.6 KIỂM SOÁT THÀNH PHẦN VÀ CHẤT LƯỢNG SẢN PHẨM

Các đại lượng liên quan chất lượng sản phẩm là những chỉ tiêu quan trọng liên quan trực tiếp đến yêu cầu của quá trình công nghệ, do đó chúng phải được duy trì chính xác ở một mức nhất định. Điều khiển chất lượng sản phẩm có tầm quan trọng nhưng lại khó và phức tạp so với điều khiển các đại lượng khác. Mức độ phức tạp của việc điều chỉnh các đại lượng này được xác định bởi phép đo chúng: nồng độ là đại lượng khó đo, độ trễ của phép đo lớn, tốn kém và nhiều trường hợp không thể đo được trực tiếp. Do đó một trong những cách để điều chỉnh các đại lượng chất lượng là gián tiếp thông qua các đại lượng khác như nhiệt độ, áp suất... Nghĩa là thay vì phải đo nồng độ trực tiếp bằng thiết bị đo, thì có thể đo gián tiếp bằng *cảm biến mềm (soft sensor)* thông qua một hoặc nhiều đại lượng khác của quá trình. Dựa trên các đại lượng thay thế này, các thuật toán được phát triển để tính toán giá trị nồng độ của đại lượng cần điều khiển hoặc đưa ra tác động điều khiển phù hợp ở đầu vào, nhằm đạt được nồng độ mong muốn. Ngoài ra chất lượng sản phẩm còn được kiểm soát bằng nhiều phương pháp khác, như kiểm soát bằng phương pháp thống kê (Statistical Process Control, SPC), hay kiểm soát thông qua năng lực của quá trình.

================================================================================
Page 70 of 165 - COMPLETED
================================================================================

CHƯƠNG 4

ĐẶC TÍNH VÀ MÔ TẢ TOÁN HỌC HỆ THỐNG ĐIỀU KHIỂN

    4.1. Đặc tính tĩnh và đặc tính động
    4.2. Mô hình phương trình vi phân
    4.3. Mô hình phương trình trạng thái
    4.4. Mô hình hàm truyền
    4.5. Khảo sát động học bằng công cụ mô phỏng

*Hệ thống điều khiển quá trình có thể được mô tả bằng lời như trong các phần trước. Thông qua Lưu đồ điều khiển giúp ta hiểu được mục đích điều khiển cũng như nguyên tắc hoạt động và chức năng của từng phần tử trong hệ thống điều khiển. Tuy nhiên, mô tả bằng lời không đưa ra được đánh giá định lượng về chất lượng điều khiển, do đó nó không thích hợp cho việc phân tích và thiết kế hệ thống điều khiển. Thay vào đó các phương pháp toán học được sử dụng để mô tả đặc tính của hệ thống điều khiển. Bất kỳ hệ thống điều khiển nào cũng có thể mô tả bằng phương trình vi phân, nhưng việc khảo sát hệ thống dựa vào phương trình vi phân thường gặp nhiều khó khăn. Có hai dạng mô tả toán học hệ thống điều khiển thường sử dụng đó là mô hình trạng thái và hàm truyền.*

================================================================================
Page 71 of 165 - COMPLETED
================================================================================

4.1 ĐẶC TÍNH TĨNH VÀ ĐẶC TÍNH ĐỘNG

Hệ thống điều khiển và các phần tử của nó có thể nằm trong trạng thái ổn định hoặc mất ổn định. *Trạng thái ổn định* là trạng thái trong đó các đại lượng đầu ra không thay đổi theo thời gian. Diễn biến của hệ trong trạng thái ổn định được mô tả bằng *phương trình tĩnh* hay còn gọi là *đặc tính tĩnh*. Đặc tính tĩnh là mối quan hệ giữa đầu vào và đầu ra của hệ ở trạng thái ổn định và thường là phương trình đại số có dạng tổng quát:

                    ȳ = f(x).

*Trong đó x là biến vào và ȳ là biến ra ở trạng thái ổn định.*

Đặc tính tĩnh của hệ thống phi tuyến biểu diễn trên đồ thị có thể là một đường cong, đặc tính tĩnh của hệ tuyến tính là đường thẳng, như được minh họa trên Hình 4.1.

Đặc tính tĩnh của hệ phi tuyến có dạng tổng quát:

                    ȳ = K. x + b

*Trong đó K không đổi và được gọi là hệ số khuếch đại, hay độ lợi tĩnh.*

[Hình 4.1 Đồ thị đặc tính tĩnh]
- Đồ thị biểu diễn ȳ (trục tung) theo x (trục hoành)
- Đường cong: Phi tuyến (cong lên trên)
- Đường thẳng: Tuyến tính

Trạng thái ổn định cũng được gọi là trạng thái cân bằng hay trạng thái xác lập.

Trong quá trình hoạt động, trạng thái cân bằng bị phá vỡ do tác động của nhiễu loạn hoặc do thay đổi chế độ công nghệ (thay đổi giá trị đặt). Khi đó các đại lượng đầu ra (biến cần điều khiển) thay đổi theo thời gian.

================================================================================
Page 72 of 165 - COMPLETED
================================================================================

*Quá trình biến đổi theo thời gian của biến ra y(t) từ thời điểm bắt đầu có sự tác động của bất kỳ biến vào nào đến khi đạt giá trị xác lập được gọi là Quá trình quá độ.* Quá trình quá độ cũng được hiểu là quá trình hệ di chuyển từ một trạng thái ổn định này sang trạng thái ổn định khác. Diễn biến của hệ trong quá trình quá độ được mô tả bằng *phương trình động* hay còn gọi là *đặc tính động*.

Trở lại với Ví dụ 1.2, điều khiển thiết bị trao đổi nhiệt, quá trình gia nhiệt cho dòng quá trình từ nhiệt độ ban đầu T₁ đến khi đạt trạng thái ổn định Tsp có thể có diễn biến giống như trong Hình 4.2. Khi có tác động thay đổi ở đầu vào (thay đổi giá trị đặt, thay đổi do nhiễu xuất hiện), nhiệt độ đầu ra thay đổi lệch khỏi giá trị ban đầu, dao động một thời gian trước khi ổn định ở giá trị xác lập mới quanh điểm đặt Tsp.

[Hình 4.2 Diễn biến nhiệt độ theo thời gian]
- Đồ thị biểu diễn Nhiệt độ (trục tung) theo Thời gian (trục hoành)
- Tsp: Giá trị đặt (đường nét đứt ngang)
- Đường cong đáp ứng: bắt đầu từ giá trị thấp, tăng dần với dao động rồi ổn định tại Tsp
- Giai đoạn 1: Quá trình quá độ (có dao động)
- Giai đoạn 2: Trạng thái ổn định

Quá trình quá độ phụ thuộc vào:
• Đặc tính động của hệ,
• Trạng thái ban đầu của hệ và
• Dạng tác động ở đầu vào.

Với cùng một dạng tác động đầu vào, mỗi hệ khác nhau sẽ xảy ra quá trình quá độ khác nhau. Để khảo sát hệ thống điều khiển người ta thường chọn tín hiệu đầu vào là một trong các hàm cưỡng bức cơ bản như sau:

*(1) Hàm xung: thường được sử dụng để mô tả nhiều tác động vào hệ thống.*
*(2) Hàm dốc: thường sử dụng làm tín hiệu thử để khảo sát hệ thống điều khiển bám.*
*(3) Hàm nấc: thường được sử dụng làm tín hiệu thử để khảo sát hệ thống điều chỉnh.*
*(4) Hàm sin: thường sử dụng làm tín hiệu thử để khảo sát hệ thống điều khiển bám.*

================================================================================
Page 73 of 165 - COMPLETED
================================================================================

[Bảng các hàm cưỡng bức cơ bản]

| (1)                    | (2)                    | (3)                    | (4)           |
| Hàm xung đơn vị        | Hàm dốc đơn vị         | Hàm nấc đơn vị         | Hàm sin       |
|------------------------|------------------------|------------------------|---------------|
| x(t) = { 1 khi t = 0   | x(t) = { t khi t ≥ 0   | x(t) = { 1 khi t ≥ 0   | x(t) = A.sin(ωt)|
|       { 0 khi t ≠ 0   |       { 0 khi t = 0   |       { 0 khi t < 0   |               |
|                        |                        |                        |               |
| [Đồ thị: xung tại t=0] | [Đồ thị: đường dốc]    | [Đồ thị: bậc thang]    | [Đồ thị: sóng sin]|

Tuỳ theo việc sử dụng tín hiệu tác động thử ở đầu vào khác nhau mà đặc tính động của hệ thống là đặc tính thời gian hay đặc tính tần số.

**Đặc tính thời gian**

Đặc tính thời gian của hệ thống mô tả sự thay đổi tín hiệu ở đầu ra của hệ thống khi tín hiệu vào là hàm xung đơn vị, hàm dốc đơn vị hoặc hàm nấc đơn vị.

Nếu tín hiệu vào là hàm xung đơn vị thì đáp ứng của hệ thống gọi là đáp ứng xung hay còn gọi là *hàm trọng lượng g(t)*. Nếu tín hiệu đầu vào là hàm dốc thì tín hiệu đầu ra y(t) gọi là *đáp ứng hàm dốc*.

Nếu tín hiệu đầu vào là hàm nấc đơn vị thì tín hiệu đầu ra là đáp ứng quá độ hay còn gọi là *hàm quá độ h(t)*.

**Đặc tính tần số**

Khi tín hiệu hình sin được áp dụng cho đầu vào của một hệ thống, theo quy luật, ở trạng thái ổn định, tín hiệu hình sin cũng thu được, nhưng với biên độ và pha khác nhau. *Đặc tính tần số* của hệ thống mô tả quan hệ giữa tín hiệu ra và tín hiệu vào của hệ thống ở trạng thái ổn định khi thay đổi tần số của tín hiệu dao động điều hòa tác động ở đầu vào của hệ thống.

================================================================================
Page 74 of 165 - COMPLETED
================================================================================

4.2 MÔ HÌNH PHƯƠNG TRÌNH VI PHÂN

4.2.1. Mô hình tuyến tính

Bất kỳ hệ thống điều khiển quá trình nào cũng đều có thể được mô tả toán học dưới dạng phương trình vi phân. Với mỗi loại tác động của biến vào x(t) lên hệ thống, giải phương trình vi phân này, có thể biết được bản chất của sự thay đổi của biến được điều khiển y(t) trong quá trình quá độ cũng như ở trạng thái xác lập. Mô hình của một hệ thống tuyến tính đơn biến được mô tả bởi phương trình vi phân thường, có dạng tổng quát:

    aₙ(dⁿy(t)/dtⁿ) + aₙ₋₁(dⁿ⁻¹y(t)/dtⁿ⁻¹) + ... + a₀y(t) = bₘ(dᵐx(t)/dtᵐ) + bₘ₋₁(dᵐ⁻¹x(t)/dtᵐ⁻¹) + ... + b₀x(t)     (4.1)

*Trong đó aᵢ, bᵢ là các tham số của hệ thống; x(t) và dᵐx(t)/dtᵐ là biến vào (biến điều khiển hay biến nhiễu) và đạo hàm bậc m của nó theo thời gian; y(t) và dⁿy(t)/dtⁿ là biến ra cần điều khiển và đạo hàm bậc n của nó theo thời gian; n cũng được gọi là bậc của hệ thống.*

Biến ra y(t) của hệ thống thường là một hàm số theo thời gian và cũng là nghiệm của phương trình vi phân (4.1) mà chúng ta cần phải tìm. Trong khi đó biến vào x(t) thường là các hàm cưỡng bức như: hàm nấc, hàm xung, hàm dốc hay hàm sin...

Hai dạng mô hình phương trình tuyến tính phổ biến trong điều khiển quá trình đó là:

*(1) Mô hình quán tính bậc nhất có trễ (FOPDT) mô tả hệ thống điều khiển hay các thành phần của hệ (các khâu) được viết dưới dạng chuẩn:*

                    τ(dy/dt) + y = K.x(t - θ)                    (4.2)

*(2) Mô hình mô tả các khâu bậc hai có trễ (SOPDT) được viết dưới dạng chuẩn:*

                    τ²(d²y/dt²) + 2ζτ(dy/dt) + y = Kx(t - θ)     (4.3)

Trong các phương trình trên: *K là hệ số khuếch đại; τ là hằng số thời gian; ζ là hệ số dao động (zeta), ζ > 0; θ là thời gian trễ.*

Diễn biến trong quá trình quá độ của một hệ thống tuyến tính nhưng có nhiều biến vào và nhiều biến ra (hệ đa biến) được mô tả bởi hệ phương trình vi phân có số phương trình bằng số biến ra.

================================================================================
Page 75 of 165 - COMPLETED
================================================================================

4.2.2. Tuyến tính hoá và biến chênh lệch

Tất cả các hệ thống trong thực tế đều là hệ phi tuyến và được mô tả bằng các phương trình phi tuyến. Giải các phương trình này thường phức tạp và đòi hỏi khối lượng tính toán lớn, nên không thích hợp cho việc nghiên cứu các hệ thống điều khiển quá trình. Vì vậy trong lý thuyết điều khiển kinh điển, việc phân tích và thiết kế các hệ thống sử dụng các phương pháp tuyến tính hóa để biến đổi các đặc tính của hệ thành dạng phương trình tuyến tính.

Tuyến tính hóa xung quanh điểm làm việc

Độ chính xác của phép tuyến tính hoá phụ thuộc nhiều vào độ phi tuyến và phạm vi làm việc của hệ. Các quá trình trong công nghệ hoá thường được vận hành trong một phạm vi xung quanh điểm làm việc cũng là điểm cân bằng. Nhằm giảm sai lệch của mô hình thì việc tuyến tính hóa được thực hiện xung quanh điểm làm việc. Kết quả là một mô hình xấp xỉ phản ảnh hệ thực tế tại lân cận điểm làm việc.

Mặt khác, trong điều khiển người ta thường sử dụng các biến chênh lệch thay cho việc sử dụng các biến thực. Chênh lệch là so với điểm cân bằng:
- Chênh lệch giữa giá trị tức thời của đại lượng đầu ra so với giá trị của nó tại điểm làm việc cân bằng, gọi là biến chênh lệch đầu ra hay biến cần điều khiển.
- Chênh lệch giữa giá trị tức thời của đại lượng đầu vào so với giá trị của nó tại điểm làm việc cân bằng, gọi là biến chênh lệch đầu vào hay biến điều khiển hoặc biến nhiễu.

Giả sử ta có đường cong M biểu diễn mối quan hệ biến ra - biến vào của hệ thống hay quá trình như Hình 4.3. Về mặt đồ thị ta có thể tuyến tính hoá đoạn cong xung quanh điểm làm việc A(r₀,v₀) thành mô hình M₀ là đoạn thẳng tiếp tuyến với đường cong M qua điểm A nhờ phép triển khai Taylor.

[Hình 4.3 Đồ thị phụ thuộc r và v]
- Sơ đồ khối: Biến vào v → HT ĐKQT → Biến ra r
- Đồ thị: Trục tung r, trục hoành v
- Đường cong M: đường cong phi tuyến
- Đường thẳng M₀: tiếp tuyến tại điểm A
- Điểm A tại tọa độ (v₀, r₀)
- dr/dt=f(r,v)

Cụ thể, nếu có cho phương trình vi phân phi tuyến:

                    dr/dt = f(r,v)                    (4.4)

================================================================================
Page 76 of 165 - COMPLETED
================================================================================

Thực hiện tuyến tính hóa đường cong M xung quanh điểm A(r₀,v₀) như sau:

Bước 1: Xác định phương trình tĩnh tại điểm A(r₀,v₀):

Tại điểm làm việc cân bằng A(r₀,v₀) các biến vào và ra không thay đổi theo thời gian, đạo hàm của đầu ra r bằng 0:

                    (dr/dt)_A = dr₀/dt = f_(A) = 0                    (4.5)

Bước 2: Áp dụng phép triển khai Taylor bậc nhất cho f(r,v) tại điểm làm việc A(r₀,v₀), sử dụng biến chênh lệch Δr = (r - r₀), Δv = (v - v₀):

                    f(r,v) ≈ f_(A) + (∂f/∂r)_A (Δr) + (∂f/∂v)_A (Δv)     (4.6)
                             =0

Mặt khác đạo hàm của biến chênh lệch cũng chính bằng đạo hàm của biến thực:

                    d(Δr)/dt = d(r - r₀)/dt = dr/dt

Kết hợp lại ta có được:

                    d(Δr)/dt ≈ (∂f/∂r)_A (Δr) + (∂f/∂v)_A (Δv)          (4.7)

Sử dụng các ký hiệu các biến x = Δv, y = Δr và các tham số a₀ = -(∂f/∂r)_A, b₀ = (∂f/∂v)_A

Mô hình phương trình vi phân tuyến tính được viết gọn lại thành:

                    dy/dt + a₀y = b₀x                                    (4.8)

Việc sử dụng các biến chênh lệch này còn làm cho mô hình phương trình vi phân tuyến tính nhận được có điều kiện đầu bằng 0, nghĩa là tại thời điểm làm việc cân bằng ban đầu các biến của phương trình và đạo hàm của chúng đều bằng 0.

================================================================================
Page 77 of 165 - COMPLETED
================================================================================

4.2.3. Ví dụ phương trình vi phân mô tả hệ thống

VÍ DỤ 4.1: Phương trình vi phân mô tả quá trình gia nhiệt

Quá trình gia nhiệt cho dung dịch trong bồn chứa bằng hơi nước bão hòa Hình 4.4.
Fᵢ, Fₒ: lưu lượng khối lượng dòng quá trình vào và ra khỏi bình chứa;
Tᵢ, Tₒ: nhiệt độ dòng quá trình đi vào và đi ra khỏi bình chứa;
Q: là lượng nhiệt do hơi ngưng tụ tỏa ra cấp cho dung dịch trong một đơn vị thời gian;
A và h là tiết diện bình chứa và chiều cao mức chất lỏng trong bình chứa.

[Hình 4.4 Thiết bị gia nhiệt]
- Bồn chứa dung dịch với hệ thống gia nhiệt
- Fᵢ, Tᵢ: Dòng quá trình vào (lưu lượng và nhiệt độ)
- Fₒ, Tₒ: Dòng quá trình ra (lưu lượng và nhiệt độ)
- Fₛ: Lưu lượng hơi nước bão hòa cấp nhiệt
- Q: Nhiệt lượng cấp cho dung dịch
- T: Nhiệt độ dung dịch trong bình
- A: Tiết diện bình chứa
- h: Mức chất lỏng
- LT 01: Thiết bị đo mức
- LC 01: Bộ điều khiển mức (nhận hsp)
- TT 02: Thiết bị đo nhiệt độ
- TC 02: Bộ điều khiển nhiệt độ

Để đơn giản hóa ta giả thiết:
- Dung dịch được khuấy lý tưởng, khi đó nhiệt độ dung dịch ở mỗi điểm trong bình chứa là như nhau và bằng nhiệt độ dòng ra Tₒ = T.
- Khối lượng riêng và nhiệt dung riêng lưu chất không thay đổi đáng kể trong suốt quá trình.
- Tổn thất nhiệt được bỏ qua.

Viết phương trình vi phân mô tả quan hệ giữa các biến quá trình.

================================================================================
Page 78 of 165 - COMPLETED
================================================================================

Phương trình cân bằng vật chất:

[Biến thiên khối lượng tích lũy] = [Lượng dung dịch vào] - [Lượng dung dịch ra]

                    d(ρV)/dt = d(ρAh)/dt = ρᵢFᵢ - ρₒFₒ                (4.9)

Do khối lượng riêng và tiết diện bình chứa A không đổi, nên:

                    A(dh/dt) = Fᵢ - Fₒ                                  (4.10)

Giả sử sự phụ thuộc của lưu lượng ra Fₒ vào chiều cao mực chất lỏng h có thể tính theo phương trình Fₒ = c√h, trong đó coi c là hệ số. Khi đó ta có phương trình vi phân mô tả sự phụ thuộc chiều cao mực chất lỏng vào lưu lượng đầu vào:

                    A(dh/dt) = Fᵢ - c√h                                 (4.11)

Phương trình cân bằng năng lượng:

[Biến thiên nhiệt lượng tích lũy] = [Nhiệt lượng dòng vào] - [Nhiệt lượng dòng ra] + [Nhiệt lượng được cung cấp]

                    d(mCₚT)/dt = mᵢCₚᵢTᵢ - mₒCₚₒTₒ + Q

                    d(ρAhCₚT)/dt = ρᵢFᵢCₚᵢTᵢ - ρₒFₒCₚₒTₒ + Q

Coi khối lượng riêng và nhiệt dung riêng không đổi:

                    A(d(hT)/dt) = FᵢTᵢ - FₒTₒ + Q/(ρCₚ)

                    AT(dh/dt) + Ah(dT/dt) = FᵢTᵢ - FₒTₒ + Q/(ρCₚ)

                    T(Fᵢ - Fₒ) + Ah(dT/dt) = FᵢTᵢ - FₒTₒ + Q/(ρCₚ)

Với T = Tₒ ta có phương trình cân bằng năng lượng như sau:

================================================================================
Page 79 of 165 - COMPLETED
================================================================================

                    Ah(dT/dt) + FᵢT = FᵢTᵢ + Q/(ρCₚ)                   (4.12)

Mô phỏng trên Matlab & Simulink

Giả sử ban đầu hệ ở trạng thái ổn định, các đại lượng vào ra là các giá trị xác lập cân bằng: Fᵢ,ₛₛ, Tᵢ,ₛₛ, Qₛₛ, hₛₛ

Để mô phỏng trên Matlab&Simulink, ta cho thay đổi lưu lượng vào Fᵢ theo hàm nấc và thay đổi nhiệt độ dòng vào theo hàm nấc tính từ giá trị xác lập. Sơ đồ khối mô phỏng sự biến thiên của chiều cao mực chất lỏng và sự thay đổi nhiệt độ dòng ra được thể hiện như Hình 4.5.

[Hình 4.5 Sơ đồ mô phỏng trên Matlab&Simulink]
- Khối Step: Fi từ 0 lên 1.2
- Khối Step: Ti từ 29 lên 30
- Các khối Constant: c=1, Cp, q=1, ro, A=10
- Khối Mux: Gộp các tín hiệu
- Khối Fcn: (u(1)-u(4)*sqrt(u(2)))/u(3) → dh/dt
- Khối Integrator: 1/s → h(t)
- Khối Scope h: Hiển thị đáp ứng mức h
- Khối Fcn: (u(1)*(u(2)-u(7))+u(4)/(u(5)*u(3)))/(u(6)*u(8)) → dT/dt
- Khối Integrator: 1/s → T(t)
- Khối Scope T: Hiển thị đáp ứng nhiệt độ T
- Đồ thị kết quả: T(t):1 từ 0 đến 50 giây, giá trị từ 20 đến khoảng 30

Mô hình tuyến tính:

Phương trình (4.11) là phương trình vi phân phi tuyến, ta tiến hành tuyến tính hoá xung quanh điểm làm việc, sử dụng biến chênh lệch sau đây:
y = Δh = h - hₛₛ: Chênh lệch giá trị tức thời của mức chất lỏng so với giá trị của nó ở trạng thái làm việc ổn định;

================================================================================
Page 80 of 165 - COMPLETED
================================================================================

x = ΔFᵢ = Fᵢ - Fᵢ,ₛₛ: Chênh lệch giá trị tức thời của lưu lượng vào so với giá trị của nó ở trạng thái làm việc ổn định;

Tại điểm làm việc cũng là điểm cân bằng ta có:

                    A(dhₛₛ/dt) = 0 ⇒ 0 = Fᵢ,ₛₛ - c√hₛₛ                 (4.13)

Từ (4.13) ta cũng có thể tính được hệ số c tương ứng với trạng thái cân bằng này.

Từ phương trình cân bằng vật chất (4.11) đặt f(Fᵢ,h) = Fᵢ - c√h

                    ⇒ A(dh/dt) = f(Fᵢ,h)

Sử dụng phép biến đổi Taylor cho f(Fᵢ,h):

                    A(dh/dt) ≈ [f(Fᵢ,h)]ₛₛ + [∂f/∂Fᵢ]ₛₛ(Fᵢ - Fᵢ,ₛₛ) + [∂f/∂h]ₛₛ(h - hₛₛ)
                                  =0

Thay biểu thức A(dh/dt) = A(d(h - hₛₛ)/dt) vào ta có:

                    A(d(Δh)/dt) ≈ 1.(ΔFᵢ) - c/(2√hₛₛ)(Δh)

Hay ta có phương trình tuyến tính theo biến chênh lệch:

                    A(dy/dt) = x - c/(2√hₛₛ)y ⇒ A(dy/dt) + c/(2√hₛₛ)y = x

Hay viết lại ở dạng chuẩn, ta có phương trình vi phân bậc nhất:

                    τ(dy/dt) + y = Kx                                   (4.14)

Trong đó:

Hằng số thời gian τ = 2A√hₛₛ/c

Hệ số khuếch đại: K = 2√hₛₛ/c

Ta cũng có thể mô phỏng phương trình (4.14) ở trên nhờ công cụ mô phỏng và so sánh với hệ chưa tuyến tính.

================================================================================
Page 81 of 165 - COMPLETED
================================================================================

4.3 MÔ HÌNH PHƯƠNG TRÌNH TRẠNG THÁI

Một dạng mô hình khác được sử dụng để khảo sát hệ thống điều khiển là mô hình trạng thái. Từ phương trình vi phân bậc n có thể chuyển thành hệ n phương trình vi phân bậc nhất bằng cách đặt n biến trạng thái.

Các biến trạng thái hợp thành vector cột, gọi là vector biến trạng thái:

                    u = [u₁  u₂  u₃  ...  uₙ]ᵀ

Giả sử có một hệ thống được mô tả bởi phương trình vi phân:

                    dⁿy/dtⁿ + a₁(dⁿ⁻¹y/dtⁿ⁻¹) + ... + aₙ₋₁(dy/dt) + aₙy = b₀x

(Lưu ý là ở phương trình trên hệ số đầu tiên a₀ = 1; y là biến ra, x là biến vào của hệ)

Tiến hành đặt biến trạng thái theo cách: biến trạng thái đầu tiên bằng biến ra của hệ thống, biến trạng thái tiếp theo sau bằng đạo hàm của biến trước đó.

                    ⎧ u₁ = y
                    ⎪
                    ⎪ u₂ = u̇₁         ⇒ u₂ = dy/dt
                    ⎪
                    ⎨ u₃ = u̇₂         ⇒ u₃ = d²y/dt²
                    ⎪
                    ⎪ ...
                    ⎪
                    ⎩ uₙ = u̇ₙ₋₁       ⇒ uₙ = dⁿ⁻¹y/dtⁿ⁻¹    ⇒ u̇ₙ = dⁿy/dtⁿ

Thay các biến trạng thái này vào phương trình vi phân ta được:

                    u̇ₙ + a₁uₙ + ... + aₙ₋₁u₂ + aₙu₁ = b₀x

                    ⎧ u̇₁ = u₂
                    ⎪ u̇₂ = u₃
Kết hợp lại ta có:  ⎨ ...
                    ⎪ u̇ₙ₋₁ = uₙ
                    ⎩ u̇ₙ = -aₙu₁ - aₙ₋₁u₂ - ... - a₂uₙ₋₁ - a₁uₙ + b₀x

================================================================================
Page 82 of 165 - COMPLETED
================================================================================

Viết lại dưới dạng ma trận:

⎡ u̇₁  ⎤   ⎡ 0      1       0      ...   0  ⎤ ⎡ u₁   ⎤   ⎡ 0  ⎤
⎢ u̇₂  ⎥   ⎢ 0      0       1      ...   0  ⎥ ⎢ u₂   ⎥   ⎢ 0  ⎥
⎢ ...  ⎥ = ⎢ ...    ...     ...    ...  ... ⎥ ⎢ ...  ⎥ + ⎢ ... ⎥ x
⎢ u̇ₙ₋₁⎥   ⎢ 0      0       0      ...   1  ⎥ ⎢ uₙ₋₁ ⎥   ⎢ 0  ⎥
⎣ u̇ₙ  ⎦   ⎣-aₙ   -aₙ₋₁   -aₙ₋₂   ...  -a₁ ⎦ ⎣ uₙ   ⎦   ⎣ b₀ ⎦

Đáp ứng đầu ra của hệ thống:

                              ⎡ u₁   ⎤
                              ⎢ u₂   ⎥
            y = u₁ = [1  0  0  ...  0] ⎢ ...  ⎥
                              ⎢ uₙ₋₁ ⎥
                              ⎣ uₙ   ⎦

Mô hình phương trình trạng thái của hệ được viết gọn lại là:

            ⎧ u̇ = Au + Bx
            ⎨
            ⎩ y = Cu

Với các ma trận:

      ⎡ 0      1       0      ...   0  ⎤         ⎡ 0  ⎤
      ⎢ 0      0       1      ...   0  ⎥         ⎢ 0  ⎥
A =   ⎢ ...    ...     ...    ...  ... ⎥    B =  ⎢ ... ⎥    C = [1  0  0  ...  0]
      ⎢ 0      0       0      ...   1  ⎥         ⎢ 0  ⎥
      ⎣-aₙ   -aₙ₋₁   -aₙ₋₂   ...  -a₁ ⎦         ⎣ b₀ ⎦

Ma trận A được gọi là ma trận hệ thống, ma trận B được gọi là ma trận vào (hay ma trận điều khiển), ma trận C là ma trận ra.

================================================================================
Page 83 of 165 - COMPLETED
================================================================================

4.4 MÔ HÌNH HÀM TRUYỀN

Nghiệm của phương trình vi phân (4.1) là hàm số y(t) theo thời gian mô tả diễn biến quá trình quá độ khi có tác động biến vào xác định. Tuy nhiên việc giải phương trình vi phân gặp khó khăn, do đó trong thực tế thường sử dụng dạng mô tả toán học khác giúp phân tích và thiết kế hệ thống điều khiển dễ dàng hơn. Phương pháp sử dụng hàm truyền đạt chuyển quan hệ phương trình vi phân thành quan hệ phân thức đại số nhờ phép biến đổi Laplace giúp ta thực hiện điều đó.

4.4.1. Phép biến đổi Laplace

Cho f(t) là một hàm số trong miền thời gian, phép biến đổi Laplace của f(t) là

                    F(s) = L{f(t)} = ∫₀^∞ f(t)e⁻ˢᵗdt                    (4.15)

Trong đó:   s - là biến phức hay biến Laplace.
            L - là ký hiệu là toán tử Laplace.
            F(s) - là hàm ảnh của hàm gốc f(t) qua phép biến đổi Laplace.

Các tính chất của phép biến đổi Laplace
1.      Tính chất tuyến tính: L[a.f(t)] = a.L[f(t)] = a.F(s).
2.      Tính chất xếp chồng: L[f₁(t) ± f₂(t)] = L[f₁(t)] ± L[f₂(t)] = F₁(s) ± F₂(s)
3.      Tính chất trễ: L[f(t - θ)] = e⁻θˢF(s)
4.      Ảnh của đạo hàm:
        Nếu các điều kiện đầu khác 0: L[f⁽³⁾(t)] = s³F(s) - s²f(0) - sf'(0) - f''(0)
        Nếu các điều kiện đầu bằng 0: L[f⁽ⁿ⁾(t)] = sⁿF(s)
5.      Ảnh của tích phân:    L[∫f(t)dt] = F(s)/s + ∫f(0)/s

        Nếu các điều kiện đầu bằng 0: L[∫f(t)dt] = F(s)/s

6.      Định lý giá trị cuối:  f(∞) = lim(t→∞) f(t) = lim(s→0) sF(s)
7.      Định lý giá trị đầu:   f(0) = lim(t→0) f(t) = lim(s→∞) sF(s)

================================================================================
Page 84 of 165 - COMPLETED
================================================================================

Bảng tra phép biến đổi Laplace

| HÀM GỐC f(t)                              | ←L/L⁻¹→ | HÀM ẢNH LAPLACE F(s)  |
|-------------------------------------------|---------|----------------------|
| δ(t) - hàm xung đơn vị                    |         | 1                    |
| M - hằng số hay hàm nấc                   |         | M/s                  |
| (M = 1(t): hàm nấc đơn vị)                |         |                      |
| a.t - hàm dốc                             |         | a/s²                 |
| (hệ số góc a = 1(t): hàm dốc đơn vị)      |         |                      |
| t²                                        |         | 2/s³                 |
| tⁿ                                        |         | n!/sⁿ⁺¹              |
| e⁻ᵅᵗ                                      |         | 1/(s + α)            |
| αf(t)                                     |         | α.F(s)               |
| Σᵢ₌₁ⁿ fᵢ(t)                               |         | Σᵢ₌₁ⁿ Fᵢ(s)          |
| f(t - θ) hàm trễ                          |         | F(s).e⁻θˢ            |
| dⁿf(t)/dtⁿ đạo hàm bậc n                  |         | sⁿ.F(s)              |
| ∫₀ᵗ f(t)dt tích phân                      |         | F(s)/s               |

================================================================================
Page 85 of 165 - COMPLETED
================================================================================


4.4.2. Hàm truyền

Hàm truyền là một hàm biến phức biểu diễn mối quan hệ vào ra của một hệ thống đơn biến tuyến tính. Hàm truyền của hệ thống được định nghĩa là tỷ số giữa biến đổi Laplace của tín hiệu đầu ra Y(s) và biến đổi Laplace của tín hiệu đầu vào X(s) khi các điều kiện ban đầu bằng không.

Với phương trình vi phân (4.1), thực hiện phép biến đổi Laplace cả hai vế ta có:

aₙsⁿY(s) + aₙ₋₁sⁿ⁻¹Y(s) + ... + a₀Y(s) = bₘsᵐX(s) + bₘ₋₁sᵐ⁻¹X(s) + ... + b₀X(s)

(aₙsⁿ + aₙ₋₁sⁿ⁻¹ + ... + a₀)Y(s) = (bₘsᵐ + bₘ₋₁sᵐ⁻¹ + ... + b₀)X(s)

Từ đó ta có hàm truyền tổng quát của hệ thống là:

                     Y(s)     bₘsᵐ + bₘ₋₁sᵐ⁻¹ + ... + b₀
            G(s) = ------- = --------------------------------           (4.16)
                     X(s)     aₙsⁿ + aₙ₋₁sⁿ⁻¹ + ... + a₀

Ta cũng có thể xác định hàm truyền cho các hệ thống hoặc các thành phần của hệ thống khi biết mô hình phương trình vi phân phi tuyến mô tả chúng. Một số khâu điển hình:

(1) Mô hình hàm truyền của khâu quán tính bậc nhất có trễ (FOPDT)

                                    K
            G_FOPDT(s) = --------- e⁻θˢ                                (4.17)
                          τs + 1

(2) Mô hình hàm truyền của khâu bậc hai có trễ (FOPDT)

                                    K
            G_SOPDT(s) = ------------------- e⁻θˢ                      (4.18)
                         τ²s² + 2ζτs + 1

(3) Trường hợp ζ ≥ 1 ta có mô hình hàm truyền của khâu quán tính bậc hai có trễ:

                                    K
            G_SOPDT(s) = ----------------------- e⁻θˢ                  (4.19)
                         (τ₁s + 1)(τ₂s + 1)

τ₁ và τ₂ là nghiệm của đa thức mẫu số của phương trình (4.18)

Để đơn giản, sau đây chúng ta sẽ sử dụng các chữ viết hoa để biểu diễn hàm số trong miền Laplace, chữ viết thường được hiểu là hàm số trong miền thời gian:
Ví dụ Y thay cho Y(s), X thay cho X(s), F thay cho F(s) trong miền Laplace;
      y thay cho y(t), x thay cho x(t), f thay cho f(t) trong miền thời gian.

================================================================================
Page 86 of 165 - COMPLETED
================================================================================

4.4.3. Biểu diễn hàm truyền trên sơ đồ khối

Một hệ thống điều khiển thường gồm nhiều phần tử kết nối với nhau. Mỗi phần tử này gọi là một khâu và được mô tả bởi một hàm truyền. Một cách đơn giản nhưng hiệu quả trong việc biểu diễn các hàm truyền là dùng sơ đồ khối, trong đó gồm có ba thành phần là khối chức năng, bộ tổng và điểm rẽ nhánh (Hình 4.6):
- Khối chức năng: Tín hiệu ra của khối chức năng bằng tín hiệu vào nhân hàm truyền.
- Điểm rẽ nhánh: Tại điểm rẽ nhánh mọi tín hiệu đều bằng nhau.
- Bộ tổng: Tín hiệu ra của bộ tổng bằng tổng đại số của các tín hiệu vào.

[Hình 4.6: Các thành phần cơ bản của sơ đồ khối]
(a) Khối chức năng: X → [G] → Y, với Y = GX
(b) Điểm rẽ nhánh: X phân thành Y và Z, với Y = X = Z
(c) Bộ tổng: X và Z đưa vào bộ tổng (+ và -), ra Y, với Y = X - Z

Hàm truyền tương đương của một số hệ thống điều khiển:

(1) Hệ thống gồm nhiều phần tử mắc nối tiếp nhau:

[Hình 4.7: Sơ đồ khối mắc nối tiếp]
X → [G₁] → X₂ → [G₂] → Y₂ → ... → [Gₙ] → Y
     X₁      Y₁           Xₙ      Yₙ

Tương đương:
X → [Gₙₜ = G₁G₂...Gₙ] → Y

Hàm truyền tương đương của hệ nối tiếp bằng tích các hàm truyền của từng thành phần:

                         n
            Gₙₜ = ∏ Gᵢ                                                 (4.20)
                        i=1

================================================================================
Page 87 of 165 - COMPLETED
================================================================================

(2) Hệ thống gồm các phần tử mắc song song với nhau:

[Hình 4.8: Sơ đồ khối mắc song song]
        ┌─→ [G₁] → Y₁ ─┐
        │   X₁         │
X ──────┼─→ [G₂] → Y₂ ─┼──→ [+] ──→ Y
        │   X₂         │     [+]
        │   :          │     [+]
        │   :          │
        └─→ [Gₙ] → Yₙ ─┘
            Xₙ

Tương đương:
X → [Gₛₛ = G₁ + G₂ + ... + Gₙ] → Y

Hàm truyền tương đương của hệ mắc song song bằng tổng các hàm truyền của từng thành phần:

                         n
            Gₛₛ = Σ Gᵢ                                                 (4.21)
                        i=1

(3) Hệ thống các phần tử mắc phản hồi:

[Hình 4.9: Sơ đồ khối mắc phản hồi]
X ──→ [+] ──→ E ──→ [G] ──→ Y
       ↑ -                  │
       │                    │
       └──── [H] ←── Yₕₜ ───┘

Tương đương:
X → [Gₕₜ = G/(1+GH)] → Y

Hàm truyền tương đương của hệ mắc phản hồi:

                          G
            Gₕₜ = ─────────                                            (4.22)
                       1 + GH

================================================================================
Page 88 of 165 - COMPLETED
================================================================================

4.5 KHẢO SÁT ĐỘNG HỌC BẰNG CÔNG CỤ MÔ PHỎNG

Trong phần này sẽ phân tích diễn biến trong quá trình quá độ của một số quá trình thường gặp trong công nghệ hoá học. Phản ứng của hệ phụ thuộc vào các dạng tác động đầu vào. Tác động theo hàm nấc thường được sử dụng trong thực tế, nên nội dung này chúng ta tập trung vào khảo sát hệ thống khi đầu vào là hàm nấc.

4.5.1. Ví dụ bồn chứa lỏng

VÍ DỤ 4.2: Một bồn chứa có diện tích mặt cắt ngang đồng nhất A. Giả sử rằng lưu lượng thể tích dòng ra Fₒ phụ thuộc vào chiều cao mức h theo quan hệ tuyến tính: Fₒ = h/R

[Hình 4.10: Bồn chứa chất lỏng]
- Bồn chứa hình trụ với dòng vào Fᵢ từ trên
- Chiều cao mức chất lỏng h
- Dòng ra Fₒ ở đáy bồn

Trong đó R là hệ số trở lực. Xác định:
1) Phương trình vi phân mô tả quan hệ chiều cao mức chất lỏng và lưu lượng thể tích dòng vào Fᵢ
2) Để điều khiển mức chất lỏng trong bồn chứa, người ta xây dựng sách lược điều khiển phản hồi và lắp van điều khiển vào đường cấp chất lỏng. Xác định các biến quá trình, vẽ sơ đồ cấu trúc (SĐK và P&ID) điều khiển phản hồi.
3) Sử dụng biến chênh lệch, xác định hàm truyền mô tả quan hệ vào ra. Xác định các tham số: hệ số khuếch đại, hằng số thời gian.
4) Cho K=1/9 và τ = 1min, mô phỏng cho các trường hợp dưới đây:
4a) Tăng đột ngột Fᵢ từ trạng thái ổn định 10 m³/min lên thành 11 m³/min, xác định chiều cao mức chất lỏng ở trạng thái ổn định mới so với mức cũ.
4b) Tăng Fᵢ trong thời gian 1min từ trạng thái ổn định ban đầu 10 m³/min lên thành 11 m³/min, tìm giá trị lớn nhất mà chiều cao mức chất lỏng đạt được hₘₐₓ=?
5) Giả sử Fₒ = Cᵥ√h, làm lại câu 1 và 3 ở trên.
6) Giả sử Fₒ không phụ thuộc chiều cao h, làm lại câu 1 và 3 ở trên.

================================================================================
Page 89 of 165 - COMPLETED
================================================================================

Một số gợi ý giải bài toán:
1) Giả sử khối lượng riêng dòng vào, dòng ra và trong bồn là bằng nhau và không thay đổi, từ cân bằng vật chất, ta có:

            dρV/dt = ρFᵢ - ρFₒ

            ⇒ dV/dt = Fᵢ - Fₒ

            ⇒ A(dh/dt) = Fᵢ - h/R

            ⇒ AR(dh/dt) + h = RFᵢ                                      (4.23)

2) Giả sử tại trạng thái làm việc ổn định, các biến quá trình không thay đổi theo thời gian và ký hiệu tương ứng là: h̄, F̄ᵢ, F̄ₒ. Phương trình tĩnh:

            AR(dh̄/dt) + h̄ = RF̄ᵢ                                       (4.24)
               ⌞___⌟
                 =0

Trừ 2 vế (4.23) cho (4.24):

            AR[d(h - h̄)/dt] + (h - h̄) = R(Fᵢ - F̄ᵢ)

            AR[d(Δh)/dt] + Δh = R(ΔFᵢ)

Sử dụng biến chênh lệch:

            AR(dy/dt) + y = Rx                                         (4.25)

3) Biến đổi Laplace ta được hàm truyền có dạng quán tính bậc nhất:

            G = Y/X = R/(ARs + 1)

            G = K/(τs + 1)

            G = (1/9)/(s + 1)                                          (4.26)

================================================================================
Page 90 of 165 - COMPLETED
================================================================================

4) Mô phỏng trên máy tính:

[Hình 4.11: Đáp ứng quá độ cho câu 4a]
- Sơ đồ Simulink: Step → [1/9 / (s+1)] Transfer Fcn → Scope
- Đồ thị đáp ứng: Đường cong tăng từ 0 lên đến giá trị ổn định khoảng 0.11
- Cursor Measurements:
  + Time 1: 1.000, Value: 7.024e-02
  + Time 2: 8.000, Value: 1.111e-01
  + ΔT: 7.000 s, ΔY: 4.086e-02
  + 1/ΔT: 142.857 mHz
  + ΔY/ΔT: 5.834 (ks)

[Hình 4.12: Đáp ứng đầu ra cho câu 4b]
- Sơ đồ Simulink: Signal Builder (Group 1, Signal 1) → [1/9 / (s+1)] Transfer Fcn1 → Scope1
- Đồ thị đáp ứng: Đường cong tăng từ 0, đạt giá trị cực đại rồi ổn định
- Cursor Measurements:
  + Time 1: 1.000, Value: 4.088e-02
  + Time 2: 8.000, Value: 1.110e-01
  + ΔT: 7.000 s, ΔY: 7.017e-02
  + 1/ΔT: 142.857 mHz
  + ΔY/ΔT: 10.025 (ks)

================================================================================
Page 91 of 165 - COMPLETED
================================================================================

4.5.2. Ví dụ thiết bị phản ứng

VÍ DỤ 4.3: Etylen oxit (A) phản ứng với nước (B) trong bình phản ứng được khuấy liên tục (CSTR) để tạo thành ethylene glycol (P). Giả sử rằng CSTR được duy trì ở nhiệt độ không đổi và lượng nước dư nhiều. Phương trình phản ứng là A+B→P, hằng số tốc độ phản ứng là k, thể tích của dung dịch trong bình được giữ cố định bằng V.

[Hình 4.13: Thiết bị phản ứng]
- Bình phản ứng CSTR với:
  + Dòng vào: Fᵢ, Cₐ (chất tải nhiệt vào)
  + Dòng ra: F, Cₐ, Cₚ
  + Phản ứng: A+B → P
  + Xả đáy và chất tải nhiệt ra

Phương trình vi phân mô tả nồng độ của etylen glicol (P):

            dCₚ/dt = -Fᵢ/V · Cₚ + kCₐ

Giả sử rằng một sách lược kiểm soát sẽ được xây dựng để duy trì nồng độ ethylene glycol mong muốn bằng cách điều chỉnh lưu lượng dòng cấp Fᵢ vào thiết bị phản ứng. Để thiết kế bộ điều khiển, điều quan trọng là phải hiểu đặc tính động giữa thay đổi đầu vào và nồng độ đầu ra. Xung quanh điểm làm việc cân bằng (có nồng độ C̄ₚ = 3mol/l, lưu lượng F̄ᵢ = 2l/min), xác xác định được hàm truyền:

            G = Y/X = ΔCₚ(s)/ΔFᵢ(s) = 2/(5s + 2)

Sự thay đổi tức thời của Fᵢ từ trạng thái cân bằng ban đầu lên thành 2,1 l/min, làm giảm thời gian lưu dẫn đến giảm chuyển đổi A thành P dẫn đến thay đổi nồng độ etylen glycol.

• Biến đổi phương trình vi phân thành hàm truyền có dạng như trên?
• Xác định biểu thức của hệ số khuếch đại và hằng số thời gian?
• Xác định Cₚ ở trạng thái ổn định mới?
• Sau bao lâu hệ đạt được trạng thái ổn định mới?
• Xác định nồng độ Cₚ sau khoảng thời gian t = 2,5 min?

Biểu diễn mô hình Matlab&Simulink.

================================================================================
Page 92 of 165 - COMPLETED
================================================================================

Hướng dẫn:
• Mô phỏng trên Matlab&Simulink ta cũng được kết quả tương tự như tính toán:

[Sơ đồ Simulink: Step input M → [1/(2.5s+1)] System → Scope]

            G = 1/(2,5s + 1)

[Đồ thị đáp ứng: Đường cong tăng từ 0 đến giá trị ổn định 0.1]
- Trục x: 0 đến 20 (thời gian)
- Trục y: 0 đến 0.1
- Điểm 1: khoảng t=2
- Điểm 2: khoảng t=12, giá trị ổn định

VÍ DỤ 4.4: Khảo sát đặc tính của hệ quán tính bậc nhất có trễ

Hệ quán tính bậc nhất có trễ cũng có đặc tính tương tự như hệ không có trễ, chỉ khác là diễn biến của hệ bị chậm đi một khoảng bằng với khoảng thời gian trễ.

Phương trình vi phân: τ[dy(t)/dt] + y(t) = K.x(t - θ), trong đó θ là thời gian trễ.

Hàm truyền của hệ có trễ là: Gₛ = [K/(τs + 1)].e⁻θˢ

Giả sử điểm đo nồng độ trong ví dụ trên đặt trên đường ống cách xa thiết bị phản ứng, khi đó nồng độ đo được sẽ bị trễ đi một khoảng do di chuyển. Nếu thời gian trễ là 2 giây, mô phỏng trên Matlab&Simulink:

[Sơ đồ Simulink: Step 0.1 → [1/(2.5s+1)] System → [t/g trễ 2s] → Scope]

            G = [1.e⁻²ˢ]/(2,5s + 1)

[Đồ thị: Biến thiên đầu ra theo thời gian]
- Đường cong bắt đầu tăng sau thời gian trễ θ
- Trục x: 0 đến 20 (Time), với điểm τ+θ được đánh dấu
- Trục y: 0 đến 0.1
- Điểm 1 và 2 đánh dấu trên đồ thị

================================================================================
Page 93 of 165 - COMPLETED
================================================================================

4.5.3. Ví dụ hệ bậc hai

VÍ DỤ 4.5: Một hệ thống điều khiển được mô tả bởi phương trình vi phân sau đây:

            d²y(t)/dt² + a₁(dy(t)/dt) + 4y(t) = x(t)

[Sơ đồ khối: x(t) → [SYSTEM] → y(t)]

Xác định:
1) Hàm truyền của hệ thống, bậc của hệ?
2) Giá trị của độ lợi tĩnh, hệ số dao động zeta ζ?
3) Khảo sát đáp ứng quá độ của hệ với các giá trị khác nhau của ζ sử dụng mô phỏng trên Matlab&Simulink: ζ < 0; ζ = 0; 0 < ζ < 1; ζ = 1; ζ > 1

Gợi ý làm bài:

1) Biến đổi Laplace hai vế ta được hàm truyền: G = Y/X = 1/(s² + a₁s + 4)

2) Chuyển hàm truyền trên về dạng bậc 2 chuẩn, chia tử số và mẫu số cho 4:

            G = 0,25/(0,25s² + 0,25a₁s + 1)

Từ đó ta có: độ lợi tĩnh K = 0,25
            Hằng số thời gian τ² = 0,25 suy ra τ = SQRT(0,25) = 0,5
            Hệ số dao động tính từ biểu thức: 2τζ = 0,25a₁ suy ra ζ = 0,25a₁

3) Hệ không ổn định khi ζ < 0; Hệ dao động điều hòa khi ζ = 0; Hệ ổn định khi ζ > 0.

Đoạn Code mô phỏng trên Matlab với các giá trị của a₁ là: 1; 0 và -0,5:

% KHẢO SÁT HỆ BẬC 2
a1= 1                           % với a1>0, a1<0 và a1=0
num = [ 0.25 ]                  % tử số hàm truyền
denom = [ 0.25 0.25*a1 1]       % mẫu số hàm truyền
G = tf( num, denom )            % hàm truyền của hệ thống
step(G)                         % đáp ứng nấc đơn vị
grid on                         % kẻ ô
hold on                         % giữ đồ thị trước đó lại

[Đồ thị: Step Response]
- Trục x: Time (seconds), từ 0 đến 8
- Trục y: Amplitude, từ -0.8 đến 1
- Ba đường đáp ứng khác nhau tương ứng với các giá trị a₁ khác nhau:
  + Đường dao động tắt dần (ζ > 0)
  + Đường dao động điều hòa (ζ = 0)
  + Đường phát tán không ổn định (ζ < 0)

================================================================================
Page 94 of 165 - COMPLETED
================================================================================

CHƯƠNG 5

PHÂN TÍCH HỆ THỐNG ĐIỀU KHIỂN PHẢN HỒI

                        5.1 Chỉ số chất lượng điều khiển
                        5.2 Phân tích hệ thống điều khiển
                        5.3 Tính ổn định của hệ thống điều khiển

Trong các sách lược điều khiển thì sách lược điều khiển phản hồi có vai trò then chốt. Trong các phần tiếp theo chúng ta sẽ đi sâu vào khảo sát các yếu tố liên quan đến chất lượng điều khiển và những nguyên tắc cơ bản trong việc thiết kế bộ điều khiển phản hồi.

Trước khi phân tích hay tổng hợp hệ thống điều khiển cần phải làm rõ những yêu cầu của hệ thống cần phải có:

- Nhiệm vụ đầu tiên của hệ thống điều khiển là tác động vào biến điều khiển để duy trì sự ổn định của hệ thống hoặc ổn định quá trình không ổn định. Yêu cầu ổn định là bắt buộc đối với bất cứ điều khiển nào bởi vì hệ thống làm việc được chỉ khi nó ổn định.

- Ổn định mới chỉ là một chỉ tiêu quan trọng, nhưng chưa phải là điều kiện đủ đối với hệ thống điều khiển. Chất lượng hệ thống điều khiển còn được đánh giá cả trong quá trình quá độ và khi nó đạt được trạng thái xác lập như: độ chính xác, độ ổn định, đáp ứng quá độ...

================================================================================
Page 95 of 165 - COMPLETED
================================================================================

5.1 CÁC CHỈ SỐ CHẤT LƯỢNG HỆ THỐNG ĐIỀU KHIỂN

Chất lượng điều khiển được xác định thông qua các chỉ số không những ở trạng thái xác lập mà còn trong quá trình quá độ. Khi đánh giá chất lượng của hệ thống điều khiển phản hồi cần phải đánh giá đáp ứng của hệ thống với cả hai yêu cầu là đáp ứng với thay đổi giá trị đặt và đáp ứng với thay đổi của nhiễu tác động lên quá trình.

5.1.1. Đáp ứng của hệ với thay đổi giá trị đặt

Thông thường chế độ vận hành là cố định nên giá trị đặt ít khi phải thay đổi, nhưng nếu thay đổi thì tín hiệu đặt thường có dạng hàm nấc. Các chỉ số đặc trưng cho chất lượng điều khiển trong trường hợp điều khiển bám tín hiệu đặt bao gồm:

(a) Chỉ số chất lượng đặc trưng cho tốc độ đáp ứng

Thời gian điều chỉnh tₓₗ: là khoảng thời gian mà đại lượng cần điều chỉnh đạt giá trị xác lập yₓₗ với độ chính xác Δ cho trước. Ví dụ độ chính xác được lấy theo tiêu chuẩn Δ = 1%, 2%, 5%..., nghĩa là |y(t) - yₓₗ| ≤ Δ với ∀t ≥ tₓₗ.

[Hình 5.1: Đáp ứng đầu ra]
- Đồ thị bên trái: Đáp ứng dao động với:
  + yₛₚ là giá trị đặt
  + yₓₗ là giá trị xác lập
  + yₓₗ + Δ và yₓₗ - Δ là dải sai số cho phép
  + tₓₗ là thời gian điều chỉnh
- Đồ thị bên phải: Đáp ứng không dao động với các thông số tương tự

Thời gian điều chỉnh đôi khi cũng được gọi là thời gian đáp ứng hay thời gian xác lập. Thời gian điều chỉnh đặc trưng cho tốc độ đáp ứng của hệ, cho nên yêu cầu hệ đáp ứng càng nhanh càng tốt, nghĩa là thời gian điều chỉnh càng nhỏ càng tốt.

(b) Chỉ số chất lượng đặc trưng cho độ chính xác điều khiển

Sự khác biệt giữa mục tiêu mong muốn và thực tế biến cần điều khiển đạt được đặc trưng cho chỉ số về độ chính xác, nghĩa là sai lệch điều khiển e. Sai lệch điều khiển được biểu diễn là một hàm số theo thời gian:

            e(t) = yₛₚ(t) - y(t)

================================================================================
Page 96 of 165 - COMPLETED
================================================================================

Sai lệch tĩnh eₓₗ là sai lệch giữa giá trị xác lập của biến cần điều khiển so với giá trị đặt. Sai lệch tĩnh càng nhỏ càng tốt, nhưng thường chỉ yêu cầu nằm trong một giới hạn Δ nào đó.

[Hình 5.2: Sai lệch tĩnh]
- Đồ thị trên bên trái: yₛₚ = yₓₗ
  + Đường đáp ứng dao động trong quá trình quá độ
  + Xác lập tại yₓₗ = yₛₚ
  + Sai lệch tĩnh eₓₗ = 0

- Đồ thị trên bên phải: yₛₚ = yₓₗ
  + Đường đáp ứng không vọt lố
  + Quá độ → Trạng thái xác lập
  + Sai lệch tĩnh eₓₗ = 0

- Đồ thị dưới bên trái:
  + yₛₚ và yₓₗ khác nhau
  + Đường đáp ứng dao động
  + Quá trình quá độ → Xác lập
  + Sai lệch tĩnh eₓₗ ≠ 0

- Đồ thị dưới bên phải:
  + yₛₚ và yₓₗ khác nhau
  + Quá độ → Trạng thái xác lập
  + Sai lệch tĩnh eₓₗ ≠ 0

Sai lệch tĩnh có thể tính từ đồ thị đáp ứng hoặc tính theo một trong các cách sau:

• Theo sai lệch giữa giá trị cài đặt và giá trị xác lập của đại lượng cần điều khiển:
            eₓₗ = yₛₚ - yₓₗ

• Theo định lý giá trị cuối:
            eₓₗ = lim(t→∞) e(t) = lim(s→0) sE
            eₓₗ = lim(t→∞) (yₛₚ - y(t)) = yₛₚ - lim(s→0) sY

(c) Chỉ số chất lượng đặc trưng cho sự dao động của quá trình quá độ.

Trong trường hợp đáp ứng của hệ có dạng dao động tắt dần, hiện tượng vọt lố có thể xảy ra khi đầu ra y(t) vượt quá giá trị xác lập mà nó đạt được ở trạng thái xác lập.

Độ quá điều chỉnh (Overshoot, POT): là đại lượng đánh giá mức độ vọt lố của hệ thống, tính bằng tỷ số giữa biên độ đỉnh thứ nhất và giá trị xác lập:

================================================================================
Page 97 of 165 - COMPLETED
================================================================================

            POT = a/b = (yₘₐₓ - yₓₗ)/yₓₗ × 100%

[Hình 5.3: Độ quá điều chỉnh]
- Đồ thị bên trái: Đáp ứng dao động vọt lố
  + yₛₚ là giá trị đặt
  + yₓₗ là giá trị xác lập
  + a là biên độ vọt lố (từ yₓₗ đến yₘₐₓ)
  + b là giá trị xác lập yₓₗ

- Đồ thị bên phải: Đáp ứng không vọt lố
  + a = 0
  + yₛₚ = yₓₗ
  + Đường đáp ứng tăng đều đến giá trị xác lập

Độ quá điều chỉnh được yêu cầu càng nhỏ càng tốt, thông thường để tăng tốc độ điều chỉnh thì cần cho phép vọt lố, nhưng thường không vượt quá 20-25%.

5.1.2. Đáp ứng của hệ với thay đổi của nhiễu

Các dạng nhiễu tác động đến quá trình rất đa dạng, tuy nhiên tín hiệu hàm nấc và hàm xung có đặc tính đại diện, nên trong thực tế thường được sử dụng chúng để đánh giá chất lượng loại bỏ nhiễu.

Khi đánh giá chất lượng của hệ thống điều khiển với thay đổi của nhiễu quá trình, ngoài các tiêu chí như đã đề cập trên đây, còn có một tiêu chí quan trọng đó là sai lệch điều khiển lớn nhất trong quá trình quá độ.

Sai lệch cực đại eₘₐₓ: là giá trị lệch lớn nhất đạt được của đại lượng cần điều khiển với giá trị đặt trong quá trình điều khiển kể từ khi hệ bị tác động của nhiễu. Nói chung sai lệch cực đại được yêu cầu nhỏ nhất có thể.

[Hình 5.4: Sai lệch cực đại]
- Đồ thị bên trái: Có sai lệch cực đại
  + yₛₚ = yₓₗ
  + eₘₐₓ là độ lệch lớn nhất
  + Quá trình quá độ → Xác lập

- Đồ thị bên phải: Không có sai lệch
  + yₛₚ = yₓₗ
  + eₘₐₓ = 0
  + Quá độ → Trạng thái xác lập

================================================================================
Page 98 of 165 - COMPLETED
================================================================================

5.1.3. Các tiêu chuẩn tối ưu hoá đáp ứng quá độ:

Yêu cầu hệ thống điều khiển phải thoả mãn tốt và đồng thời tất cả các chỉ tiêu chất lượng rất khó thực hiện được. Trong thực tế nếu muốn chỉ số về độ chính xác cao, tức là cố gắng giảm sai lệch tĩnh thường phải chấp nhận thời gian điều chỉnh dài hoặc hệ thống dao động nhiều hơn. Ngược lại nếu muốn giảm thời gian điều chỉnh thường chấp nhận độ quá điều chỉnh lớn hơn. Do đó công việc thiết kế bộ điều khiển bao giờ cũng mang tính dung hòa: thời gian điều chỉnh vừa đủ, độ quá điều chỉnh vừa đủ và độ chính xác cũng vừa đủ. Một phương pháp đánh giá chất lượng khác là sử dụng các tiêu chuẩn tối ưu hoá đáp ứng quá độ như IAE, ISE hay ITAE.

Tiêu chuẩn IAE (Integral Absolute Error - tích phân sai lệch tuyệt đối):

                         ∞
            J₁ = ∫ |e(t)|dt → min
                         0

Tiêu chuẩn ISE (Integral Square Error - tích phân của bình phương sai lệch)

                         ∞
            J₂ = ∫ e²(t)dt → min
                         0

Tiêu chuẩn ITAE (Integral-Time-Absolute-Error: tích phân của thời gian nhân với sai lệch tuyệt đối)

                         ∞
            J₃ = ∫ t|e(t)|dt → min
                         0

================================================================================
Page 99 of 165 - COMPLETED
================================================================================

5.2 PHÂN TÍCH HỆ THỐNG ĐIỀU KHIỂN PHẢN HỒI

5.2.1. Phát triển sơ đồ khối điều khiển phản hồi

Sơ đồ khối điều khiển giúp cho việc phân tích, thiết kế các vòng điều khiển được đơn giản hơn. Trong sơ đồ khối, tất cả các phần tử đều được biểu diễn bởi các hàm truyền riêng của chúng. Mô hình hàm truyền kết hợp với sơ đồ khối cho ta một công cụ đơn giản nhưng hữu dụng trong việc phân tích và thiết kế hệ thống điều khiển. Trong phần này, chúng ta lấy ví dụ điều khiển mức chất lỏng để minh họa việc phát triển sơ đồ khối.

VÍ DỤ 5.1: Phát triển sơ đồ khối điều khiển bình chứa lỏng

Hệ thống điều khiển mức chất lỏng trên Hình 5.5 bao gồm các thành phần sau:
• Bộ điều khiển mức LC với đầu vào là tín hiệu sai lệch điều khiển e và tín hiệu chủ đạo hₛₚ, đầu ra là tín hiệu điều khiển u.
• Van điều khiển trên đường cấp với đầu vào là tín hiệu điều khiển u từ bộ điều khiển, đầu ra là tín hiệu lưu lượng cấp vào bình chứa lỏng F₂.
• Quá trình chứa chất lỏng với các đầu vào là tín hiệu lưu lượng từ van điều khiển, tín hiệu từ các biến nhiễu, đầu ra là tín hiệu biến được điều khiển – mức chất lỏng h.
• Cảm biến đo mức bình chứa LT với tín hiệu vào-ra là mức chất lỏng trong bình chứa.

[Hình 5.5: Lưu đồ điều khiển mức]
- Bồn chứa hình trụ với thể tích V, tiết diện A
- Dòng vào F₁ từ phía trên bên trái
- Dòng cấp F₂ qua van điều khiển từ phía trên bên phải
- Dòng ra F₃ ở đáy bồn
- Chiều cao mức chất lỏng h
- Cảm biến mức LT 01 đo mức và gửi tín hiệu đến bộ điều khiển LC 01
- Giá trị đặt hₛₚ đưa vào bộ điều khiển LC

F₁, F₂, F₃ - là lưu lượng các dòng vào và dòng ra khỏi bồn chứa
h – là chiều cao mức chất lỏng, A – là tiết diện ngang không đổi của bể chứa.

Sau đây ta xem xét hàm truyền của mỗi thành phần trong hệ thống điều khiển.

================================================================================
Page 100 of 165 - COMPLETED
================================================================================

Xây dựng hàm truyền của quá trình

[Hình 5.6 Hàm truyền quá trình trên sơ đồ khối]
- Bồn chứa chất lỏng với dòng vào F₁, F₂ và dòng ra F₃
- Sơ đồ khối tương đương:
  + Z (nhiễu) → [Gᵤ] ─┐
  + X → [Gₚ] ─────────┼→ [+] → Y(ΔH)
                       
Từ phương trình cân bằng vật chất ta có:

            A(dh/dt) = F₁ + F - F₃

Giả sử lưu lượng dòng ra phụ thuộc chiều cao mức chất lỏng F₃ = h/R.

Do phương trình trên là tuyến tính nên chỉ cần thay các biến thực bằng biến chênh lệch:

            A(dΔh/dt) = ΔF₁ + ΔF₂ - (1/R)Δh

            AR(dΔh/dt) + Δh = RΔF₁ + RΔF₂

Biến đổi Laplace, sử dụng các biến chênh lệch:

            ARs.ΔH(s) + ΔH(s) = RΔF₂(s) + RΔF₁(s)

            ⇒ ΔH(s) = [R/(ARs + 1)]ΔF₂(s) + [R/(ARs + 1)]ΔF₁(s)

            ⇒ Y = [R/(ARs + 1)]X + [R/(ARs + 1)]Z

            ⇒ { Gₚ = Y/X = R/(ARs + 1) = k/(τs + 1)
              { Gᵤ = Y/Z = R/(ARs + 1) = k/(τs + 1)                    (5.1)

Trong đó các biến chênh lệch trong miền Laplace Y = ΔH(s); X = ΔF₂(s); Z = ΔF₁(s)

================================================================================
Page 101 of 165 - COMPLETED
================================================================================

Xây dựng hàm truyền của van điều khiển

Van điều khiển là phần tử điều khiển cuối cùng có chức năng trực tiếp can thiệp vào quá trình bằng lưu lượng qua van. Tín hiệu vào van là tín hiệu điều khiển u từ bộ điều khiển, tín hiệu ra là lưu lượng qua van F₂. Tương tự như trên, động học của van điều khiển có thể được biểu diễn bằng hàm truyền:

            Gᵥ = X/U = kᵥ/(τᵥs + 1)                    (5.2)

[Hình 5.7 Hàm truyền van điều khiển trên sơ đồ khối]
- Sơ đồ van điều khiển với đầu vào U và đầu ra X = ΔF₂
- Khối hàm truyền Gᵥ

Xây dựng hàm truyền của bộ điều khiển

Bộ điều khiển (Controller) là một thành phần của hệ thống điều khiển phản hồi nhận tín hiệu sai lệch điều khiển e và đưa ra tín hiệu điều khiển u gởi tới phần tử điều khiển cuối cùng. Trong phần này chỉ xét bộ điều khiển PI truyền thống trong công nghiệp.

            u(t) = Kc[e(t) + (1/τᵢ)∫e(t)dt]

Biến đổi Laplace:
            U(s) = Kc[1 + 1/(τᵢs)]E(s)

            ⇒ Gc = U/E = Kc(1 + 1/(τᵢs)) = Kc(τᵢs + 1)/(τᵢs)                    (5.3)

[Hình 5.8 Hàm truyền bộ điều khiển trên sơ đồ khối]
- Sơ đồ bộ điều khiển LC với đầu vào E và đầu ra U
- Khối hàm truyền Gc

Xây dựng hàm truyền của thiết bị đo

Thiết bị đo (sensor - transmitter) bao gồm cảm biến và bộ chuyển đổi được sử dụng để đo lường giá trị thực của biến được điều khiển và chuyển đổi tín hiệu sang dạng phù hợp ở đầu ra.

[Hình 5.9 Hàm truyền thiết bị đo trên sơ đồ khối]
- Sơ đồ thiết bị đo LT với đầu vào Y = ΔH và đầu ra Yₘ = ΔHₘ
- Khối hàm truyền Gₘ

================================================================================
Page 102 of 165 - COMPLETED
================================================================================

Đặc tính động của thiết bị đo mô tả mối quan hệ phụ thuộc của tín hiệu đầu ra vào đại lượng đo và biến thời gian. Đặc tính động học của hầu hết thiết bị đo có thể được mô tả bởi một phương trình vi phân cấp một hoặc cấp hai. Nếu coi đặc tính của thiết bị đo là tuyến tính, thì động học của nó có thể biểu diễn bởi hàm truyền:

            Gₘ = Yₘ/Y = kₘ/(τₘs + 1)

hoặc khâu bậc hai:
            Gₘ = kₘ/(τₘ²s² + 2ζτₘs + 1)

Thông thường phép đo có động học nhanh hơn nhiều so với động học của quá trình, nghĩa là hằng số thời gian τₘ trong hai phương trình trên rất nhỏ so với hằng số thời gian của quá trình hoá công nghệ, do đó có thể coi động học của thiết bị đo là một khâu khuếch đại.

Biểu diễn hàm truyền trên sơ đồ khối điều khiển:

Bây giờ chúng ta có thể kết hợp các hàm truyền của mỗi thành phần và biểu diễn trên Sơ đồ khối hệ thống điều khiển phản hồi như trong Hình 5.10. Điều này tương tự như sơ đồ khối trong phần khái niệm của Chương 1. Có hai tín hiệu đầu vào được cung cấp từ bên ngoài: tín hiệu đặt (chiều cao mức chất lỏng mong muốn Ysp) và tín hiệu nhiễu (lưu lượng dòng chảy ra khỏi quá trình Z).

[Hình 5.10 Biểu diễn hàm truyền trên sơ đồ khối hệ thống điều khiển phản hồi]
- Sơ đồ khối hoàn chỉnh với:
  + Ysp(ΔHsp) → [Bộ so sánh] → E → [Gc] → U → [Van Gᵥ] → Z(ΔF₁) → [Gp] → Y(ΔH)
  + Z(ΔF₂) → [Gz] ─────────────────────────────────────────────┘
  + Y(ΔH) → [TB đo Gₘ] → Yₘ(ΔHₘ) → [Phản hồi về bộ so sánh]

================================================================================
Page 103 of 165 - COMPLETED
================================================================================

5.2.2. Rút gọn sơ đồ khối điều khiển phản hồi

Từ sơ đồ khối với các hàm truyền riêng biệt (Hình 5.10), ta có thể rút gọn thành sơ đồ khối điều khiển chỉ có một hàm truyền tương đương giữa đầu vào và đầu ra.

(1) Hàm truyền theo kênh chủ đạo Y-Ysp

Coi Z = 0, ta xác định được hàm truyền của hệ kín theo kênh chủ đạo Y-Ysp:

[Sơ đồ khối rút gọn: Ysp → [GY-Ysp] → Y]

            GY-Ysp = Y/Ysp = (GcGᵥGp)/(1 + GcGᵥGpGₘ)                    (5.4)

Nếu coi động học của van và thiết bị đo nhanh hơn rất nhiều so với quá trình, ta có thể coi Gᵥ = kᵥ và Gₘ = kₘ. Khi đó:

            GY-Ysp = Y/Ysp = (kᵥGcGp)/(1 + kᵥkₘGcGp)

Nếu coi kᵥ = kₘ = 1:

            GY-Ysp = Y/Ysp = (GcGp)/(1 + GcGp)                    (5.5)

================================================================================
Page 104 of 165 - COMPLETED
================================================================================

(2) Hàm truyền theo kênh nhiễu Y-Z

Tương tự như các bước thực hiện ở trên, coi Ysp = 0, ta cũng xác định được hàm truyền của hệ kín theo kênh nhiễu Y-Z:

[Sơ đồ khối: Z → [GY-Z] → Y]

            GY-Z = Y/Z = Gz/(1 + GcGᵥGpGₘ)                    (5.3)

Hàm truyền dạng rút gọn

Trong việc nghiên cứu hệ thống điều khiển quá trình, để đơn giản hóa, người ta cũng hay sử dụng sơ đồ khối dạng rút gọn đơn giản, gộp hàm truyền của van và thiết bị đo vào quá trình công nghệ (hoặc trong sơ đồ trên, có thể xem như Gᵥ = Gₘ = 1):

[Hình 5.11 Sơ đồ khối điều khiển chưa rút gọn]
- Sơ đồ khối đầy đủ với:
  + Ysp(ΔHsp) → [Bộ so sánh] → E → [Bộ điều khiển Gc] → U → [Van Gᵥ] → X(ΔF1)
  + Z(ΔFo) → [Gz] ──────────────────────────────────────┐
  + X(ΔF1) → [Quá trình kỹ thuật Gp] ←──────────────────┘→ Y(ΔH)
  + Y(ΔH) → [TB đo Gₘ] → Yₘ(ΔHₘ) → [Phản hồi về bộ so sánh]

Ta có sơ đồ khối điều khiển dạng rút gọn trong đó chỉ thể hiện bộ điều khiển và đối tượng điều khiển:

[Hình 5.12 Sơ đồ khối điều khiển phản hồi dạng rút gọn]
- Sơ đồ khối rút gọn:
  + Ysp → [Bộ so sánh] → E → [Gc] → U → [Gp] → Y
  + Z → [Gz] ────────────────────────────┘
  + Y → [Phản hồi về bộ so sánh]

================================================================================
Page 105 of 165 - COMPLETED
================================================================================

Đầu ra Y có thể tính được:

            Y = [GcGp/(1 + GcGp)]Ysp + [Gz/(1 + GcGp)]Z                    (5.4)

Hàm truyền theo kênh chủ đạo Y-Ysp của hệ thống ở dạng rút gọn là:

[Sơ đồ khối: Ysp → [GY-Ysp = GcGp/(1 + GcGp)] → Y]

Hàm truyền theo kênh nhiễu Y-Z của hệ thống ở dạng rút gọn là:

[Sơ đồ khối: Z → [GY-Z = Gz/(1 + GcGp)] → Y]

Sau khi có được sơ đồ khối hệ thống điều khiển phản hồi, việc thiết kế bộ điều khiển được quy về bài toán như sau:

Bài toán thiết kế bộ điều khiển phản hồi:

Cho biết trước các mô hình Gp và Gz, xác định khâu điều chỉnh Gc sao cho:
(1) Hệ thống hoạt động ổn định đáp ứng yêu cầu vận hành của quá trình.
(2) Sai lệch điều khiển e nhanh chóng được triệt tiêu hoặc phải nằm trong giới hạn cho phép khi có sự thay đổi giá trị đặt ysp hay xuất hiện nhiễu z.

[Sơ đồ khối bài toán thiết kế bộ điều khiển]
- Ysp → [Bộ so sánh] → E → [Gc = ?] → U → [Gp] → Y
- Z → [Gz] ────────────────────────────┘
- Y → [Phản hồi về bộ so sánh]

Bài toán phân tích hệ thống điều khiển:

Cho một hệ thống điều khiển tự động với cấu trúc và thông số đã biết, xác định đáp ứng và chất lượng điều khiển trong các điều kiện khác nhau.

================================================================================
Page 106 of 165 - COMPLETED
================================================================================

5.2.3. Đáp ứng quá độ hệ thống điều khiển phản hồi

Để minh họa việc phân tích hệ thống điều khiển phản hồi, ta xem xét ví dụ về đáp ứng quá độ của hệ quán tính bậc nhất có phản hồi.

VÍ DỤ 5.2: Đáp ứng quá độ hệ quán tính bậc nhất có phản hồi

Cho hệ thống điều khiển phản hồi như hình dưới, trong đó quá trình là khâu quán tính bậc nhất với hàm truyền Gp = k/(τs + 1), bộ điều khiển là khâu khuếch đại (P) với Gc = Kc.

[Sơ đồ khối hệ thống]
- Ysp → [Bộ so sánh] → E → [Kc] → U → [k/(τs+1)] → Y
- Y → [Phản hồi âm về bộ so sánh]

Hàm truyền hệ kín theo kênh chủ đạo:

            GY-Ysp = Y/Ysp = (Kc·k/(τs+1))/(1 + Kc·k/(τs+1)) = Kck/(τs + 1 + Kck)

            GY-Ysp = KM/(Ts + 1)

Trong đó: KM = Kck/(1 + Kck) và T = τ/(1 + Kck)

Với tín hiệu vào là hàm nấc đơn vị Ysp = 1/s, đáp ứng đầu ra trong miền Laplace:

            Y(s) = GY-Ysp · Ysp = KM/((Ts + 1)s)

Biến đổi Laplace ngược, ta có đáp ứng trong miền thời gian:

            y(t) = KM(1 - e^(-t/T))

================================================================================
Page 107 of 165 - COMPLETED
================================================================================

Nhận xét đáp ứng quá độ hệ quán tính bậc nhất:

❖ Giá trị xác lập của hệ quán tính bậc nhất là KM, điều này cũng có thể tính được dựa theo định lý giá trị cuối:

            y∞ = y(t→∞) = lim[s→0]{s · KM/(s(Ts+1))} = KM

❖ Hằng số thời gian T: là thời gian để hệ đạt 63% giá trị xác lập, hay ta có biểu thức:

            y(t=T) = 0,63y∞ = 0,63KM

❖ Hệ có hằng số thời gian càng lớn thì thời gian điều chỉnh càng chậm. Trong thực hành có thể coi thời gian điều chỉnh txl = 5T, tức là khi hệ đạt 99% giá trị xác lập.

❖ Đáp ứng quá độ của hệ quán tính bậc nhất không có vọt lố.

VÍ DỤ 5.2: Hệ thống điều khiển mức sử dụng bộ điều khiển tỷ lệ P

Sơ đồ khối điều khiển hệ thống điều khiển mức được thể hiện trong Hình 5.11. Cảm biến và bộ truyền tín hiệu mức (LT) có hàm truyền Gm=1/1. Van điều khiển có hàm truyền là Gv=1/1. Bộ điều khiển phản hồi (LC) là bộ điều khiển PID, có hàm truyền Gc. Giả sử τ = AR = 5 phút, k = R = 6 phút/m², hàm truyền của quá trình khi đó là:

- Theo kênh chủ đạo: Gp = ΔH/ΔF₂ = 6/(5s+1), với k = 6 và τ = 5 phút

- Theo kênh nhiễu: Gz = ΔH/ΔF₁ = 6/(5s+1), với k = 6 và τ = 5 phút

Sơ đồ khối của hệ thống điều khiển bình chứa được biểu diễn:

[Hình 5.13 Lưu đồ và sơ đồ khối điều khiển bình chứa lỏng]
- Lưu đồ P&ID: Bình chứa với cảm biến mức LT-01, bộ điều khiển LC-01, van điều khiển
- Dòng vào F₁ (nhiễu), dòng điều khiển F₂, chiều cao mức h, tiết diện A
- Sơ đồ khối tương đương:
  + Z → [k/(τs+1)] ─────────────────────┐
  + Ysp → [Bộ so sánh] → E → [Gc] → U → [k/(τs+1)] →[+]→ Y
  + Y → [Phản hồi về bộ so sánh]

================================================================================
Page 108 of 165 - COMPLETED
================================================================================

Với hệ thống điều khiển này, ta cần phải tìm hàm truyền Gc của bộ điều khiển để đáp ứng đầu ra là biến cần điều khiển thỏa mãn yêu cầu chất lượng mong muốn.

Khi sử dụng bộ điều khiển tỷ lệ P, tín hiệu đầu ra của bộ điều khiển tỷ lệ với sai lệch điều khiển tại thời điểm hiện tại theo biểu thức:

            u(t) = ū + kp·e(t) = ū + kp·(ysp - y)

    u(t) là đầu ra của thành phần tỷ lệ;
    ū là độ dịch, là giá trị được chỉnh định thủ công sao cho u(t) = ū khi e=0;
    e(t) là đầu vào và cũng là sai lệch điều khiển tại thời điểm hiện tại;
    kp = kc gọi là hệ số khuếch đại tỷ lệ;
    ysp, y là giá trị đặt và giá trị tức thời đo được của biến cần điều khiển.
    Để thuận tiện việc ký hiệu có thể đặt kp = kc

Để có hàm truyền của bộ điều khiển, ta biến đổi Laplace hai vế của phương trình trên:

            U(s) = kc·E(s)

Từ đó ta có hàm truyền của bộ điều khiển tỷ lệ P là:

            Gc = U(s)/E(s) = kc

Sơ đồ khối điều khiển với bộ điều khiển tỷ lệ P sẽ là:

[Hình 5.14 Sơ đồ khối điều khiển phản hồi với bộ điều khiển tỷ lệ]
- Z → [k/(τs+1)] ─────────────────────┐
- Ysp → [Bộ so sánh] → E → [kc] → U → [k/(τs+1)] →[+]→ Y
- Y → [Phản hồi về bộ so sánh]

Đến đây ta tiến hành khảo sát đáp ứng quá độ của hệ khi có tác động thay đổi các biến đầu vào Ysp và Z:

================================================================================
Page 109 of 165 - COMPLETED
================================================================================

================================================================================
Page 110 of 165 - COMPLETED
================================================================================

Trường hợp 1: Đáp ứng quá độ bộ điều khiển P với thay đổi giá trị đặt

Hàm truyền theo kênh chủ đạo Y-Ysp của hệ thống khi đó là:

            G_{Y-Ysp} = Y/Y_sp = (G_c·G_P)/(1 + G_c·G_P) = (k_c · k/(τs+1))/(1 + k_c · k/(τs+1)) = (k_c·k)/(τs + k_c·k + 1)

            G_{Y-Ysp} = (k_c·k/(k_c·k+1)) / ((τ/(k_c·k+1))·s + 1)

Đặt    K = (k_c·k)/(k_c·k + 1)  hệ số khuếch đại của hệ kín.

       T = τ/(k_c·k + 1)  hằng số thời gian của hệ kín.

Hàm truyền của hệ trở thành dạng quán tính bậc nhất: G_{Y-Ysp} = K/(Ts + 1)

Nếu giá trị đặt thay đổi theo hàm nấc: y_sp = { M  khi t ≥ 0
                                                { 0  khi t < 0  , hay trong miền Laplace

ta có Y_sp = M/s, hệ sẽ đạt giá trị xác lập y_xl = y_∞ = KM

Sai lệch điều khiển được tính là:

            e_xl = y_sp - y_xl = M - KM = M(1 - K) = M(1 - k_c·k/(k_c·k+1)) = M/(k_c·k + 1) ≠ 0

Từ đó ta có nhận xét khi sử dụng bộ điều khiển P:

⇒ Hệ tồn tại sai lệch tĩnh, e_xl = y_sp - y ≠ 0.
⇒ Hệ số khuếch đại của bộ điều khiển k_c càng lớn, sai lệch tĩnh càng nhỏ.

================================================================================
Page 111 of 165 - COMPLETED
================================================================================

Sau đây ta xét các trường hợp với các giá trị k_c khác nhau để minh họa:

        k_c         T           K
        1          0,71        0,857
        4          0,20        0,960
        8          0,10        0,980

Sơ đồ mô phỏng trên máy tính:

[Hình 5.15 Sơ đồ khối mô phỏng]
- Sơ đồ Simulink với:
  + Giá trị đặt hsp = 1
  + Khối kc1 (hệ số khuếch đại = 8)
  + Khối Gp = 6/(5s+1) (hàm truyền quá trình)
  + Khối Gz = 6/(5s+1) (hàm truyền nhiễu)
  + Tín hiệu Z (nhiễu)
  + Đầu ra h (mức chất lỏng)
  + Nhánh "Không điều khiển" với khối 6/(5s+1)

[Hình 5.16 Đồ thị đáp ứng bộ điều khiển tỷ lệ P với sự thay đổi giá trị đặt]
- Đồ thị thể hiện đáp ứng với các giá trị k_c khác nhau:
  + Đường "Không điều khiển" - đáp ứng chậm nhất, đạt giá trị cao nhất
  + Đường "Điều khiển kc = 1" - đáp ứng nhanh hơn
  + Đường "Điều khiển kc = 4" - đáp ứng nhanh hơn nữa
  + Đường "Điều khiển kc = 8" - đáp ứng nhanh nhất, gần với giá trị đặt nhất
  + Đường nét đứt "Giá trị đặt hsp = 1"
- Trục hoành: thời gian (0 đến 2)
- Trục tung: giá trị đầu ra (0 đến 2)
- Nhận xét: k_c càng lớn, đáp ứng càng nhanh và sai lệch tĩnh càng nhỏ

================================================================================
Page 112 of 165 - COMPLETED
================================================================================

Trường hợp 2: Đáp ứng quá độ bộ điều khiển tỷ lệ P với thay đổi của nhiễu

Hàm truyền theo kênh nhiễu Y-Z của hệ thống khi đó là:

            G_{Y-Z} = Y/Z = G_z/(1 + G_c·G_P) = (k/(τs+1))/(1 + k_c·k/(τs+1)) = k/(τs + k_c·k + 1)

            G_{Y-Z} = (k/(k_c·k+1)) / ((τ/(k_c·k+1))·s + 1)

Với    K = k/(k_c·k + 1)  hệ số khuếch đại của hệ kín.

       T = τ/(k_c·k + 1)  hằng số thời gian của hệ kín.

Hệ hàm truyền mô tả hệ theo kênh nhiễu có dạng quán tính bậc nhất: G_{Y-Z} = K/(Ts + 1)

Do ta xét ảnh hưởng của nhiễu nên không có sự thay đổi của giá trị đặt.

Nhiễu tác động vào hệ theo hàm nấc: z(t) = { M  khi t ≥ 0
                                           { 0  khi t < 0  , hay trong miền Laplace

ta có Z = M/s.

Do hệ có dạng quán tính bậc nhất nên giá trị xác lập y_xl = y_∞ = KM

Sai lệch điều khiển trong trường hợp này được tính là:

            e_xl = 0 - y_xl = 0 - KM = -k/(k_c·k + 1)·M ≠ 0

Cũng như trường hợp 1, ta có nhận xét đáp ứng bộ điều khiển P với thay đổi nhiễu:

⇒ Hệ luôn tồn tại sai lệch tĩnh, e_xl = y_sp - y ≠ 0.
⇒ Hệ số khuếch đại của bộ điều khiển k_c càng lớn, sai lệch tĩnh càng nhỏ.

================================================================================
Page 113 of 165 - COMPLETED
================================================================================

Sau đây ta xét các trường hợp với các giá trị k_c khác nhau để minh họa:

        k_c         e_xl
        1          -0,86
        4          -0,24
        8          -0,12

Sơ đồ mô phỏng trên máy tính:

[Sơ đồ Simulink]
- Giá trị đặt = 0 (không thay đổi)
- Khối kc1 (hệ số khuếch đại = 8)
- Khối Gp = 6/(5s+1)
- Khối Gz = 6/(5s+1)
- Tín hiệu nhiễu Z = 1/s (hàm nấc đơn vị)
- Đầu ra h

[Hình 5.17 Đáp ứng quá độ bộ điều khiển P với sự thay đổi của nhiễu]
- Đồ thị thể hiện đáp ứng với các giá trị k_c khác nhau:
  + Đường "Hở ổn định" - đáp ứng cao nhất (không có điều khiển)
  + Đường "Điều khiển kc = 1" - sai lệch lớn nhất
  + Đường "Điều khiển kc = 4" - sai lệch trung bình
  + Đường "Điều khiển kc = 8" - sai lệch nhỏ nhất
  + Đường "Giá trị đặt" = 0
- Trục hoành: thời gian (0 đến 2)
- Trục tung: giá trị đầu ra (0 đến 1)

Nhận xét với bộ điều khiển P: trong cả hai trường hợp bộ điều khiển P không đảm bảo sai lệch điều khiển tiến tới không. Tăng hệ số khuếch đại tỷ lệ k_p sẽ làm giảm sai lệch và tăng tốc độ đáp ứng, nhưng cũng có thể là cho hệ mất ổn định.

================================================================================
Page 114 of 165 - COMPLETED
================================================================================

5.2.3.2 Khảo sát đáp ứng hệ bậc hai

[Sơ đồ khối]
- Đầu vào: x(t) - hàm nấc biên độ M
- X(s) = M/s trong miền Laplace
- Khối: "Hệ thống điều khiển bậc 2"
- Đầu ra: Y(s) = G·X
- y(t) - đáp ứng cần xác định (?)

Xác định hàm truyền của hệ dao động bậc hai: G(s) = K/(T²s² + 2ζTs + 1)

Tác động đầu vào là hàm nấc biên độ lớn M, trong miền Laplace ta có X(s) = M/s

Xác định đầu ra: Y = G·X = M/s · K/(T²s² + 2ζTs + 1)

Suy ra đáp ứng của hệ là: y(t) = KM{1 - (e^(-ζt/T))/√(1-ζ²) · sin[(√(1-ζ²)/T)·t + β]}

Trong đó độ lệch pha β được xác định bởi: cos β = ζ

Đồ thị trên Hình 5.18 thể hiện đáp ứng quá độ của hệ bậc hai, tùy thuộc vào giá trị của hệ số dao động zeta (ζ):

[Hình 5.18 Đáp ứng quá độ hệ bậc hai với các hệ số dao động khác nhau]
- Đồ thị với các giá trị ζ khác nhau:
  + Zeta = -0.2: dao động phân kỳ (không ổn định), biên độ tăng dần
  + Zeta = 0: dao động điều hòa, biên độ không đổi
  + Zeta = 0.2: dao động tắt dần nhanh, có vọt lố lớn
  + Zeta = 0.4: dao động tắt dần, vọt lố trung bình
  + Zeta = 1: tới hạn, không dao động
  + Zeta = 1.6: quá tắt dần, đáp ứng chậm
  + Hàm nấc: đường tham chiếu
- Trục hoành: thời gian (0 đến 30)
- Trục tung: giá trị đầu ra (-1 đến 4)

================================================================================
Page 115 of 165 - COMPLETED
================================================================================

Nhận xét đáp ứng quá độ hệ bậc hai:

❖ Nếu ζ = 0: đáp ứng quá độ là dao động với biên độ không đổi, hay còn gọi là dao động điều hòa.

❖ Nếu 0 < ζ < 1: đa thức ở mẫu số hàm truyền có cặp cực phức là nghiệm ảo của phương trình đặc trưng s_{1,2} = (-ζ ± j√(1-ζ²))/T và có phần thực âm. Đáp ứng quá độ là dao động với biên độ giảm dần, ζ càng lớn dao động suy giảm càng nhanh.
Trong cả hai trường hợp này ta gọi là hệ dao động bậc hai. Hệ dao động bậc hai luôn có vọt lố.

❖ Nếu ζ ≥ 1 phương trình đặc trưng có 2 nghiệm thực đều âm hoặc nghiệm thực kép âm:

            s_{1,2} = (-2ζT ± √((2ζT)² - 4T²))/(2T²) = (-ζ ± √(ζ² - 1))/T < 0

Khi đó hàm truyền của hệ có thể biến đổi về dạng:

            G(s) = K/(T²s² + 2ζTs + 1) ⟺ K/((s - s₁)(s - s₂)) = K₁/(τ₁s + 1) · K₂/(τ₂s + 1)

Biểu thức này cũng được coi là hàm truyền tương đương của 2 hệ quán tính bậc nhất mắc nối tiếp nhau hay còn gọi là hệ quán tính bậc hai:

[Sơ đồ khối]
R(s) → [K₁/(τ₁s + 1)] → Y₁(s) → [K₂/(τ₂s + 1)] → Y(s)

Đồ thị Hình 5.19 thể hiện trong trường hợp ζ ≥ 1, ζ càng lớn thì hệ đáp ứng càng chậm (thời gian quá độ càng lớn):

[Hình 5.19 Đáp ứng của hệ trường hợp ζ ≥ 1]
- Đồ thị với các giá trị:
  + Zeta = 1: đáp ứng nhanh nhất trong nhóm
  + Zeta = 1.5: đáp ứng chậm hơn
  + Zeta = 2: đáp ứng chậm nhất
- Tất cả đều không có vọt lố
- Trục hoành: thời gian
- Trục tung: giá trị đầu ra (0 đến 1)

================================================================================
Page 116 of 165 - COMPLETED
================================================================================

VÍ DỤ 5.3: Hệ thống điều khiển mức sử dụng bộ điều khiển tỷ lệ PI

Trở lại ví dụ điều khiển mức chất lỏng sử dụng bộ điều khiển tỷ lệ- tích phân, PI

Bộ điều khiển PI được mô tả bởi biểu thức sau:

            u_PI(t) = ū + k_p·e(t) + k_I·∫₀ᵗ e(t)dt

Biến đổi Laplace ta được hàm truyền của bộ điều khiển PI:

            G_c = G_PI(s) = U(s)/E(s) = k_p + k_I/s

Hay ở dạng chuẩn:        G_c = k_c(1 + 1/(τ_I·s))

Trong đó: τ_I là thời gian tích phân
          k_c là hệ số khuếch đại của bộ điều khiển, k_c = k_p.
          k_I là hệ số khuếch đại tích phân, k_I = k_c/τ_I

Sơ đồ khối điều khiển với bộ điều khiển tỷ lệ PI sẽ là:

[Hình 5.20 Sơ đồ khối điều khiển sử dụng bộ điều khiển PI]
- Sơ đồ khối:
  + Y_sp → [Bộ so sánh] → E → [k_c(1 + 1/(τ_I·s))] → U → [k/(τs+1)] → [+] → Y
  + Z → [k/(τs+1)] → [+] (cộng vào đầu ra)
  + Y → [Phản hồi về bộ so sánh]

Cũng như trong ví dụ 5.2, ta cũng tiến hành khảo sát đáp ứng quá độ của hệ khi có tác động thay đổi của các biến đầu vào Y_sp và Z:

================================================================================
Page 117 of 165 - COMPLETED
================================================================================

Trường hợp 1: Đáp ứng quá độ bộ điều khiển tỷ lệ PI với thay đổi giá trị đặt

Hàm truyền theo kênh chủ đạo Y-Y_sp của hệ thống khi đó là:

            G_{Y-Ysp} = Y/Y_sp = (G_c·G_P)/(1 + G_c·G_P) = (k_c(1 + 1/(τ_I·s))·k/(τs+1))/(1 + k_c(1 + 1/(τ_I·s))·k/(τs+1)) = (k_c·k(τ_I·s + 1))/(τ_I·τs² + τ_I·s + k_c·k·τ_I·s + k_c·k)

            G_{Y-Ysp} = (τ_I·s + 1)/((τ_I·τ/(k_c·k))·s² + (τ_I/(k_c·k) + τ_I)·s + 1)

Hoặc chuyển về dạng bậc hai chuẩn:

            G_{Y-Ysp} = (τ_I·s + 1)/(T²s² + 2ζTs + 1)

Với T² = (τ_I·τ)/(k_c·k) và 2ζT = (τ_I/(k_c·k) + τ_I)

Nếu đưa vào hệ thống giá trị đặt theo hàm nấc Y_sp = M/s thì đáp ứng đầu ra là:

            Y = M/s · (τ_I·s + 1)/(T²s² + 2ζTs + 1)

Sai lệch điều khiển được tính theo định lý giá trị cuối là:

            e_xl = y_sp - y_xl = M - lim[t→∞] y(t)

            ⇒ e_xl = M - lim[s→0](s·Y) = M - lim[s→0](s · M/s · (τ_I·s + 1)/(T²s² + 2ζTs + 1)) = M - M = 0

            ⇒ e_xl = 0

Ta có nhận xét khi thêm thành phần I vào bộ điều khiển, sai số xác lập được triệt tiêu.

Sau đây ta xét sự ảnh hưởng của k_c với cùng một giá trị τ_I = 2 phút:

        k_c         τ_I         e_xl
        1           2           0
        4           2           0
        8           2           0

================================================================================
Page 118 of 165 - COMPLETED
================================================================================

Sơ đồ mô phỏng trên máy tính:

[Hình 5.21 Sơ đồ mô phỏng bộ điều khiển PI]
- Sơ đồ Simulink với:
  + Giá trị đặt hsp
  + Bộ điều khiển PI gồm:
    * Khối kc (hệ số khuếch đại = 2)
    * Khối Tích phân 1/s
    * Khối 1/τi (= 1/2)
  + Khối G_P = 6/(5s+1) (hàm truyền quá trình)
  + Khối Gz = 6/(5s+1) (hàm truyền nhiễu)
  + Tín hiệu Nhiễu Z
  + Đầu ra x1

[Hình 5.22 Đáp ứng quá độ với bộ điều khiển PI]
- Đồ thị thể hiện đáp ứng với các giá trị k_c khác nhau (τ_I = 2 cố định):
  + kc = 1, ti = 2: đáp ứng chậm nhất, không vọt lố
  + kc = 2, ti = 2: đáp ứng nhanh hơn, vọt lố nhỏ
  + kc = 5, ti = 2: đáp ứng nhanh, vọt lố trung bình
  + kc = 20, ti = 2: đáp ứng nhanh nhất, vọt lố lớn nhất
  + Giá trị đặt hsp = 1
- Trục hoành: thời gian (0 đến 15)
- Trục tung: giá trị đầu ra (0 đến 1.7)
- Tất cả đều đạt giá trị xác lập bằng giá trị đặt (sai lệch tĩnh = 0)

[Hình 5.23 Đáp ứng quá độ với bộ điều khiển PI]
- Đồ thị thể hiện đáp ứng với các giá trị τ_I khác nhau (k_c = 2 cố định):
  + kc = 2, ti = 1: vọt lố lớn nhất, dao động nhiều
  + kc = 2, ti = 2: vọt lố trung bình
  + kc = 2, ti = 5: vọt lố nhỏ, đáp ứng chậm hơn
  + kc = 2, ti = 10: gần như không vọt lố, đáp ứng chậm nhất
  + Giá trị đặt hsp = 1
- Trục hoành: thời gian (0 đến 30)
- Trục tung: giá trị đầu ra (0 đến 1.7)
- Tất cả đều đạt giá trị xác lập bằng giá trị đặt

================================================================================
Page 119 of 165 - COMPLETED
================================================================================

Trường hợp 2: Đáp ứng quá độ bộ điều khiển tỷ lệ PI với thay đổi của nhiễu

Hàm truyền theo kênh nhiễu Y-Z của hệ thống khi đó là:

            G_{Y-Z} = Y/Z = G_z/(1 + G_c·G_P)

            = (k/(τs+1)) / (1 + k_c(1 + 1/(τ_I·s))·k/(τs+1))

            = (k·τ_I·s) / (τ_I·τs² + τ_I·s + k_c·k·τ_I·s + k_c·k)

Hoặc chuyển về dạng bậc hai chuẩn:

            G_{Y-Z} = (τ_I/k_c)·s / (T²s² + 2ζTs + 1)

Đáp ứng quá độ khi có sự thay đổi của nhiễu Z = M/s là:

            Y = Z·G_{Y-Z}

            = M/s · (τ_I/k_c)·s / (T²s² + 2ζTs + 1)

            = M·(τ_I/k_c) / (T²s² + 2ζTs + 1)

Do ta xét ảnh hưởng của nhiễu nên không có sự thay đổi của giá trị đặt. Sai lệch điều khiển trong trường hợp này được tính là:

            e_xl = 0 - y_xl = 0 - lim[t→∞] y(t) = 0 - lim[s→0](s·Y)

            e_xl = 0 - lim[s→0](s · M·τ_I/k_c / (T²s² + 2ζTs + 1)) = 0 - 0

            e_xl = 0

Mô phỏng trên Simulink với các trường hợp khác nhau của thông số bộ điều khiển. Kết quả cho ta thấy như trên các Hình 5.24 và Hình 5.25

================================================================================
Page 120 of 165 - COMPLETED
================================================================================

[Hình 5.24 Đáp ứng với thay đổi nhiễu với bộ điều khiển PI]
- Đồ thị thể hiện đáp ứng với các giá trị τ_I khác nhau (k_c = 2 cố định):
  + kc = 2, ti = 1: đỉnh cao nhất (~0.42), triệt tiêu nhanh nhất
  + kc = 2, ti = 2: đỉnh trung bình (~0.32)
  + kc = 2, ti = 5: đỉnh thấp hơn (~0.22), triệt tiêu chậm hơn
  + kc = 2, ti = 10: đỉnh thấp nhất (~0.12), triệt tiêu chậm nhất
  + Giá trị đặt hsp = 0
- Trục hoành: thời gian (0 đến 50)
- Trục tung: giá trị đầu ra (0 đến 0.45)
- Tất cả đều tiến về 0 (sai lệch tĩnh = 0)

[Hình 5.25 Đáp ứng với thay đổi nhiễu với bộ điều khiển PI]
- Đồ thị thể hiện đáp ứng với các giá trị k_c khác nhau (τ_I = 2 cố định):
  + ti = 2, kc = 1: đỉnh cao nhất (~0.6), triệt tiêu chậm nhất
  + ti = 2, kc = 2: đỉnh trung bình (~0.4)
  + ti = 2, kc = 5: đỉnh thấp hơn (~0.25)
  + ti = 2, kc = 10: đỉnh thấp nhất (~0.15), triệt tiêu nhanh nhất
  + Giá trị đặt hsp = 0
- Trục hoành: thời gian (0 đến 30)
- Trục tung: giá trị đầu ra (0 đến 0.7)
- Tất cả đều tiến về 0 (sai lệch tĩnh = 0)

Nhận xét khi sử dụng bộ điều khiển PI:

⇒ Thành phần tích phân I trong bộ điều khiển PI có khả năng triệt tiêu sai lệch tĩnh, đưa đại lượng cần điều khiển đến giá trị đặt.

⇒ Thời gian tích phân τ_I càng nhỏ hoặc k_c càng lớn thì sai lệch điều khiển càng nhanh chóng bị triệt tiêu. Nhưng đổi lại thì độ quá điều chỉnh càng lớn hoặc hệ có khả năng dao động mạnh hơn.

================================================================================
Page 121 of 165 - COMPLETED
================================================================================

5.3 TÍNH ỔN ĐỊNH CỦA HỆ THỐNG

Yêu cầu đầu tiên trong việc thiết kế bộ điều khiển phản hồi là nhằm ổn định hệ thống.

Ổn định là tính chất của hệ tự phục hồi trạng thái cân bằng cũ hoặc tiến dần đến trạng thái cân bằng mới sau khi bị tác động của nhiễu bên ngoài.

Hệ có quá trình quá độ tắt dần theo thời gian là hệ ổn định (Hình 5.26 a, b). Nếu sau khi bị nhiễu tác động mà hệ thống không thể lập lại cân bằng, mức độ mất cân bằng ngày càng lớn thì hệ thống như vậy gọi là hệ thống không ổn định. Hệ có quá trình quá độ tăng hoặc giảm dần theo thời gian là hệ không ổn định (Hình 5.26 d, e).

Nếu sau khi bị nhiễu tác động hệ thống không thể đạt tới trạng thái cân bằng, mà chuyển động trong một biên độ nhất định thì gọi là hệ thống nằm trên biên giới ổn định. Trường hợp này hệ có thể được coi là ổn định nếu biên độ dao động của đại lượng cần điều khiển nằm trong giới hạn kỹ thuật cho phép của quá trình sản xuất (Hình 5.26 c).

[Hình 5.26 Đồ thị một số dạng đáp ứng quá độ]
- Sơ đồ khối hệ thống (HT) với đầu vào hàm nấc
- (a) Quán tính tắt dần: đáp ứng tăng dần rồi ổn định tại giá trị xác lập - HỆ ỔN ĐỊNH
- (b) Dao động tắt dần: đáp ứng dao động với biên độ giảm dần - HỆ ỔN ĐỊNH
- (c) Dao động điều hòa: đáp ứng dao động với biên độ không đổi - BIÊN GIỚI ỔN ĐỊNH
- (d) Dao động tăng dần: đáp ứng dao động với biên độ tăng dần - HỆ KHÔNG ỔN ĐỊNH
- (e) Quán tính tăng dần: đáp ứng tăng liên tục không giới hạn - HỆ KHÔNG ỔN ĐỊNH

Hình 5.26 thể hiện một số dạng đồ thị đáp ứng hàm nấc của các hệ thống điều khiển khác nhau: (a) Quá trình quán tính tắt dần: đại lượng đầu ra y(t) tăng lệch khỏi giá trị ban đầu sau đó từ từ tiến tới trạng thái ổn định mới. (b) Quá trình dao động tắt dần: đại lượng y(t) tăng lên lệch khỏi giá trị ban đầu sau đó dao động với biên độ giảm dần và tiến đến

================================================================================
Page 122 of 165 - COMPLETED
================================================================================

một trạng thái ổn định mới. (c) Quá trình dao động điều hòa: đại lượng y(t) dao động với biên độ không thay đổi theo thời gian. (d) Quá trình dao động tăng dần: đại lượng y(t) tăng lên và dao động với biên độ tăng dần theo thời gian. (e) Quá trình quán tính tăng dần: đầu ra y(t) lệch khỏi giá trị ban đầu và độ lệch liên tục gia tăng.

Để xác định hệ thống có ổn định hay không, phải đánh giá chuyển động của nó sau khi bỏ nhiễu. Giả sử một hệ thống thường được mô tả bởi phương trình:

            G(s) = Y/X = (b₀sᵐ + b₁sᵐ⁻¹ + ... + bₘ)/(a₀sⁿ + a₁sⁿ⁻¹ + ... + aₙ) = B(s)/A(s)

Hay ta có: A(s)·Y = B(s)·X                                    (5.6)

Trong đó: B(s) = b₀sᵐ + b₁sᵐ⁻¹ + ... + bₘ và A(s) = a₀sⁿ + a₁sⁿ⁻¹ + ... + aₙ

Sự thay đổi đại lượng cần điều chỉnh y(t) khi có tác động của x(t) được biểu thị bằng nghiệm của phương trình (6) và nghiệm này bao gồm hai thành phần, có dạng:

            y(t) = y_td(t) + y_cb(t)

Trong đó: y_cb(t) - là phần chuyển động cưỡng bức phụ thuộc vào tính chất của hệ và kiểu tác động đầu vào. Phần chuyển động cưỡng bức được quyết định bởi vế phải của phương trình (5.6), nó chính là nghiệm riêng của phương trình vi phân mô tả hệ.

y_td(t) - là thành phần chuyển động tự do, phần chuyển động tự do được xác định bởi tính chất của hệ và trạng thái ban đầu, đặc trưng cho quá trình xác lập và đây chính là nghiệm tổng quát của phương trình thuần nhất vế phải.

            (a₀sⁿ + a₁sⁿ⁻¹ + ... + aₙ)Y = 0                    (5.7)

Phương trình (5.7) là phương trình chuyển động tự do của hệ thống. Giải ra ta tìm được y(t) và từ đó ta đánh giá được sự ổn định của hệ thống.

Ta thường tìm được nghiệm của phương trình (5.7) trên dưới dạng hàm mũ:

            y(t) = C₁e^(s₁t) + ... + Cₙe^(sₙt)                 (5.8)

Trong đó s₁...sₙ - là nghiệm của phương trình đặc tính (5.9):

            a₀sⁿ + a₁sⁿ⁻¹ + ... + aₙ = 0                       (5.9)

================================================================================
Page 123 of 165 - COMPLETED
================================================================================

Khảo sát một số dạng nghiệm của phương trình đặc tính

(1) Các nghiệm của phương trình đặc tính đều là số thực và không bằng nhau

Nếu tất cả các nghiệm thực này là âm:
⇒ ta tìm lim[t→∞] y(t) = lim[t→∞] Σ(k=1 to n) Cₖe^(sₖt) = 0 ⇒ hệ thống ổn định

Nếu một hoặc nhiều nghiệm thực này là dương:
⇒ ta tìm lim[t→∞] y(t) = lim[t→∞] Σ(k=1 to n) Cₖe^(sₖt) = ∞ ⇒ hệ thống không ổn định

(2) Phương trình đặc tính có 1 cặp là số phức, còn lại là số thực âm

            { sₖ = α + jβ
            { sₖ₊₁ = α - jβ

Nghiệm y(t) sẽ có dạng: y(t) = ...e^(αt)·D·sin(βt + θ)...

Nên khi α > 0:    t → ∞ ⇒ lim[t→∞] y(t) = ∞ ⇒ hệ thống không ổn định

        α < 0:    t → ∞ ⇒ lim[t→∞] y(t) = 0 ⇒ hệ thống ổn định

(3) Phương trình đặc tính có 1 cặp nghiệm là số ảo, còn lại là thực âm

            { sₖ = iβ
            { sₖ₊₁ = -iβ

Nghiệm y(t) sẽ có dạng: y(t) = D·sin(βt + θ) + ...
⇒ hệ thống dao động điều hoà (nằm ở biên giới ổn định)

(4) Có một nghiệm bằng không, còn lại là nghiệm thực âm

sₖ = 0        t → ∞ ⇒ lim[t→∞] y(t) = Cₖ ⇒ hệ thống ổn định

(5) Có một số nghiệm trùng nhau, còn lại là nghiệm thực âm

Giả sử có nghiệm trùng nhau thì:
y(t) = (C₁ + C₂t + ...Cₖt^(k-1))e^(s₁t) + Cₖ₊₁e^(s₂t)...

Nên khi s₁ < 0:    t → ∞ ⇒ lim[t→∞] y(t) = 0 ⇒ hệ thống ổn định

        s₁ ≥ 0:    t → ∞ ⇒ lim[t→∞] y(t) = ∞ ⇒ hệ thống không ổn định

================================================================================
Page 124 of 165 - COMPLETED
================================================================================

Để đánh giá tính ổn định của hệ thống điều khiển, ta có thể sử dụng một số tiêu chuẩn ổn định sau đây:
- Tiêu chuẩn nghiệm số
- Tiêu chuẩn Routh

(1) Tiêu chuẩn nghiệm số: xác định sự ổn định của hệ thống theo dạng hàm truyền. Đặc tính động của một hệ thống được mô tả thông qua đa thức đặc tính A(s) là mẫu số của hàm truyền. Bằng cách so sánh mẫu số với số không, ta có thể có được một phương trình đặc tính A(s) = 0, dựa vào nghiệm của phương trình đặc tính chúng ta xác định sự ổn định của hệ thống.

Nghiệm của phương trình đặc tính có thể gồm 2 loại là nghiệm thực {s₁, s₂, s₃} hoặc nghiệm phức {s₄,s₅ ≡ (α ± jβ)}, và để xác định tính ổn định chúng được vẽ trên mặt phẳng phức.

[Hình 5.27 Phân bố nghiệm trên mặt phẳng phức]

Hình minh họa cho thấy:
- Bên trái mặt phẳng phức: Ổn định (các nghiệm có phần thực âm, s₁ < 0)
- Bên phải mặt phẳng phức: Không ổn định (các nghiệm có phần thực dương, s₁ > 0)

Các nghiệm được biểu diễn dưới dạng:
- Nghiệm thực: s₁, s₂ nằm trên trục thực
- Nghiệm phức liên hợp: s₄ = (-α₄, β₄), s₅ = (-α₅, β₅), etc.


================================================================================
Page 125 of 165 - COMPLETED
================================================================================

Phân tích các nghiệm của phương trình đặc tính cho ta kết quả:

⇒ Nếu các nghiệm đều nằm bên trái mặt phẳng phức (nghĩa là tất cả các nghiệm của phương trình đặc trưng đều có phần thực âm: Re{pᵢ}<0, α<0, hoặc có nghiệm thực âm thì quá trình quá độ sẽ giảm dần theo thời gian, nghĩa là hệ thống ổn định.

⇒ Hệ thống sẽ ở biên giới ổn định nếu phương trình đặc tính có ít nhất một nghiệm có phần thực âm còn lại tất cả các nghiệm khác là nghiệm thực âm hoặc nghiệm phức có phần thực âm (có ít nhất một nghiệm nằm trên trục ảo còn các nghiệm còn lại nằm ở nửa trái mặt phẳng phức).

⇒ Hệ thống sẽ không ổn định nếu phương trình đặc tính có ít nhất một nghiệm có phần thực dương (có ít nhất một nghiệm nằm ở nửa phải mặt phẳng phức).

VÍ DỤ 5.4: Hàm truyền của một hệ thống điều khiển có dạng:

            G_sum(s) = (3s + 4) / (s³ + 2s² + 2,25s + 1,25)

- Nghiệm của phương trình đặc tính: s₁ = -1; s₂ = -0,5 + j; s₃ = -0,5 - j
- Các nghiệm có phần thực đều âm, nên hệ thống ổn định.

Đối với hệ thống có trễ, khi áp dụng tiêu chuẩn nghiệm số ta xấp xỉ thành phần trễ theo quy tắc Taylor: e^(-θs) = 1/e^(θs) ≈ 1/(1 + θs)

(2) Tiêu chuẩn ổn định Routh

Điều kiện cần để hệ thống ổn định: tất cả các hệ số của phương trình đặc tính phải khác 0 và cùng dấu.

VÍ DỤ 5.5: hệ thống có phương trình đặc tính:

s³ + 2s² - 2,5s + 1 = 0    Ta có thể kết luận ngay là hệ không ổn định

s⁴ + 2s² + 5s + 2 = 0      Ta có thể kết luận ngay là hệ không ổn định

s³ + 2s² + 2,5s + 1 = 0    Chưa kết luận được, nên ta dùng đến tiêu chuẩn Routh.

Phát biểu tiêu chuẩn Routh: "Điều kiện cần và đủ để cho hệ thống tuyến tính ổn định là tất cả các số hạng trong cột thứ nhất của bảng Routh dương".

Cách thành lập bảng Routh:

Giả sử cho phương trình đặc tính:


================================================================================
Page 126 of 165 - COMPLETED
================================================================================

            a₀sⁿ + a₁sⁿ⁻¹ + a₂sⁿ⁻² + a₃sⁿ⁻³ + … + aₙ₋₁s + aₙ = 0

Bảng Routh có n+1 hàng, được sắp xếp như sau:

| sⁿ   | a₀                          | a₂                          | a₄    | a₆...  |
| sⁿ⁻¹ | a₁                          | a₃                          | a₅    | a₇...  |
| sⁿ⁻² | b₀ = (a₁a₂ - a₀a₃)/a₁       | b₂ = (a₁a₄ - a₀a₅)/a₁       | b₄=...| b₆=... |
| sⁿ⁻³ | b₁ = (b₀a₃ - a₁b₂)/b₀       | b₃ = (b₀a₅ - a₁b₄)/b₀       | b₅=...| b₇=... |
| ..   | ……                          | …..                         | ….    | …..    |
| s⁰   | ……                          | …..                         | …..   | …..    |

Nhận xét: mỗi một số hạng trong một hàng của bảng Routh là một thương số có:
- Tử số: là một định thức hạng hai mang dấu âm với cột thứ nhất của nó cũng là cột thứ nhất của hai hàng đứng sát trên hàng có số hạng đang tính, còn cột thứ hai của định thức chính là cột đứng sát bên phải số hạng đang tính cùng của hai hàng trên.
- Mẫu số: trong tất cả các số hạng của một hàng có chung mẫu số chính là số hạng đứng ở cột thứ nhất và ở hàng sát ngay trên số hạng đang tính.

VÍ DỤ 5.6: Cho phương trình đặc tính (PTĐT) của hệ thống:

s⁴ + 2s³ + 8s² + 4s + 3 = 0

Lập bảng Routh:

| S⁴ | 1 | 8 | 3 |
| S³ | 2 | 4 | 0 |
| S² | 6 | 3 |   |
| S¹ | 3 | 0 |   |
| S⁰ | 3 |   |   |

⇒ Hệ thống ổn định vì tất cả các số hạng trong cột thứ nhất dương.

Một số tính chất của bảng Routh

- Khi lập bảng Routh, để giản đơn trong tính toán, có thể nhân hay chia các hệ số trong cột với cùng một đại lượng, kết quả vẫn không thay đổi.
- Trong trường hợp hệ không ổn định, bao nhiêu lần đổi dấu ở cột 1 thì có bấy nhiêu nghiệm ở nửa phải mặt phẳng phức.


================================================================================
Page 127 of 165 - COMPLETED
================================================================================

- Nếu trị số gần cuối ở cột một bằng 0 (C₁ₙ = 0) có nghĩa là nghiệm kép thuần ảo. Trị số cuối cùng sẽ không tính được vì rₙ₊₁ = ∞. Nếu trị số cuối cùng bằng 0 (C₁ₙ₊₁ = 0) thì phương trình đặc trưng có một nghiệm bằng 0 vì aₙ = 0.
- Nếu các hệ số của một hàng bằng 0, hệ có nghiệm phải hoặc cặp nghiệm nằm trên trục ảo.

Trong khi lập bảng Routh, hai trường hợp đặc biệt có thể xảy ra:
- Xuất hiện số 0 ở cột thứ nhất.
- Xuất hiện một hàng toàn số 0.

(a) Trường hợp thứ nhất: số 0 ở cột thứ nhất

Nếu có số 0 ở cột thứ nhất thì việc tạo ra hàng tiếp theo sẽ chia cho số 0. Để tránh trường hợp này ta gán một giá trị ε để thay thế số 0. Sau đó dùng ε để tính toán và xét dấu cho ε.

VÍ DỤ 5.7: Xác định tính ổn định của hàm truyền hệ kín sau:

            T(s) = 10 / (s⁵ + 2s⁴ + 3s³ + 6s² + 5s + 3)         (3.14)

Lập bảng Routh và xét dấu:
                                                    ε=+     ε=-
| s⁵ | 1                      | 3   | 5   |  +  |  +  |
| s⁴ | 2                      | 6   | 3   |  +  |  +  |
| s³ | 0 ≡ ε                  | 7/2 | 0   |  +  |  -  |
| s² | (6ε - 7)/ε             | 3   | 0   |  -  |  +  |
| s¹ | (-6ε² + 42s - 42ε)/(12ε - 14) | 0   | 0   |  +  |  +  |
| s⁰ | 3                      | 0   | 0   |  +  |  +  |

Nhìn bảng xét dấu cả trong hai trường hợp ε = ± thì ở cột thứ nhất đổi dấu hai lần có nghĩa là phương trình đặc tính có hai nghiệm nằm bên phải trục ảo. Do vậy hệ thống trên là không ổn định.


================================================================================
Page 128 of 165 - COMPLETED
================================================================================

(b) Có một hàng toàn số không

Khi gặp trường hợp này ta đầu tiên ta quay lại hàng phía trên hàng có toàn số 0 và thành lập một đa thức phụ mà sử dụng các giá trị của hàng đó làm hệ số. Đa thức bắt đầu với luỹ thừa của s ở cột kí hiệu s và bỏ biến tiếp theo và thực hiện hạ bậc đa thức phụ.

VÍ DỤ 5.8: Xác định nghiệm ở bên phải mặt phẳng phức của hệ kín sau:

            G_sum(s) = 10 / (s⁵ + 7s⁴ + 6s³ + 42s² + 8s + 56)

Lập bảng Routh:

| s⁵ | 1 | 6  | 8  |                                           |
| s⁴ | 7 | 42 | 56 | Chia hàng này cho 7                       |
| => | 1 | 6  | 8  | Thay cho hàng s⁴                          |
| s³ | 0 | 0  | 0  | Toàn số 0. Đa thức phụ: P(s) = s⁴ + 6s² + 8 |
| => | 4 | 12 | 0  | Thay bởi đa thức dP(s)/ds = 4s³ + 12s + 0 |
| => | 1 | 3  | 0  | Chia hàng s³ cho 4                        |
| s² | 3 | 8  | 0  |                                           |
| s¹ | 1/3 | 0 | 0 |                                           |
| s⁰ | 8 | 0  | 0  |                                           |

Sử dụng các hệ số trong đa thức phụ P(s) để thay thế hàng có toàn số 0. Sau khi thay và tính toán ta thấy cột đầu tiên các hệ số đều dương do vậy không có điểm cực nào nằm bên phải trục ảo. Hệ thống ổn định hay ở biên giới ổn định ta phải xét nghiệm của đa thức phụ P(S)=0 (do nghiệm của đa thức phụ cũng là nghiệm của PTĐT)

VÍ DỤ 5.9: Sử dụng tiêu chuẩn Routh để thiết kế sự ổn định cho hệ thống sau:

[Sơ đồ khối hệ thống]
R → (+) → E → [K/s(s+7)] → [1/(s+11)] → C
     ↑                                    |
     └────────────(-)─────────────────────┘

Tìm phạm vi của hệ số khuếch đại K để hệ thống ổn định, không ổn định, biên giới ổn định.


================================================================================
Page 129 of 165 - COMPLETED
================================================================================

Giải: Hàm truyền tương đương của hệ là G_sum(s) = K / (s³ + 18s² + 77s + K)

Lập bảng Routh:

| s³ | 1            | 77 |
| s² | 18           | K  |
| s¹ | (1386 - K)/18|    |
| s⁰ | K            |    |

Giả thiết K > 0. Các phần tử trong cột đầu tiên đều dương ngoại trừ ở hàng s¹. Giá trị có thể dương, âm hay bằng không tuỳ thuộc vào giá trị của K.

- Nếu K < 1386 thì tất cả các phần tử của cột đầu tiên đều dương, không có sự đổi dấu do vậy các điểm cực nằm bên trái trục ảo. Vậy hệ thống ổn định với K < 1386.

- Nếu K > 1386 thì phần tử ở hàng s¹ âm và trong cột đầu tiên có sự đổi dấu hai lần do vậy có hai nghiệm nằm bên phải trục ảo và một nghiệm nằm bên trái trục ảo. Điều này có nghĩa là hệ thống không ổn định khi K > 1386.

- Nếu K = 1386 thì sẽ xuất hiện số 0 ở hàng s¹ quay lại hàng s² và thay K = 1386.

Sau đó lập đa thức phụ: P(s) = 18s² + 1386. Lấy vi phân dP(s)/ds = 36s + 0

Thay các hệ số trong đa thức 5.20 vào bảng Routh:

| s³ | 1  | 77   |
| s² | 18 | 1386 |
| s¹ | 0 → 36 |   |
| s⁰ | 1386   |   |

Nhận xét:
- Các phần tử trong cột thứ nhất đều dương và không có sự đổi dấu.
- Đa thức có bậc chẵn (s²) có hai nghiệm nằm trên trục ảo và nghiệm còn lại nằm bên trái trục ảo. Do vậy hệ thống ở biên giới ổn định khi K = 1386.

Với hệ thống có trễ, khi áp dụng tiêu chuẩn Routh ta xấp xỉ thành phần trễ theo quy tắc 1/1 của Padé:

            e^(-θs) ≈ (1 - 0,5θs) / (1 + 0,5θs)


================================================================================
Page 130 of 165 - COMPLETED
================================================================================

────────────────────────────────────────────────────────────────────────────────

CHƯƠNG 6

THIẾT KẾ HỆ THỐNG ĐIỀU KHIỂN PHẢN HỒI

────────────────────────────────────────────────────────────────────────────────

6.1 Các bộ điều khiển phản hồi
    6.1.1 Bộ điều khiển ON-OFF
    6.1.2 Bộ điều khiển PID
    6.1.3 Một số chỉ dẫn lựa chọn bộ điều khiển

6.2 Phương pháp xác định thông số bộ điều khiển
    6.2.1 Phương pháp dựa trên mô hình
    6.2.1 Các phương pháp chỉnh định thông số bộ điều khiển
    6.2.3 Phần mềm hiệu chỉnh tham số PID


================================================================================
Page 131 of 165 - COMPLETED
================================================================================

6.1 CÁC BỘ ĐIỀU KHIỂN PHẢN HỒI

Chức năng của bộ điều khiển là đưa đại lượng cần điều khiển tới giá trị cài đặt mong muốn khi có tác động của nhiễu hay khi có sự thay đổi của giá trị cài đặt. Bộ điều khiển nhận thông tin đầu vào (tín hiệu đo được từ thiết bị đo, giá trị cài đặt) phân tích xử lý và đưa ra tác động điều khiển là tín hiệu ở đầu ra theo một quy luật điều khiển đã được cài đặt trước.

Dựa theo tác động điều chỉnh ở đầu ra, các bộ điều khiển có thể được chia thành các loại khác nhau, mỗi loại có ưu điểm và nhược điểm riêng và sẽ đáp ứng nhu cầu khác nhau của mỗi quá trình. Có hai loại bộ điều khiển được sử dụng trong sách lược điều khiển phản hồi là:

• Bộ điều khiển ON-OFF
• Bộ điều khiển liên tục PID

6.1.1. Bộ điều khiển ON-OFF:

Bộ điều khiển ON-OFF là bộ điều khiển chỉ cho tín hiệu ra ở hai chế độ (u_max và u_min) hoặc hai trạng thái (bật và tắt) tùy thuộc vào sai lệch điều khiển e mà nó nhận được. Quy luật điều khiển là thuật toán ON-OFF:

            u(t) = { u_max  khi e ≥ 0
                   { u_min  khi e < 0

[Hình 6.1 Thuật toán ON-OFF lý tưởng]
- Đồ thị thể hiện quan hệ u(t) theo e
- Khi e ≥ 0: u(t) = u_max
- Khi e < 0: u(t) = u_min

Loại bộ điều khiển này không thực sự giữ biến được điều khiển chính xác tại điểm đặt, mà biến được điều khiển luôn có một khoảng cách so với điểm đặt.


================================================================================
Page 132 of 165 - COMPLETED
================================================================================

VÍ DỤ 6.1: Điều khiển ON-OFF thiết bị sấy:

Bộ điều khiển ON-OFF được thiết kế với tham số ở đầu ra có hai giá trị u_max = 100% và u_min = 0 cho một quá trình gia nhiệt cho không khí trong một Calorife của một thiết bị sấy. Mối quan hệ giữa nhiệt độ không khí ra khỏi Calorife và công suất nhiệt của bộ gia nhiệt điện trở được mô tả bởi hàm truyền:

            G_p = 1/(20s + 1) · e^(-2s)

Yêu cầu giá trị nhiệt độ không khí ra khỏi Calorife duy trì ở giá trị đặt T_sp = 50°C.

[Hình 6.2 Điều khiển nhiệt độ vào buồng sấy]

GHI CHÚ:
1) Cửa khí vào
2) Quạt gió
3) Calorife điện
4) Motor
5) Đo nhiệt độ bầu khô
6) Đo nhiệt độ bầu ướt
7) Buồng sấy
8) Cân
9) Bảng điều khiển
10) Cửa quan sát
11) Cửa khí ra

Sơ đồ gồm: TT-55 (thiết bị đo nhiệt độ), TC-55 (bộ điều khiển nhiệt độ)

Đối với quá trình này, biến cần điều khiển là nhiệt độ không khí ra khỏi calorife để vào buồng sấy, biến điều khiển là công suất của điện trở gia nhiệt. Sách lược điều khiển được sử dụng là phản hồi: nhiệt độ được đo bởi thiết bị đo TT-55 đưa đến bộ điều khiển TC-55 là bộ điều khiển ON-OFF.

Nguyên lý hoạt động của bộ điều khiển hai vị trí này như sau: khi nhiệt độ không khí ra khỏi Calorife T rơi xuống dưới điểm đặt T_sp = 50°C, bộ điều khiển sẽ bật điện trở gia nhiệt. Khi nhiệt độ đạt đến điểm đặt, bộ điều khiển sẽ tắt điện trở gia nhiệt.


================================================================================
Page 133 of 165 - COMPLETED
================================================================================

[Hình 6.3 Sơ đồ khối mô phỏng ON-OFF lý tưởng]

Sơ đồ khối gồm:
- Setpoint = 50
- Switch (|>0): chuyển mạch
- U_max = 100, U_min = 0
- Hàm truyền: 1/(20s+1)
- Thời gian trễ: e^(-2s)
- Đầu ra: y, u

[Hình 6.4 Đáp ứng bộ điều khiển ON-OFF hai vị trí]

Đồ thị cho thấy:
- Tác động điều khiển u: dao động giữa 0 và 100
- Biến cần điều khiển y: dao động quanh điểm đặt SP = 50
- UCL = 53 (giới hạn trên)
- SP = 50 (điểm đặt)
- LCL = 47 (giới hạn dưới)

Đồ thị biến thiên nhiệt độ mô phỏng trên được giải thích như sau: khi biến cần điều khiển y nhỏ hơn y_sp thì bộ điều khiển đưa ra tác động ở đầu ra là giá trị cực đại u_max (hay ở vị trí ON). Khi y = y_sp thì bộ điều khiển chuyển sang tín hiệu u_min, nhưng do đối tượng có quán tính nên giá trị của y vẫn tăng thêm 1 đoạn trước khi giảm xuống bằng giá trị y_sp, tại đây bộ điều khiển lại chuyển sang tín hiệu u_max nhưng do quán tính thì y vẫn tiếp tục giảm vượt quá giá trị y_sp trước khi tăng trở lại. Cứ như vậy y sẽ dao động với tần số T' = T_mở + T_tắt, biên độ A nào đó.

Trong ví dụ này, nhiệt độ cài đặt là 50 °C, nhưng biên sự dao động của nhiệt độ nằm trong khoảng (47 - 53)°C và chu kỳ dao động T' = 4 + 4 = 8giây, nghĩa là thiết bị chấp hành là điện trở gia nhiệt liên tục được bật-tắt với chu kỳ 8 giây.


================================================================================
Page 134 of 165 - COMPLETED
================================================================================

Thuật toán ON-OFF thực tế

Nhược điểm của bộ điều khiển hai vị trí dạng lý tưởng là chất lượng điều khiển không cao, tín hiệu điều khiển thường xuyên thay đổi giữa hai giá trị dẫn tới giảm tuổi thọ thiết bị chấp hành. Để xử lý vấn đề này trong thực tế người ta đưa ra giải pháp đó là chấp nhận sai số điều khiển trong một giới hạn cho phép nào đó bằng cách sử dụng khoảng chết – kiểu tác động Rơle (Relay). Việc chuyển đổi giữa hai mức tín hiệu được thực hiện qua một giá trị dung sai ±δ theo quy luật điều khiển sau:

            u(t) = { u_max    khi e(t) > 0
                   { u(t)     khi -δ ≤ e ≤ +δ
                   { u_min    khi e(t) > 0

[Đồ thị thuật toán ON-OFF với khoảng chết]
- Trục hoành: e (sai lệch)
- Trục tung: u(t) (tín hiệu điều khiển)
- Khoảng chết: từ -δ đến +δ
- u_max khi e > +δ
- u_min khi e < -δ
- Giữ nguyên giá trị trong khoảng chết

Ví dụ sử dụng bộ điều khiển kiểu Rơle cho quá trình làm nóng không khí trong Calorife ở trên, khi sử dụng khoảng chết ±2. Nếu dải chết lớn thì bộ điều khiển ít chuyển mạch hơn, ngược lại nếu nhỏ thì liên tục chuyển mạch. Mô hình mô phỏng được thể hiện trên Hình 6.5

[Hình 6.5 Sơ đồ khối mô phỏng ON-OFF thực tế]

Sơ đồ khối gồm:
- SP = 50 (điểm đặt)
- Relay (khối rơle với khoảng chết)
- Hàm truyền: 1/(20s+1)
- T/g trễ (thời gian trễ)
- Đầu ra: y2


================================================================================
Page 135 of 165 - COMPLETED
================================================================================

[Hình 6.6 Đáp ứng điều khiển Rơle có sử dụng dải chết ±2]

Đồ thị cho thấy:
- Tác động điều khiển u: dao động giữa 0 và 100
- Biến cần điều khiển y: dao động quanh điểm đặt
- UCL = 55 (giới hạn trên)
- SP = 50 (điểm đặt)
- LCL = 45 (giới hạn dưới)
- Thời gian: 0 đến 60 giây

Quan sát trên đồ thị ta thấy chu kỳ dao động tăng lên thành T = 5,5 + 5,5 = 11s lớn hơn so với bộ điều khiển 2 vị trí lý tưởng, nghĩa là bộ phận chấp hành ít chuyển đổi giữa 2 vị trí nên tuổi thọ sẽ dài hơn. Tuy nhiên nhược điểm là nhiệt độ đầu ra của không khí dao động lớn hơn (45 - 55) °C.

Nhìn chung bộ điều khiển rời rạc được sử dụng phổ biến trong công nghệ hóa học do có ưu điểm là cấu trúc đơn giản, làm việc tin cậy, đơn giản trong hiệu chỉnh và bảo trì, chi phí thấp cho cả bộ điều khiển và thiết bị chấp hành. Nhưng nhược điểm là chất lượng không cao, do đó nếu bộ điều khiển vị trí hay Rơle có thể đảm bảo được chất lượng thì ưu tiên sử dụng nó.


================================================================================
Page 136 of 165 - COMPLETED
================================================================================

6.1.2. Bộ điều khiển liên tục PID

Bộ điều khiển PID là bộ điều khiển đưa ra tác động điều khiển dựa trên các tác động thành phần bao gồm thành phần P, thành phần I và thành phần D.

❖ Thành phần P là thành phần có tác động tỷ lệ với độ lớn sai lệch điều khiển e(t)
❖ Thành phần I là thành phần có tác động tỷ lệ với tích phân sai lệch điều khiển e(t)
❖ Thành phần D là thành phần có tác động tỷ lệ với vi phân sai lệch điều khiển e(t)

Trong khi thành phần tỷ lệ P phản ứng với độ lớn của sai lệch điều khiển ở thời điểm hiện tại, thành phần tích phân I phản ứng với khoảng thời gian tồn tại của sai lệch điều khiển đến thời điểm hiện tại, thì thành phần vi phân D phản ứng với tốc độ thay đổi của sai lệch để dự báo xu hướng thay đổi của nó trong tương lai và đưa ra tác động điều khiển chống lại sự thay đổi đó.

Thuộc họ PID có những bộ điều khiển thông dụng như P, PI hay PID. Hai dạng mô tả bộ điều khiển PID thường sử dụng: dạng truyền thống và dạng chuẩn.

PID dạng truyền thống- hay còn gọi là dạng song song:

- Thuật toán PID truyền thống biểu diễn bởi công thức:

            u = ū + k_p·e + k_I·∫₀ᵗ e·dt + k_D·(de/dt)

- Tương ứng với hàm truyền:

            G_c = k_p + k_I/s + k_D·s

- Biểu diễn trên sơ đồ khối:

[Sơ đồ khối PID dạng song song]
E → [k_p] ────────────────────→ (+) → U
  → [1/s] → [k_I] (Integrator) ↗
  → [du/dt] → [k_D] (Derivative) ↗

Trong đó các thông số được gọi như sau:
k_p – hệ số khuếch đại tỷ lệ (proportional gain)
k_I – hệ số khuếch đại tích phân (integral gain)
k_D – hệ số khuếch đại vi phân (derivative gain)


================================================================================
Page 137 of 165 - COMPLETED
================================================================================

PID dạng chuẩn:

- Thuật toán PID dạng chuẩn biểu diễn bởi công thức:

            u = ū + k_c(e + (1/τ_I)·∫₀ᵗ e·dt + τ_D·(de/dt))

- Tương ứng với hàm truyền:

            G_c = k_c(1 + 1/(τ_I·s) + τ_D·s)

- Biểu diễn trên sơ đồ khối:

[Sơ đồ khối PID dạng chuẩn]
E → [k_c] → (+) → U
         ↑ [1/(τ_I·s)] (Integrator)
         ↑ [τ_D·s] (Derivative)

Trong đó các thông số của bộ điều khiển:

k_c = k_P là hệ số khuếch đại của bộ điều khiển.

τ_I = k_c/k_I là thời gian tích phân;

τ_D = k_D/k_c là thời gian vi phân.

Các thông số của bộ điều khiển có sự ảnh hưởng chéo lẫn nhau đến các chỉ tiêu chất lượng điều khiển. Đối với một số quá trình thông dụng, tác động của việc thay đổi một thông số độc lập có thể được tham khảo theo bảng sau:

                        Thay đổi thông số bộ điều khiển
| Chỉ tiêu chất lượng      | Tăng k_P  | Giảm τ_I   | Tăng τ_D   |
|--------------------------|-----------|------------|------------|
| Sai lệch tĩnh e_xl       | Giảm      | Triệt tiêu | Ít thay đổi|
| Thời gian điều chỉnh t_xl| Giảm      | Giảm       | Giảm ít    |
| Độ quá điều chỉnh POT    | Tăng      | Tăng       | Giảm ít    |


================================================================================
Page 138 of 165 - COMPLETED
================================================================================

6.1.3. Một số chỉ dẫn lựa chọn bộ điều khiển

6.1.3.1 Lựa chọn chiều tác động bộ điều khiển

Trong thực tế ứng dụng các bộ điều khiển phản hồi cần đặc biệt lưu ý lựa chọn chiều tác động của bộ điều khiển tương ứng với đối tượng điều khiển. Chiều tác động có liên quan đến việc chọn dấu của hệ số khuếch đại của bộ điều khiển. Có hai loại tác động: tác động thuận (Direct Acting, DA) và tác động nghịch (Reverse Acting, RA).

Bộ điều khiển có chiều tác động thuận (DA) nếu tín hiệu điều khiển (đầu ra của bộ điều khiển) là một hàm đồng biến với biến cần điều khiển của đối tượng điều khiển (nghĩa là tăng thì cùng tăng, giảm thì cùng giảm).

Ngược lại, bộ điều khiển có chiều tác động nghịch (RA) nếu tín hiệu điều khiển (đầu ra của bộ điều khiển) là một hàm nghịch biến với biến cần điều khiển của đối tượng điều khiển.

VÍ DỤ 6.2: điều khiển mức như trên Hình 6.7, các van điều khiển đều là đóng an toàn FC, nhưng chiều tác động của mỗi bộ điều khiển lại khác nhau:

[Hình 6.7 Ví dụ 6.2 chiều tác động điều khiển]

(a) Tác động điều khiển thuận: 
- Dòng vào F₁, đo mức, so sánh, điều khiển mức
- Van FC điều khiển dòng ra F₀
- Khi mức tăng → tín hiệu điều khiển tăng → van mở thêm → dòng ra tăng

(b) Tác động điều khiển nghịch:
- Dòng vào F₁, ρ₁, điều khiển mức, so sánh, đo mức
- Van FC điều khiển dòng vào
- Khi mức tăng → tín hiệu điều khiển giảm → van đóng bớt → dòng vào giảm

VÍ DỤ 6.3: điều khiển nhiệt độ trên Hình 6.8 van cấp hơi nước sử dụng van đóng an toàn FC. Khi mất tín hiệu van sẽ đóng, hơi nước không được cấp nhằm tránh tình trạng quá nhiệt cho quá trình.

[Hình 6.8 Ví dụ 6.3 - chiều tác động]
- G₃: Hơi bão hòa → FC van
- TIC-103: bộ điều khiển nhiệt độ, T_SP
- TT-103: thiết bị đo nhiệt độ
- G₀, T₃: Dòng quá trình
- T₂: Nước ngưng tụ

Bộ điều khiển phải có chiều tác động nghịch: khi nhiệt độ tăng, tín hiệu điều khiển giảm để đóng bớt van cấp hơi nước.



================================================================================
Page 139 of 165 - COMPLETED
================================================================================

[Hình 6.9 Chiều tác động điều khiển]

(a) Tác động thuận:
- Tín hiệu điều khiển u: từ 0% đến 100%
- Biến cần điều khiển CV: tăng dần
- Đồ thị thể hiện quan hệ đồng biến

(b) Tác động nghịch:
- Tín hiệu điều khiển u: từ 0% đến 100%
- Biến cần điều khiển CV: tăng dần
- Đồ thị thể hiện quan hệ nghịch biến

6.1.3.2 Lựa chọn quy luật điều khiển

Khi chọn quy luật điều khiển cần xuất phát từ các quan điểm sau đây:

❖ Ưu tiên chọn qui luật nào đơn giản nhất mà vẫn đảm bảo chất lượng yêu cầu. Việc lựa chọn quy luật điều khiển được dựa theo tỷ số giữa thời gian trễ và hằng số thời gian (θ/τ) của quá trình. Bộ điều chỉnh ON-OFF được chọn khi tỷ số này nhỏ hơn 0,2. Trong trường hợp ngược lại thì bộ điều chỉnh tác động liên tục được sử dụng. Khi tỷ số này lớn hơn 1 ta có thể sử dụng hệ thống điều chỉnh nhiều vòng.

❖ Bộ điều khiển P có tác động nhanh, làm việc được trên những đối tượng có quán tính và chỉ sử dụng khi cho phép độ sai lệch tĩnh có giá trị lớn.

❖ Bộ điều chỉnh PI có tác động đủ nhanh, có thể sử dụng với bất kỳ yêu cầu nào nếu thời gian điều chỉnh cho phép lớn hơn 5τ (τ là hằng số thời gian). Ngoài ra PI còn có khả năng triệt tiêu sai lệch tĩnh, vì vậy PI là bộ điều khiển thông dụng trong thực tế.

❖ Bộ điều chỉnh PID sử dụng trong trường hợp khi cần đạt thời gian điều chỉnh trong khoảng từ 4τ đến 6τ. Trong trường hợp không có quy luật điều chỉnh nào đáp ứng yêu cầu chất lượng thì sử dụng hệ điều chỉnh nhiều vòng.


================================================================================
Page 140 of 165 - COMPLETED
================================================================================

6.2 PHƯƠNG PHÁP XÁC ĐỊNH THÔNG SỐ BỘ ĐIỀU KHIỂN PID

6.2.1. Phương pháp dựa trên mô hình

Việc thiết kế bộ điều khiển PID dựa trên mô hình đã biết của quá trình sẽ rất thuận lợi. Trong phần này, chúng ta xem xét hai phương pháp thiết kế dựa trên mô hình: phương pháp tổng hợp trực tiếp và phương pháp IMC

6.2.1.1 Phương pháp tổng hợp trực tiếp (Direct synthesis, DS)

Hàm truyền của bộ điều khiển được tính toán từ hàm truyền của quá trình (Gp) và mô hình hàm truyền mong muốn của hệ thống điều khiển phản hồi (hệ kín, Gcl).

Xét sơ đồ khối của vòng điều khiển phản hồi quen thuộc như Hình 6.10, trong đó đã biết trước mô hình Gp của đối tượng hoá công nghệ.

[Hình 6.10 Sơ đồ khối điều khiển phản hồi]
- Ysp → E → Gc → U → Gp → Y
- Z → Gz ↓
- Y phản hồi về điểm so sánh

Hàm truyền của hệ thống điều khiển phản hồi được tính theo công thức:

Gcl = Y/Ysp = (Gc·Gp)/(1 + Gc·Gp)

Từ đó suy ra công thức tổng hợp trực tiếp của bộ điều khiển là hàm truyền Gc:

Gc = (1/Gp) · (Gcl/(1 - Gcl))

Nếu mô hình quá trình là một khâu không có trễ, ta chọn mô hình mẫu của hệ kín (hệ thống điều khiển) là khâu quán tính bậc nhất không trễ:

Gcl = 1/(τcl·s + 1)  thì hàm truyền của bộ điều khiển là  Gc = (1/Gp) · (1/(τcl·s))


================================================================================
Page 141 of 165 - COMPLETED
================================================================================

Trong đó τcl là hằng số thời gian của hệ kín mong muốn.

Nếu mô hình quá trình là một khâu có trễ, thời gian trễ là θ, ta chọn mô hình mẫu của hệ thống điều khiển (vòng kín) là khâu quán tính bậc nhất có thời gian trễ cũng bằng θ:

Gcl = (1/(τcl·s + 1)) · e^(-θs)

Khi đó ta có hàm truyền của bộ điều khiển cần thiết kế là:

Gc = (1/Gp) · (e^(-θs))/(τcl·s + 1 - e^(-θs))

Sử dụng phép xấp xỉ thành phần trễ ở mẫu số theo phép triển khai Taylor bậc nhất e^(-θs) ≈ 1 - θs ta có:

Gc = (1/Gp) · (e^(-θs))/(s(τcl + θ))

Đến đây ta xét 2 trường hợp với mô hình của quá trình:

(1) Trường hợp mô hình quá trình là FOPDT:

Hàm truyền quá trình quán tính bậc nhất có trễ:

Gp = (K·e^(-θs))/(τs + 1)

Thay vào biểu thức tính Gc ta có:

Gc = (1/((K·e^(-θs))/(τs + 1))) · (e^(-θs))/(s(τcl + θ)) = (τs + 1)/(K(τcl + θ)s)

⇒ Gc = (τ)/(K(τcl + θ)) · (1 + 1/(τs))

Ta nhận thấy Gc có dạng của bộ điều khiển PI: Gc = kc(1 + 1/(τi·s)),

với các tham số của bộ điều khiển:
┌
│ kc = τ/(K(τcl + θ))
│ τi = τ
└


================================================================================
Page 142 of 165 - COMPLETED
================================================================================

(2) Trường hợp Gp là SOPDT:

Quá trình quán tính bậc hai có hàm truyền là Gp = (K·e^(-θs))/((τ₁s + 1)(τ₂s + 1))

Thay vào biểu thức tính Gc rồi rút gọn ta được hàm truyền của bộ điều khiển PID:

Gc = kc(1 + 1/(τi·s) + τd·s)

với các tham số của bộ điều khiển:
┌
│ kc = (τ₁ + τ₂)/(K(τcl + θ))
│ τi = τ₁ + τ₂;
│ τd = (τ₁·τ₂)/(τ₁ + τ₂)
└

VÍ DỤ 6.4: Cho mô hình hàm truyền của quá trình cần điều khiển là

Gp = 2/(10s + 1)

Thiết kế bộ điều khiển PID theo phương pháp DS.

Hãy mô phỏng kết quả tính được với giá trị của hằng số thời gian hàm truyền vòng kín mong muốn trong các trường hợp: τcl = 1;  τcl = 10;  τcl = 30, giả sử giá trị đặt là hàm nấc đơn vị.

Đánh giá chất lượng bộ điều khiển khi có nhiễu bậc thang (hàm nấc đơn vị) tác động vào hệ thống tại thời điểm 20 phút. Giả sử hàm truyền của tác động nhiễu: Gz = 0,9/(10s + 1)

Tóm tắt lời giải:

Xác định các giá trị thông số bộ điều khiển cho từng trường hợp:

|          | τcl = 1  | τcl = 10 | τcl = 30 |
|----------|----------|----------|----------|
| kc       | 5        | 0,5      | 0.167    |
| τI       | 10       | 10       | 10       |

Xây dựng mô hình mô phỏng trên Simulink:


================================================================================
Page 143 of 165 - COMPLETED
================================================================================

[Đồ thị đáp ứng hệ thống]
- Trục Y: từ 0 đến 1.5
- Trục X: Thời gian từ 0 đến 50
- Đường đáp ứng tăng từ 0, đạt giá trị 1 và ổn định, có nhiễu tác động tại thời điểm ~20 phút

[Sơ đồ Simulink mô phỏng]
- Step Ysp → bộ so sánh → Integrator (1/s) → 5/10 → Gp (2/(10s+1)) → Scope
- Step Z → Gz (0.9/(10s+1)) → cộng vào đầu ra
- Khối 10/2 phản hồi

Hình 6.11 Mô hình mô phỏng cho trường hợp τc = 1

Ta nhận thấy với bộ điều khiển PI xác định theo phương pháp DS, hệ đáp ứng khá tốt với thay đổi giá trị đặt, đồ thị không có vọt lố. Với đáp ứng do nhiễu tác động, hệ cũng quay về giá trị chủ đạo, nhưng thời gian điều chỉnh lâu hơn (30 phút).

VÍ DỤ 6.5: Cho mô hình hàm truyền của quá trình cần điều khiển là

Gp = (0,9·e^(-s))/((10s + 1)(5s + 1))

Thiết kế bộ điều khiển PID theo phương pháp DS. Hãy xem xét ba giá trị của hằng số thời gian hàm truyền vòng kín mong muốn: τcl = 1min;  τcl = 3min;  τcl = 10min

Đánh giá bộ điều khiển khi đầu vào là hàm nấc đơn vị cho cả giá trị đặt và nhiễu, giả sử Gz = Gp.

Tóm tắt lời giải:


================================================================================
Page 144 of 165 - COMPLETED
================================================================================

Xác định các giá trị thông số bộ điều khiển cho từng trường hợp:

|          | τcl = 1min | τcl = 3min | τcl = 10min |
|----------|------------|------------|-------------|
| kc       | 8.33       | 4.17       | 1.51        |
| τI       | 15         | 15         | 15          |
| τD       | 3.33       | 3.33       | 3.33        |

Xây dựng mô hình mô phỏng trên Simulink:

[Đồ thị đáp ứng hệ thống]
- Trục Y: từ 0 đến 1.5
- Trục X: Thời gian từ 0 đến 160
- Đường đáp ứng có vọt lố nhỏ, sau đó ổn định tại giá trị 1
- Có nhiễu tác động khoảng thời điểm 80, hệ thống phục hồi

[Sơ đồ Simulink mô phỏng cho PID]
- Step Ysp1 → bộ so sánh → Integrator1 (1/s) → 8.33/15 → cộng với khâu đạo hàm
- Khâu Derivative1: du/dt → 8.33*3.33
- Khâu khuếch đại: 8.33
- Transfer Gp1 (0.9/(10s+1)) → Gp2 (1/(5s+1)) → Trễ2 → y(t)
- Step Z1 → Transfer Gz1 (0.9/(10s+1)) → Gz2 (1/(5s+1)) → Trễ1 → cộng vào đầu ra

Hình 6.12 Mô hình mô phỏng và Đáp ứng quá độ cho trường hợp τc = 1

Ta nhận thấy với bộ điều khiển PID xác định theo phương pháp DS, hệ đáp ứng khá tốt với thay đổi giá trị đặt và với tác động nhiễu, cả về thời gian và độ chính xác, tuy nhiên đồ thị có vọt lố.


================================================================================
Page 145 of 165 - COMPLETED
================================================================================

6.2.1.2 Phương pháp IMC (Internal Model Control)

Một phương pháp thiết kế dựa trên mô hình toàn diện hơn có tên gọi là điều khiển mô hình nội tại (IMC), được phát triển bởi Morari và các cộng sự. Phương pháp IMC, giống như phương pháp DS, dựa trên hàm truyền quá trình và cho kết quả là hàm truyền của bộ điều khiển phản hồi tổng quát, từ đó có thể đơn giản hóa để đưa về dạng PID tổng quát. Sơ đồ khối đơn giản hóa cho hệ thống điều khiển phản hồi và IMC được so sánh trong Error! Reference source not found.. Trong sơ đồ IMC, mô hình quá trình G̃ được sử dụng để tính toán giá trị ước lượng đầu ra của quá trình Ỹ. Chênh lệch giữa giá trị thực tế Y và Ỹ, được sử dụng làm tín hiệu đầu vào cho bộ điều khiển IMC, Gc*. Trong thực tế (Ỹ ≠ Y) bởi vì luôn tồn tại sai lệch mô hình (G̃ ≠ G) cũng như các nhiễu không biết trước không được xác định trong mô hình (D≠ 0).

[Hình 6.13 Sơ đồ cấu trúc điều khiển IMC]

Sơ đồ 1 - Bộ điều khiển phản hồi Gc:
- Ysp → E → Gc → U → G → (+D) → Y
- Y phản hồi về điểm so sánh

Sơ đồ 2 - Cấu trúc IMC:
- Ysp → E* → Gc* → U → G → (+D) → Y
- U → G̃ → Ỹ
- Y - Ỹ phản hồi về điểm so sánh với Ysp

Hình 6.13 Sơ đồ cấu trúc điều khiển IMC

Từ sơ đồ IMC ta tính được:

Y = GU + D = G · (Gc*)/(1 - Gc*G̃) + D

Có thể thấy hai sơ đồ khối là tương đương nhau nếu hàm truyền của bộ điều khiển phản hồi là:


================================================================================
Page 146 of 165 - COMPLETED
================================================================================

Gc = Gc*/(1 - Gc*G̃)

Biểu thức của Y cũng được tính là:

Y = (Gc*G)/(1 + Gc*(G - G̃)) · Ysp + (1 - Gc*G)/(1 + Gc*(G - G̃)) · D

Trường hợp đặc biệt khi mô hình là hoàn hảo, G̃ = G, ta có

Y = Gc*G·Ysp + (1 - Gc*G)D

Bộ điều khiển IMC được thiết kế theo hai bước:

(1) Phân tích mô hình quá trình về dạng:
G̃ = G̃₊·G̃₋

Trong đó G̃₊ chứa thành phần trễ và các điểm không bên phải trục ảo nếu có, G̃₊ có hệ số khuếch đại tĩnh bằng 1.

(2) Xác định bộ điều khiển IMC:

Gc* = (1/G̃₋)·F

Trong đó F thường được chọn là dạng đơn giản F = 1/(τc·s + 1)^k, τc là hằng số thời gian của hệ kín, tham số k thường được chọn bằng 1.

Bảng dưới đây liệt kê một số công thức xác định thông số bộ điều khiển PID cho một số quá trình tiêu biểu, được Chien & Fruehauf đưa ra theo phương pháp IMC.

| Loại | Mô hình quá trình                    | k·kc           | τi         | τd              |
|------|--------------------------------------|----------------|------------|-----------------|
| A    | G = k/(τs + 1)                       | τ/τc           | τ          | -               |
| B    | G = k/((τ₁s + 1)(τ₂s + 1))          | (τ₁ + τ₂)/τc   | τ₁ + τ₂    | τ₁τ₂/(τ₁ + τ₂)  |
| C    | G = k/(τ²s² + 2ζτs + 1)             | 2ζτs/τc        | 2ζτs       | τ/(2ζs)         |
| D    | G = k/s                              | 2/τc           | 2τc        | -               |


================================================================================
Page 147 of 165 - COMPLETED
================================================================================

| Loại | Mô hình quá trình                    | k·kc                  | τi              | τd                    |
|------|--------------------------------------|-----------------------|-----------------|----------------------|
| E    | G = k/(s(τs + 1))                    | (2τc + τ)/τc²         | 2τc + τ         | 2τcτ/(2τc + τ)       |
| H    | G = k·e^(-θs)/(τs + 1)               | τ/(τc + θ)            | τ               | -                    |
| M    | G = k·e^(-θs)/s                      | (2τc + θ)/(τc + θ)²   | 2τc + θ         | -                    |
| N    | G = k·e^(-θs)/(s(τs + 1))            | (2τc + τ + θ)/(τc + θ)² | 2τc + τ + θ   | (2τc + θ)τ/(2τc + τ + θ) |

Một số chỉ dẫn lựa chọn τcl

Trong phương pháp tổng hợp trực tiếp và phương pháp IMC có một tham số thiết kế duy nhất τcl là hằng số thời gian của hệ kín. Bộ điều khiển hoạt động tốt phụ thuộc vào việc chỉnh định một giá trị thích hợp cho τcl. Nói chung, chọn τcl lớn làm cho bộ điều khiển bền vững hơn nhưng phải chấp nhận chậm hơn. Trong khi chọn τc nhỏ làm cho bộ điều khiển hoạt động nhanh hơn, nhưng lại làm cho tín hiệu điều khiển thay đổi mạnh hơn và kém bền vững với sai số của mô hình.

Có nhiều chỉ dẫn được công bố cho việc lựa chọn τcl dựa trên phân tích lý thuyết và / hoặc kinh nghiệm thực tế. Nhìn chung các tác giả đưa ra các khuyến nghị đối với mô hình FOPTD trong việc lựa chọn τcl:

- Theo Åström và Hägglund: τcl = 3θ cho điều khiển chặt
- Theo Blevins và cộng sự: τcl = (2-3)τ cho điều khiển chặt
- Theo Skogestad: τcl từ 0,5θ - 1,5θ.


================================================================================
Page 148 of 165 - COMPLETED
================================================================================

6.2.2. Các phương pháp chỉnh định thông số bộ điều khiển

Trong quá trình thiết kế hệ thống điều khiển, việc cài đặt bộ điều khiển sơ bộ được dựa trên hiểu biết về quá trình, mục tiêu điều khiển và kinh nghiệm trước đó. Sau khi một bộ điều khiển được cài đặt, các thông số cài đặt ban đầu có thể phải được hiệu chỉnh để đạt được yêu cầu bài toán điều khiển. Việc hiệu chỉnh trực tiếp tại hiện trường này được gọi bằng nhiều tên khác nhau: chỉnh định trực tuyến (on-line tuning), chỉnh định bộ điều khiển (controller tuning).

Việc chỉnh định bộ điều khiển được thử nghiệm tại nhà máy trên cơ sở thử và sai. Do đó, để giảm thời gian và công sức, thì các thông số từ thiết kế hệ thống điều khiển có thể được sử dụng làm cài đặt ban đầu, sau đó tinh chỉnh thêm cho phù hợp.

Trong phần này, chúng ta xem xét ba phương pháp quan trọng thường sử dụng để chỉnh định bộ điều khiển.

6.2.2.1 Phương pháp dựa trên đáp ứng nấc của quá trình

Phương pháp thứ nhất của Ziegler và Nichols (ZN-I) dùng để chỉnh định các thông số bộ điều khiển P, PI và PID dựa trên đường đáp ứng quá độ của đối tượng, thu được từ thực nghiệm. Quy trình thực nghiệm khá đơn giản:
- Đặt hệ thống ở chế độ điều khiển thủ công, điều chỉnh để hệ thống hoạt động ổn định tại điểm làm việc.
- Đưa một tác động nấc nhỏ (ví dụ: 3% đến 5%) vào quá trình thông qua thiết bị chấp hành và ghi lại diễn biến quá trình quá độ, đó là một đường cong đáp ứng của hệ hở (bao gồm cả quá trình, thiết bị chấp hành và thiết bị đo). Hai loại đường cong đáp ứng quá độ của hệ hở được thể hiện trên Hình 6.14.
- Kẻ tiếp tuyến tại điểm có độ dốc lớn nhất của đường cong đáp ứng, xác định được hai giá trị là điểm cắt với trục hoành θ và độ dốc a

Với đường đặc tính đáp ứng hàm nấc M/s như ở Hình 6.14a, ta tiến hành nhận dạng theo phương pháp kẻ tiếp tuyến. Mô hình ước lượng của quá trình là khâu quán tính bậc nhất có trễ với các tham số: hệ số khuếch đại k, hằng số thời gian τ và thời gian trễ θ được xác định từ đồ thị.

G = (k·e^(-θs))/(τs + 1)

Với đường đặc tính đáp ứng hàm nấc M/s như trên Hình 6.14b, ta tiến hành nhận dạng Mô hình ước lượng của quá trình là khâu tích phân với các tham số k' = a/M và thời gian trễ θ, trong đó a là độ dốc của đường tiếp tuyến.


================================================================================
Page 149 of 165 - COMPLETED
================================================================================

G = (k'·e^(-θs))/s

[Hình 6.14. Đường đáp ứng quá độ của hệ hở]

(a) Đường đáp ứng quá độ dạng quán tính bậc nhất có trễ:
- Trục Y: Ym
- Trục X: Thời gian
- Đường cong tăng từ 0 đến giá trị k.M
- Tiếp tuyến có độ dốc = a
- θ: thời gian trễ (điểm cắt trục hoành của tiếp tuyến)
- τ: hằng số thời gian

(b) Đường đáp ứng quá độ dạng tích phân có trễ:
- Trục Y: Ym
- Trục X: Thời gian
- Đường cong tăng tuyến tính sau thời gian trễ θ
- Độ dốc = a

Hình 6.14. Đường đáp ứng quá độ của hệ hở

Các tham số của bộ điều khiển được chỉnh định theo công thức trên bảng:

| Kiểu bộ điều khiển           | Gc                           | kc                      | τi    | τd    |
|------------------------------|------------------------------|-------------------------|-------|-------|
| Tỷ lệ (P)                    | kc                           | τ/(kθ) hay 1/(k'θ)      | -     | -     |
| Tỷ lệ - tích phân (PI)       | kc(1 + 1/(τi·s))            | 0,9τ/(kθ) hay 0,9/(k'θ) | 3,3θ  | -     |
| Tỷ lệ - tích phân- vi phân (PID) | kc(1 + 1/(τi·s) + τd·s) | 1,2τ/(kθ) hay 1,2/(k'θ) | 2θ    | 0,5θ  |

Phương pháp ZN-I có nhược điểm là không áp dụng được cho quá trình không ổn định (trừ khi chỉ chứa một khâu tích phân bậc nhất) và phương pháp kẻ tiếp tuyến cho các số liệu kém chính xác. Theo kinh nghiệm phương pháp này chỉ áp dụng cho các quá trình có tỷ số θ/τ từ 0,1-0,6.


================================================================================
Page 150 of 165 - COMPLETED
================================================================================

VÍ DỤ 6.6: Xem xét hệ thống điều khiển phản hồi cho quá trình pha trộn trong bình khuấy được thể hiện trong Hình 6.15. Mục tiêu điều khiển là điều chỉnh ổn định thành phần dung dịch trong bình x=xsp. Biến điều khiển là lưu lượng w₂ của dòng nguyên chất A, biến nhiễu chính được giả định là thành phần đầu vào x₁. Van điều khiển được sử dụng là van điện, gắn trên đường ống dẫn dòng nguyên chất w₁.

[Hình 6.15 Lưu đồ điều khiển phản hồi quá trình pha trộn]
- AT-01: Thiết bị phân tích (Analyzer Transmitter)
- AC-01: Bộ điều khiển phân tích (Analyzer Controller)
- xsp: Giá trị đặt thành phần
- w₁, x₁: Dòng vào 1 với thành phần x₁
- w₂, x₂: Dòng vào 2 với thành phần x₂
- w, x: Dòng ra với thành phần x
- V, A, x: Bình khuấy với thể tích V, diện tích A, thành phần x
- h: Mức chất lỏng trong bình

Hình 6.15 Lưu đồ điều khiển phản hồi quá trình pha trộn

Để xác định các thông số của bộ điều khiển phản hồi PID, người ta tiến hành thử nghiệm đáp ứng của hệ hở với đầu vào là tác động nấc. Công việc thử nghiệm tiến hành như sau: chuyển chế độ điều khiển sang chế độ thủ công, điều chỉnh cho quá trình hoạt động ở trạng thái là việc ổn định. Sau đó đột ngột tăng tín hiệu cho van điều khiển từ 30% thành 43%. Đường cong đáp ứng của quá trình thu được được ghi lại trong Hình 6.16. Ta thấy rằng, thành phần dung dịch ra đo được thay đổi từ 35% đến 55% (được biểu thị bằng phần trăm của khoảng đo), tương đương với phần mol thay đổi từ 0,10 đến 0,30.


================================================================================
Page 151 of 165 - COMPLETED
================================================================================

[Hình 6.16 Đáp ứng hàm nấc của hệ hở]

Đồ thị gồm 2 phần:
- Phần trên: Tín hiệu điều khiển u (%)
  + Tác động nấc từ 30% lên 43%
  
- Phần dưới: Đáp ứng xm (%)
  + Đường đáp ứng quá độ từ 35% lên 55%
  + Điểm uốn được xác định
  + Tiếp tuyến tại điểm uốn cắt trục 35% tại t = 1,07 phút
  + Tiếp tuyến cắt trục 55% tại t = 4 phút
  + Trục X: Thời gian, phút (0 → 1,07 → 4)

Hình 6.16 Đáp ứng hàm nấc của hệ hở

Trước tiên ta xác định mô hình hàm truyền hệ hở bao gồm van điều khiển, quá trình và thiết bị đo: G = Gv·Gp·Gm

Mô hình FOPTD có thể được nhận dạng từ đường cong đáp ứng: trên đồ thị ta kẻ đường tiếp tuyến qua điểm uốn, nó cắt các đường nồng độ ban đầu (xm=35%) và nồng độ cuối (xm=55%) tại các điểm lần lượt là 1,07 phút và 4,00 phút.

Các thông số của mô hình FOPDT có thể tính như sau:

k = Δx/Δu = (55% - 35%)/(43% - 30%) = 1,54
θ = 1,07 min
τ = 4,00 - 1,07 = 2,93 min

Hàm truyền bậc nhất được viết dưới dạng: G = ΔX(s)/ΔU(s) = (k·e^(-θs))/(τs + 1) = (1,54·e^(-1,07s))/(2,93s + 1)


================================================================================
Page 152 of 165 - COMPLETED
================================================================================

Từ đó có thể xác định được các thông số bộ điều khiển PID, ví dụ nếu chọn bộ điều khiển PI có hàm truyền Gc = kc(1 + 1/(τi·s)) thì các thông số là:

kc = 0,9τ/(kθ) = (0,9 × 2,93)/(1,54 × 1,07) = 1,600
τi = 3,3θ = 3,3 × 1,07 = 3,531

Mô phỏng trên máy tính ta được:

[Hình 6.17 Đáp ứng đầu ra với bộ điều khiển PI]
- Trục Y: Nồng độ x, %
- Trục X: Thời gian, phút (0 → 20)
- Đường nét đứt: Giá trị đặt (40%)
- Đường màu đỏ: Không điều khiển - hệ hở (tăng từ 35% lên 55%)
- Đường màu xanh: Điều khiển PI - hệ kín (tăng từ 35% lên 40% và ổn định)

[Hình 6.18 Sơ đồ khối mô phỏng]

Phần hệ hở:
- u: 30%-43% → G (1.54/(2.93s+1)) → T/gian trễ → (+35 Nồng độ ban đầu, %)

Phần hệ kín với Bộ điều khiển PI:
- Giá trị đặt xsp = 40% → bộ so sánh → kc (1.6) → cộng với khâu tích phân
- Khâu tích phân: 1/s → 1/τi (1/3.531)
- Đầu ra bộ điều khiển → G (1.54/(2.93s+1)) → T/gian trễ → (+35) → x

Hình 6.18 Sơ đồ khối mô phỏng


================================================================================
Page 153 of 165 - COMPLETED
================================================================================

6.2.2.2 Phương pháp dựa trên đặc tính dao động tới hạn

Ziegler-Nichols đưa ra phương pháp thứ hai (ZN-II) dựa trên các tham số thu được từ thực nghiệm khi đưa hệ thống đến trạng thái dao động tới hạn.

Quy trình thực hiện chỉnh định như sau:
- Đặt hệ thống ở chế độ điều khiển thủ công, điều chỉnh để hệ thống hoạt động ổn định tại điểm làm việc.
- Chuyển hệ thống sang chế độ điều khiển tự động với bộ điều khiển tỷ lệ P, với hệ số kp đủ bé.
- Tăng dần hệ số kc cho tới khi hệ đạt trạng thái dao động tới hạn, tức là đầu ra y(t) có dao động điều hoà. Giá trị các tham số kc khi đó gọi là hệ số khuếch đại tới hạn Kth và chu kỳ dao động gọi là chu kỳ dao động tới hạn Tth.
- Tuỳ thuộc vào việc chọn bộ điều khiển P, PI hay PID mà các tham số của chúng được tính dựa theo công thức ở bảng dưới đây:

Xác định tham số cho các dạng bộ điều khiển PID như sau:

| Kiểu bộ điều khiển           | Gc                           | kc       | τi       | τd        |
|------------------------------|------------------------------|----------|----------|-----------|
| Tỷ lệ (P)                    | kc                           | 0,5Kth   | 0        | 0         |
| Tỷ lệ - tích phân (PI)       | kc(1 + 1/(τi·s))            | 0,45Kth  | Tth/1,2  | 0         |
| Tỷ lệ - tích phân- vi phân (PID) | kc(1 + 1/(τi·s) + τd·s) | 0,6Kth   | 0,5Tth   | 0,125Tth  |

Nhược điểm của phương pháp này là quá trình thử nghiệm để hệ đạt trạng thái dao động tới hạn phải thực hiện lặp đi lặp lại có thể dẫn tới sự mất ổn định của hệ thống, các thông số công nghệ có thể vượt qua giới hạn kiểm soát, ảnh hưởng đến chất lượng sản phẩm và an toàn. Ngoài ra phương pháp ZN-2 cũng cho hệ số tắt dần khoảng 0,25 nên đáp ứng của hệ thống với giá trị đặt hơi quá dao động và có độ quá điều chỉnh lớn.

Để khắc phục nhược điểm này Tyreus và Luyben đã đề xuất các quy tắc hiệu chỉnh tham số dẫn đến phản ứng dao động ít hơn. Bằng cách giảm hệ số khuếch đại và tăng thời gian vi phân và thời gian tích phân, các quy tắc của họ được thể hiện trong Bảng dưới đây:

| Kiểu bộ điều khiển           | Gc                           | kp       | τi       | τd        |
|------------------------------|------------------------------|----------|----------|-----------|
| Tỷ lệ - tích phân (PI)       | kc(1 + 1/(τi·s))            | Kth/3,2  | 2,2Tth   | 0         |
| Tỷ lệ - tích phân- vi phân (PID) | kc(1 + 1/(τi·s) + τd·s) | Kth/2,2  | 2,2Tth   | Tth/6,3   |


================================================================================
Page 154 of 165 - COMPLETED
================================================================================

VÍ DỤ 6.7: Cho hàm truyền quá trình như sau:

Gp = 1/((3s + 1)(2s + 1)(s + 1)) = 1/(6s³ + 11s² + 6s + 1)

Xác định các tham số bộ điều khiển PID theo phương pháp ZN-2 và Tyreus&Luyben.

Lời giải:
Lập mô hình mô phỏng tìm các tham số cho quá trình dao động điều hoà:

[Hình 6.19 Mô hình mô phỏng với bộ điều khiển P]
- Ysp → bộ so sánh → Kth=10 (P controller) → Quá trình Gp (1/(6s³+11s²+6s+1)) → Scope1

[Hình 6.20 Thay đổi kp đến khi hệ dao động điều hòa]
- Đồ thị dao động điều hòa với biên độ ổn định
- Trục Y: từ -2 đến 5
- Trục X: Thời gian từ 0 đến 30
- Cursor Measurements:
  + Time: 9.985s, Value: 1.70e+00
  + Time: 16.246s, Value: 1.67e+00
  + ΔT = 6.261s, ΔY = 2.893e-02
  + 1/ΔT = 159.709 mHz
  + ΔY/ΔT = 4.621 (Nul)

Từ đó xác định được Kth = 10, Tth = 6,261 phút.

Kết quả khi sử dụng bộ điều khiển PID với các tham số được tính toán dựa theo ZN-2 và T-Luyben thể hiện trên đồ thị đáp ứng giá trị đặt bậc thang trên Hình 6.21 và mô hình mô phỏng trên Hình 6.22.

[Hình 6.21 Đáp ứng quá độ hệ thống điều khiển theo ZN-2 và T-Luyben]
- Đồ thị so sánh đáp ứng giữa hai phương pháp:
  + Đường màu xanh: ZZ-1 cho quá trình Gp (ZN-2)
  + Đường màu cam: T-Luyben cho quá trình Gp
- Trục Y: từ 0 đến 1.6
- Trục X: Thời gian từ 0 đến 60
- Đáp ứng ZN-2 có độ quá điều chỉnh cao hơn (~1.5) và dao động nhiều hơn
- Đáp ứng T-Luyben êm hơn với độ quá điều chỉnh thấp hơn (~1.2)

[Hình 6.22 Mô hình mô phỏng kết quả]

Mô hình ZN-2:
- Ysp1 → bộ so sánh → Gain (6) → Integrator2 (1/s) → Gain (2/6.261) → bộ cộng → ZZ-1 cho quá trình Gp (1/(6s³+11s²+6s+1)) → Scope2
                    ↘ Derivative2 (du/dt) → Gain (6.261/8) ↗

Mô hình T-Luyben:
- Ysp2 → bộ so sánh → Gain (10/2.2) → Integrator3 (1/s) → Gain (1/(6.261*2.2)) → bộ cộng → T-Luyben cho quá trình Gp (1/(6s³+11s²+6s+1)) → Scope2
                     ↘ Derivative3 (du/dt) → Gain (6.261/6.3) ↗

================================================================================
Page 155 of 165 - COMPLETED
================================================================================

6.2.2.3 Phương pháp Role - Phản hồi

Phương pháp Role - Phản hồi (Relay – feedback tuning) chỉnh định tham số bộ điều khiển PID được sử dụng rất phổ biến. Phương pháp này do Astrom và Hagglun đưa ra, nó có ưu điểm là tránh được việc thử sai nhiều lần và giảm thiểu khả năng đưa quá trình đến quá gần tới giới hạn ổn định cho phép. Cấu trúc phương pháp này được thể hiện trên Error! Reference source not found. nhằm tìm đặc tính dao động tới hạn của quá trình bằng cách dùng một khâu Role- một bộ điều khiển trạng thái.

[Hình 6.23 Phương pháp Role – phản hồi]
- Sơ đồ khối:
  + SP (1) → bộ so sánh → Role (d/-d) → u → Quá trình Gp → y(t) → đáp ứng (phản hồi về bộ so sánh)
- Đồ thị đầu vào u: Tín hiệu xung vuông có biên độ 2d
- Đồ thị đáp ứng y(t): Dao động điều hòa với biên độ 2a và chu kỳ Tth

Quy trình thực hiện như sau:
- Sử dụng bộ điều khiển phản hồi ON-OFF (Role) đầu ra U có biên độ d.
- Khi đầu ra của quá trình đạt trạng thái dao động tới hạn, ghi lại biên độ đầu ra a và chu kỳ dao động Tth. Hệ số khuếch đại tới hạn được tính theo công thức:

Kth = 4d / (a·π)

Các tham số của bộ điều khiển sẽ được tính theo luật chỉnh định ZN-II

================================================================================
Page 156 of 165 - COMPLETED
================================================================================

6.2.3. Phần mềm hiệu chỉnh tham số PID

Hầu hết các ứng dụng công nghiệp hiện đại không còn sử dụng các tính toán thủ công để xác định các thông số bộ điều khiển. Thay vào đó, phần mềm mô phỏng và chỉnh định tự động bộ điều khiển và tối ưu hóa vòng lặp được dùng để đảm bảo kết quả chắc chắn. Những gói phần mềm này sẽ tập hợp dữ liệu, phát triển các mô hình xử lý, và đề xuất phương pháp điều chỉnh tối ưu. Vài gói phần mềm thậm chí còn có thể phát triển việc điều chỉnh bằng cách thu thập dữ liệu từ các thay đổi tham khảo.

Để thực hiện chỉnh định tham số PID trên phần mềm Matlab&Simulink, ta cần xây dựng sơ đồ khối mô phỏng hệ thống điều khiển, bao gồm cả mô hình quá trình và bộ điều khiển. Kết hợp với các chức năng tính toán, vẽ đồ thị, phần mềm này giúp chúng ta thực hiện khảo sát, thử nghiệm và lựa chọn các thông số tối ưu của bộ điều khiển.

Công cụ PID Tuner trong phần mềm Matlab&Simulink sẽ tự động cung cấp các thông số bộ điều khiển PID cho bất kỳ mô hình quá trình nào trong vòng vài giây.

VÍ DỤ 6.8: Với mô hình của đối tượng là: Gp = 1/((3s+1)(2s+1)(s+1)) = 1/(6s³+11s²+6s+1)

Để xác định bộ điều khiển PID cho đối tượng này, trước hết ta xây dựng sơ đồ khối mô phỏng sử dụng các khối chức năng quen thuộc trong Matlab&Simulink và khối PID.

Nếu chỉ cần mô phỏng khi đã biết các thông số của bộ điều khiển, ta chỉ cần khai báo các thông số đó trong khối PID như Hình 6.24 (thông số từ phương pháp ZN-II).

[Hình 6.24 Mô phỏng bộ PID theo ZN-II]
- Sơ đồ khối Simulink:
  + Step → PID Controller (PID(s)) → Transfer Fcn (1/(6s³+11s²+6s+1)) → Scope

- Cửa sổ Block Parameters: PID Controller
  + Controller: PID
  + Form: Ideal
  + Time domain:
    * Continuous-time (được chọn)
    * Discrete-time
  + Main | PID Advanced | Data Types | State Attributes
  + Controller parameters:
    * Source: internal
    * Proportional (P): 6
    * Integral (I): 2/6.621
    * Derivative (D): 6.621/8
    * Filter coefficient (N): 100
  + Nút: Tune... | OK | Cancel | Help | Apply

- Đồ thị Transfer Fcn1: Đáp ứng quá độ
  + Trục Y: 0 đến 1.4
  + Trục X: 0 đến 40
  + Đường cong có độ quá điều chỉnh khoảng 1.4, dao động và ổn định tại giá trị 1

================================================================================
Page 157 of 165 - COMPLETED
================================================================================

Trong trường hợp sử dụng chức năng tự động xác định thông số bộ điều khiển PID. Tại giao diện chính của khối PID Tuner, chúng ta cần quan tâm các nút chức năng quan trọng sau:

- Output Saturation: Giới hạn tín hiệu đầu ra của khối PID, cần quan tâm giới hạn này theo khả năng của thiết bị chấp hành trong thực tế để tăng tính chính xác trong mô phỏng.

- Filter coefficient: Hệ số lọc N. Do thành phần vi phân của bộ PID đáp ứng quá nhanh với thay đổi của sai lệch nên cũng rất nhạy cảm với nhiễu đo. Để khắc phục vấn đề này người ta xấp xỉ khâu vi phân bằng cách bổ sung hệ số lọc N. Thông thường nếu hệ thực có cảm biến tương đối chính xác, có thể dùng hệ số này lớn và ngược lại.

Automated tuning: Chức năng hữu ích trong việc tự động tìm một bộ thông số PID có chất lượng điều khiển tốt. Để chức năng này hoạt động, cần nhấn nút Apply để hàm truyền được tải vào khối PID. Để thực hiện tự động tìm bộ thông số PID, ta nhấn nút Tune... phần mềm sẽ tính toán bộ điều khiển và hiển thị đáp ứng quá độ như Hình 6.25

[Hình 6.25 Đáp ứng quá độ sử dụng PID Tuner]
- Giao diện PID Tuner (untitled/PID Controller) - Step Plot: Reference tracking
- Thanh công cụ:
  + Plant: Type: PIDF, Form: Standard
  + Domain: Time
  + Options, Add Plot
  + Display: Step Plot, Show Block Response
  + Design, Focus: Balanced
  + Response (seconds), Robustness
  + Response time: 4.579, Transient Behavior
  + Reset Design, Show Parameters, Update Block
- Đồ thị Step Plot: Reference tracking
  + Trục Y (Amplitude): 0 đến 1
  + Trục X (Time seconds): 0 đến 20
  + Hai đường:
    * Tune tự động (nét liền màu xanh) - đáp ứng êm, không quá điều chỉnh
    * ZN-II (nét đứt) - đáp ứng có độ quá điều chỉnh lớn
- Controller Parameters: P = 2.32, I = 0.2109, D = 1.174, N = 49.48

Như thấy trên hình, đồ thị đáp ứng được thể hiện trong cả hai trường hợp Tune tự động (đường nét liền) và đáp ứng theo ZN-II (nét đứt) để chúng ta dễ so sánh. Ngoài ra trên cửa sổ này còn có các thông tin quan trọng giúp ta có thể tối ưu chất lượng điều khiển:
- Response Time: Thời gian đáp ứng quá độ, cũng là thời gian điều khiển. Bằng cách dịch

================================================================================
Page 158 of 165 - COMPLETED
================================================================================

chuyển thanh trượt, ta có thể hiệu chỉnh thời gian đáp ứng nhanh hơn hoặc chậm hơn. Tuy nhiên khi chọn đáp ứng nhanh thì phải chấp nhận quá điều chỉnh lớn.

Transient behavior: tạm dịch "đáp ứng tức thời" với 2 thái cực là aggressive và robust mang nghĩa tương đồng với đáp ứng có độ quá điều chỉnh lớn và nhỏ.

Sau khi lựa chọn được hình dạng đồ thị phù hợp, ta sử dụng nút Update Block để tải bộ thông số PID về khối PID controller. Để chạy mô phỏng, trên màn hình chính của Simulink, ta chọn thời gian chạy mô phỏng và nhấn nút Run để tiến hành mô phỏng.

================================================================================
Page 159 of 165 - COMPLETED
================================================================================

PHỤ LỤC

Phụ lục 1: Sử dụng MATLAB để khảo sát đặc tính của hệ thống

Khởi động và chọn NewScript ta gõ các lệnh sau đây để khảo sát đáp ứng của hệ thống:

num=[b₀ b₁ bₘ₋₁ bₘ];    % Định nghĩa tử số nếu hệ số nào không có ta gán bằng 0
den=[a₀ a₁ aₙ₋₁ aₙ];    % Định nghĩa mẫu số nếu hệ số nào không có, gán bằng 0
G=tf(num,den);          % Định nghĩa hàm truyền G
step(G)                 % Vẽ đáp ứng quá độ h(t)
impulse(G)              % Vẽ đáp ứng xung g(t)

hold on: % giữ hình vẽ hiện tại trong cửa sổ Figure. Lệnh này hữu ích khi ta cần vẽ nhiều biểu đồ trong cùng một cửa sổ Figure. Sau khi vẽ xong biểu đồ thứ nhất, ta gõ lệnh hold on để giữ lại hình vẽ sau đó vẽ tiếp các biểu đồ khác. Các biểu đồ lúc sau sẽ vẽ đè lên biểu đồ thứ nhất trong cùng một cửa sổ Figure này. hold off: %nếu không muốn giữ biểu đồ trên Figure.

grid on: kẻ lưới trên cửa sổ Figure. grid off: nếu không muốn kẻ lưới.

Ví dụ: khảo sát đặc tính của hệ thống sau: G = 1/(2,34s² + 0,84s + 1)

[Hình minh họa MATLAB Editor và đồ thị]

Code MATLAB (example_hambac2.m):
```matlab
% Khảo sát dao động bậc 2
num = [1 1] % tử số hàm truyền  
denom = [2.34 0.84 1] % mẫu số hàm truyền
G = tf(num, denom) % hàm truyền của hệ thống
step(G)
grid on
```

Đồ thị Step Response:
- Trục Y (Amplitude): 0 đến 2.5
- Trục X (Time seconds): 0 đến 25
- Đáp ứng có dạng dao động tắt dần, ổn định tại giá trị 1

Code MATLAB (impulse response):
```matlab
% Khảo sát dao động bậc 2
num = [1 1] % tử số hàm truyền
denom = [2.34 0.84 1] % mẫu số hàm truyền
G = tf(num, denom) % hàm truyền của hệ thống
impulse(G)
grid on
```

Đồ thị Impulse Response:
- Trục Y (Amplitude): -0.2 đến 0.4
- Trục X (Time seconds): 0 đến 40
- Đáp ứng xung có dạng dao động tắt dần về 0

Sau đó nhấn Run để thực hiện và xem kết quả.

================================================================================
Page 160 of 165 - COMPLETED
================================================================================

Phụ lục 2: Hướng dẫn mô phỏng sử dụng Simulink

SIMULINK là một công cụ trong Matlab để xây dựng các mô hình một cách trực quan và dễ hiểu. Để mô tả hay xây dựng hệ thống ta chỉ cần liên kết các khối có sẵn trong thư viện của SIMULINK lại với nhau. Sau đó, tiến hành mô phỏng hệ thống để xem xét ảnh hưởng của bộ điều khiển đến đáp ứng của hệ thống và đánh giá chất lượng hệ thống.

I. CHUẨN BỊ:

Để thực hiện các yêu cầu trong môn học này, sinh viên cần phải chuẩn bị kỹ và hiểu rõ các khối cơ bản cần thiết trong thư viện của SIMULINK. Sau khi khởi động Matlab, ta gõ lệnh simulink hoặc nhấn biểu tượng simulink thì cửa sổ SIMULINK hiện ra.

[Hình minh họa giao diện MATLAB và Simulink Start Page]
- Giao diện MATLAB với các menu: HOME, PLOTS, APPS
- Các nút: New, Open, Compare, Import Data, Save Workspace, etc.
- Current Folder hiển thị các file: phase_margin.m, pidtool.m, rootdesign.m, etc.
- Cửa sổ Simulink Start Page:
  + SIMULINK logo
  + Open, New, Examples
  + Recent files list
  + My Templates
  + Các mẫu: Blank Model, Basic Library, etc.

Tiếp theo nhấn con trỏ chuột vào biểu tượng Blank Model để tạo giao diện mô phỏng mới. sau đó chọn biểu tượng Library Browser để hiện ra các khối công cụ chức năng sử dụng cho mô phỏng.

[Hình minh họa Simulink Library Browser và cửa sổ mô hình]
- Simulink Library Browser với danh sách thư viện:
  + Simulink
    * Commonly Used Blocks
    * Continuous
    * Dashboard
    * Discontinuities
    * Discrete
    * Logic and Bit Operations
    * Lookup Tables
    * Math Operations
    * Model Verification
    * Model-Wide Utilities
    * Ports & Subsystems
    * Signal Attributes
    * Signal Routing
    * Sinks
    * Sources
    * User-Defined Functions
    * Additional Math & Discrete
    * Control System Toolbox
    * Simulink 3D Animation
    * Simulink Coder
    * Simulink Control Design
    * Simulink Extras
    * Simscape
    * System Identification Toolbox
    * Recently Used Blocks

- Các khối thường dùng: Commonly Used Blocks, Continuous, Dashboard, Discontinuities, Discrete, Logic and Bit Operations, Lookup Tables, Math Operations, Model Verification, Ports & Subsystems, Signal Attributes, Signal Routing, Sinks, Sources

================================================================================
Page 161 of 165 - COMPLETED
================================================================================

II. Các khối được chức năng hay sử dụng:

a. Các khối nguồn – tín hiệu vào (sources):

┌─────────────┬────────────────────────────────────────────────────────────────┐
│   [Step]    │ Khối Step có chức năng xuất ra tín hiệu hàm bậc thang. Kích   │
│             │ kép chuột vào khối này để cài đặt các thông số:               │
│             │ • Step time: khoảng thời gian đầu ra chuyển sang mức Final    │
│             │   value kể từ lúc bắt đầu mô phỏng. Cài đặt giá trị này bằng 0│
│             │ • Initial value: Giá trị ban đầu. Cài đặt bằng 0.             │
│             │ • Final value: Giá trị lúc sau. Cài đặt theo giá trị ta muốn  │
│             │   tác động tới hệ thống. Nếu là hàm bậc thang đơn vị thì giá  │
│             │   trị này bằng 1.                                              │
│             │ • Sample time: thời gian lấy mẫu. Cài đặt bằng 0.             │
├─────────────┼────────────────────────────────────────────────────────────────┤
│  [Signal    │ Khối Signal Generator là bộ phát tín hiệu xuất ra các tín    │
│  Generator] │ hiệu hình sin, hình vuông, hình răng cưa và ngẫu nhiên (cài  │
│             │ đặt các dạng hình này trong mục Wave form).                   │
└─────────────┴────────────────────────────────────────────────────────────────┘

b. Các khối tải – thiết bị khảo sát ngõ ra (sinks):

┌─────────────┬────────────────────────────────────────────────────────────────┐
│   [Mux]     │ Khối Mux (ở thư viện Simulink \ Signals Routing) là bộ ghép  │
│             │ kênh nhiều ngõ vào 1 ngõ ra, từ ngõ ra này ta đưa vào Scope  │
│             │ để xem nhiều tín hiệu trên cùng một cửa sổ. Double click vào │
│             │ khối này để thay đổi số kênh đầu vào (trong mục Number of    │
│             │ inputs)                                                        │
├─────────────┼────────────────────────────────────────────────────────────────┤
│  [Scope]    │ Khối Scope (ở thư viện Simulink \ Sinks) là cửa sổ xem các   │
│             │ tín hiệu theo thời gian, tỉ lệ xích của các trục được điều   │
│             │ chỉnh tự động để quan sát tín hiệu một cách đầy đủ.          │
├─────────────┼────────────────────────────────────────────────────────────────┤
│ [XY Graph]  │ Khối XY Graph dùng để xem tương quan 2 tín hiệu trong hệ     │
│             │ thống                                                          │
└─────────────┴────────────────────────────────────────────────────────────────┘

c. Các khối xử lý – khối động học:

┌─────────────┬────────────────────────────────────────────────────────────────┐
│   [Sum]     │ Khối Sum (ở thư viện Simulink \ Math Operations) là bộ tổng  │
│             │ (cộng hay trừ) các tín hiệu, thường dùng để lấy hiệu số của  │
│             │ tín hiệu đặt với tín hiệu phản hồi. Double click để thay đổi │
│             │ dấu của bộ tổng.                                              │
└─────────────┴────────────────────────────────────────────────────────────────┘

================================================================================
Page 162 of 165 - COMPLETED
================================================================================

┌─────────────┬────────────────────────────────────────────────────────────────┐
│   [Gain]    │ Khối Gain (ở thư viện Simulink \ Math Operations) là bộ tỉ   │
│             │ lệ. Tín hiệu sau khi qua khối này sẽ được nhân với giá trị   │
│             │ Gain. Double click để thay đổi giá trị độ lợi Gain.          │
├─────────────┼────────────────────────────────────────────────────────────────┤
│ [Transfer   │ Khối Transfer Fcn (ở thư viện Simulink \ Continuous) là hàm  │
│    Fcn]     │ truyền của hệ tuyến tính. Double click để thay đổi bậc và    │
│   1/(s+1)   │ các hệ số của hàm truyền. Cài đặt các thông số:              │
│             │ - Numerator: các hệ số của đa thức tử số                      │
│             │ - Denominator: các hệ số của đa thức mẫu số                   │
├─────────────┼────────────────────────────────────────────────────────────────┤
│  [Relay]    │ Khối Relay (ở thư viện Simulink \ Discontinuities) là bộ     │
│             │ điều khiển role 2 vị trí có trễ (còn gọi là bộ điều khiển    │
│             │ ON-OFF). Các thông số:                                        │
│             │ - Switch on point: nếu tín hiệu đầu vào lớn hơn giá trị này  │
│             │   thì ngõ ra của khối Relay lên mức 'on'                      │
│             │ - Switch off point: nếu tín hiệu đầu vào nhỏ hơn giá trị này │
│             │   thì ngõ ra của khối Relay xuống mức 'off'                   │
│             │ - Output when on: giá trị của ngõ ra khi ở mức 'on'          │
│             │ - Output when off: giá trị của ngõ ra khi ở mức 'off'        │
│             │                                                                │
│             │ Nếu tín hiệu đầu vào nằm trong khoảng (Switch on point,      │
│             │ Switch off point) thì giá trị ngõ ra giữ nguyên không đổi.   │
├─────────────┼────────────────────────────────────────────────────────────────┤
│    [PID     │ Khối PID controller (ở thư viện Simulink Extras \ Additional │
│ Controller] │ Linear) là bộ điều khiển PID với:                            │
│             │ P: Tác động tỉ lệ (proportional term)                         │
│             │ I: Tác động tích phân (integral term)                         │
│             │ D: Tác động vi phân (derivative term)                         │
└─────────────┴────────────────────────────────────────────────────────────────┘

III. Các bước tiến hành để xây dựng một ứng dụng mới trong SIMULINK:

Kích chuột vào các thư viện để chọn khối cần tìm. Kích chuột trái vào khối này, sau đó kéo và thả vào cửa sổ ứng dụng vừa mới tạo ra. Double click vào khối này để cài đặt và thay đổi các thông số.

Chạy mô phỏng bằng cách vào menu Simulation / Start. Khi thời gian mô phỏng bằng giá trị Stop time thì quá trình mô phỏng dừng lại. Trong quá trình mô phỏng, nếu ta muốn dừng nửa chừng thì vào menu Simulation / Stop.

================================================================================
Page 163 of 165 - COMPLETED
================================================================================

Tài liệu tham khảo:

[1] D.E. Seborg, T.F. Edgar, D.A. Mellichamp, Process Dynamics and Control, 4th Ed., John Wiley, 2016.

[2] Hoàng Minh Sơn, Cơ sở hệ thống điều khiển quá trình, NXB Bách Khoa, Hà Nội, 2016.

[3] Беспалов А.В., Харитонов Н.И., Системы управления химико-технологическими процессами, М.: ИКЦ «Академкнига», 2007.

[4] Donald R. Coughanowr; Steven E. LeBlanc; Steven LeBlanc, Process Systems Analysis and Control, McGraw-Hill Higher Education, 2008.

[5] B. Wayne Bequette, Process Control: Modeling, Design, and Simulation, Prentice Hall Professional, 2003.

[6] Nguyễn Thị Phương Hà, Huỳnh Thái Hoàng, Lý thuyết điều khiển tự động, NXB Đại học Quốc Gia, TP. HCM, 2005.

[7] ANSI/ISA-5.1-2009, Instrumentation Symbols and Identification.

[8] William L. Luyben, Process Modeling, Simulation and Control for Chemical Engineers, McGraw-Hill, 1990.

================================================================================
Page 164 of 165 - COMPLETED
================================================================================

================================================================================
                           END OF DOCUMENT
================================================================================
                    Base Knowledge - Điều khiển quá trình
                         Tổng cộng: 165 trang
                    Hoàn thành chuyển đổi sang văn bản
================================================================================
